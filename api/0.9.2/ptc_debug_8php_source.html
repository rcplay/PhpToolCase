<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>PhpToolCase: PtcDebug.php Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="toolcaseedited.jpg"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">PhpToolCase
   </div>
   <div id="projectbrief">Api Documentation Version 0.9.2</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>User&#160;Guides</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('ptc_debug_8php_source.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">PtcDebug.php</div>  </div>
</div><!--header-->
<div class="contents">
<a href="ptc_debug_8php.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;&lt;?php</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">    * DEBUGGER &amp; LOGGER CLASS</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">    * &lt;br&gt;All class properties and methods are static because it&#39;s required </span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">    * to let them work on script shutdown when FATAL error occurs.</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">    * PHP version 5.3</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">    * @category     Library</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">    * @version  0.9.2</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">    * @author       Irony &lt;carlo@salapc.com&gt;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">    * @license      http://www.gnu.org/copyleft/gpl.html GNU General Public License</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">    * @link         http://phptoolcase.com</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    declare( ticks = 1 ); <span class="comment">// used by the watch var , function calls trace and code coverage utilities</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div>
<div class="line"><a name="l00017"></a><span class="lineno"><a class="line" href="class_ptc_debug.html">   17</a></span>&#160;    <span class="keyword">class </span><a class="code" href="class_ptc_debug.html">PtcDebug</a></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    {<span class="comment"></span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">        * Returns the buffer array</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">        * @return   the buffer array</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a3165a72de30f41af493ef0d53decb4a6">   23</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_ptc_debug.html#a3165a72de30f41af493ef0d53decb4a6">getBuffer</a>( ) { <span class="keywordflow">return</span> static::$_buffer; }    <span class="comment"></span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">        /** </span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">        * Retrieves the code coverage analysis data stored in the PtcDebug::$_finalCoverageData property</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a850f3a8c27d78c6fe220dfbaf31be5dd">   27</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_ptc_debug.html#a850f3a8c27d78c6fe220dfbaf31be5dd">getCoverage</a>( ) { <span class="keywordflow">return</span> static::$_finalCoverageData; }<span class="comment"></span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">        * Adds style properties to the floating panel styles array</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">        * @param    string      $css        some css to add</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a51302f1e8215e4f47b51856410f704c2">   32</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_ptc_debug.html#a51302f1e8215e4f47b51856410f704c2">addCss</a>( $css ){ static::$_panelCss = static::$_panelCss . <span class="stringliteral">&quot;\n&quot;</span> . $css; }<span class="comment"></span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">        * Checks if  the debug &quot;url_key&quot; and &quot;url_pass&quot; are set on the referer url. See @ref check_referer</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">        * @return   true if &quot;url_key&quot; and &quot;url_pass&quot; are in the referer url, otherwise false</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a33e5ad2a3207979e2df422cf2966c6ec">   37</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_ptc_debug.html#a33e5ad2a3207979e2df422cf2966c6ec">checkReferer</a>( )</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        {</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;            <span class="keywordflow">if</span> ( @array_key_exists( <span class="stringliteral">&#39;HTTP_REFERER&#39;</span> , @$_SERVER ) )</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;            { </div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;                $query = parse_url( $_SERVER[ <span class="stringliteral">&#39;HTTP_REFERER&#39;</span> ] , PHP_URL_QUERY );</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;                $params = array( );</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;                parse_str( $query , $params );</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;                <span class="keywordflow">if</span> ( @$params[ static::$_options[ <span class="stringliteral">&#39;url_key&#39;</span> ] ] == static::$_options[ <span class="stringliteral">&#39;url_pass&#39;</span> ] )</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;                {</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;                    $_GET[ static::$_options[ <span class="stringliteral">&#39;url_key&#39;</span> ] ] = $params[ static::$_options[ <span class="stringliteral">&#39;url_key&#39;</span> ] ];</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;                }</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;            }</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        }                                                   <span class="comment"></span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">        * Sets the error handler to be the debug class. good for production with &quot;$dieOnFatal&quot; set to false.</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">        * See @ref replaceErrorHandler</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">        * @param    string      $dieOnFatal     die if fatal error occurs</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a4e1ddc4f87a6c9936e074eee2c88ab9f">   57</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_ptc_debug.html#a4e1ddc4f87a6c9936e074eee2c88ab9f">setErrorHandler</a>( $dieOnFatal = <span class="keyword">true</span> )</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        {</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;            ini_set( <span class="stringliteral">&#39;display_errors&#39;</span> , <span class="keyword">false</span> );</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;            ini_set( <span class="stringliteral">&#39;html_errors&#39;</span> , <span class="keyword">false</span> );   </div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;            <span class="keywordflow">if</span> ( !@static::$_options[ <span class="stringliteral">&#39;error_reporting&#39;</span> ] )</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;            {</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                @static::$_options[ <span class="stringliteral">&#39;error_reporting&#39;</span> ] = static::$_defaultOptions[ <span class="stringliteral">&#39;error_reporting&#39;</span> ];</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;            }           </div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;            ini_set( <span class="stringliteral">&#39;error_reporting&#39;</span> , static::$_options[ <span class="stringliteral">&#39;error_reporting&#39;</span> ] );</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;            @static::$_options[ <span class="stringliteral">&#39;die_on_error&#39;</span> ] = $dieOnFatal;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;            set_error_handler( array( get_called_class( ) , <span class="stringliteral">&#39;errorHandler&#39;</span> ) ); </div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        }<span class="comment"></span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">        * Loads the debug interface and/or the console class if requested. See @ref dbg_getting_started</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">        * @param    array       $options        array of options, see PtcDebug::$ _defaultOptions</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#ac29c852d260a1bb5a98dc657c38d8fa4">   73</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_ptc_debug.html#ac29c852d260a1bb5a98dc657c38d8fa4">load</a>( $options = null )</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        {</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            $now = microtime( <span class="keyword">true</span> );</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;            <span class="keywordflow">if</span> ( defined( <span class="stringliteral">&#39;_PTCDEBUG_NAMESPACE_&#39;</span> ) )    <span class="comment">// check if the debug class is already loaded</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;            {</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                $err = array( <span class="stringliteral">&#39;errno&#39;</span> =&gt; static::_msgType( E_USER_NOTICE ),</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                            <span class="stringliteral">&#39;errstr&#39;</span> =&gt; <span class="stringliteral">&#39;Debug already loaded!&#39;</span>,<span class="stringliteral">&#39;errfile&#39;</span> =&gt; <span class="stringliteral">&#39;trace&#39;</span> );</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                static::_buildBuffer( <span class="stringliteral">&#39;log&#39;</span> , <span class="stringliteral">&#39;{errorHandler}&#39;</span> , $err );</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                <span class="keywordflow">return</span>; </div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;            }</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;            $called_class = get_called_class( );</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            <span class="comment">/* if error handler was called previously */</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;            <span class="keywordflow">if</span> ( @isset( static::$_options[ <span class="stringliteral">&#39;die_on_error&#39;</span> ] ) )</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;            { </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                static::$_defaultOptions[ <span class="stringliteral">&#39;die_on_error&#39;</span> ] = static::$_options[ <span class="stringliteral">&#39;die_on_error&#39;</span> ]; </div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;            }</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;            <span class="keywordflow">if</span> ( @isset( static::$_options[ <span class="stringliteral">&#39;error_reporting&#39;</span> ] ) )</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            { </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                static::$_defaultOptions[ <span class="stringliteral">&#39;error_reporting&#39;</span> ] = static::$_options[ <span class="stringliteral">&#39;error_reporting&#39;</span> ]; </div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;            }</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;            static::$_options = ( is_array( $options ) ) ? </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                array_merge( static::$_defaultOptions , $options ) : static::$_defaultOptions;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;            <span class="keywordflow">if</span> ( !$has_access = static::_checkAccess( ) ){ <span class="keywordflow">return</span>; }        <span class="comment">// check access with ips</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;            $buffer = <span class="stringliteral">&#39;Debug Info:&#39;</span>;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;            <span class="keywordflow">if</span> ( static::$_options[ <span class="stringliteral">&#39;check_referer&#39;</span> ] ){ static::checkReferer( ); }<span class="comment">// check if referer has debug vars</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            <span class="keywordflow">if</span> ( static::$_options[ <span class="stringliteral">&#39;session_start&#39;</span> ] )                 <span class="comment">// start session on request</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            {</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                <span class="keywordflow">if</span> ( session_id( ) === <span class="stringliteral">&#39;&#39;</span> )                     <span class="comment">// check if session is already active</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                { </div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                    session_start( ); </div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                    $buffer .= <span class="stringliteral">&#39;&lt;br&gt;Initialized browser session with session_start( )&#39;</span>;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                }</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                <span class="keywordflow">else</span>{ $buffer .= <span class="stringliteral">&#39;&lt;br&gt;Session id is &#39;</span> . session_id( ); }</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            }</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            <span class="keywordflow">if</span> ( !@$_SESSION ){ $_SESSION = array( ); }</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            <span class="keywordflow">if</span> ( !@$_SESSION[ <span class="stringliteral">&#39;ptcdebug&#39;</span> ] ){ $_SESSION[ <span class="stringliteral">&#39;ptcdebug&#39;</span> ] = array( ); }</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            <span class="keywordflow">if</span> ( @$_GET[ static::$_options[ <span class="stringliteral">&#39;url_key&#39;</span> ] ] == static::$_options[ <span class="stringliteral">&#39;url_pass&#39;</span> ] )</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            {</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                $_SESSION[ <span class="stringliteral">&#39;ptcdebug&#39;</span> ][ static::$_options[ <span class="stringliteral">&#39;url_key&#39;</span> ] ] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                $_SESSION[ <span class="stringliteral">&#39;ptcdebug&#39;</span> ][ <span class="stringliteral">&#39;code_highlighter&#39;</span> ]   = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                $_SESSION[ <span class="stringliteral">&#39;ptcdebug&#39;</span> ][ <span class="stringliteral">&#39;search_files&#39;</span> ] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                <span class="comment">//$buffer .= &#39;&lt;br&gt;PtcDebug turned on!&#39;;</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            }</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( @$_GET[ static::$_options[ <span class="stringliteral">&#39;url_key&#39;</span> ] . <span class="stringliteral">&#39;_off&#39;</span> ] == static::$_options[ <span class="stringliteral">&#39;url_pass&#39;</span> ] )</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            {</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                $_SESSION[ <span class="stringliteral">&#39;ptcdebug&#39;</span> ][ static::$_options[ <span class="stringliteral">&#39;url_key&#39;</span> ] ] = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                $_SESSION[ <span class="stringliteral">&#39;ptcdebug&#39;</span> ][ <span class="stringliteral">&#39;code_highlighter&#39;</span> ]   = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                $_SESSION[ <span class="stringliteral">&#39;ptcdebug&#39;</span> ][ <span class="stringliteral">&#39;search_files&#39;</span> ] = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;            }</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            <span class="keywordflow">if</span> ( static::_getSessionVars( static::$_options[ <span class="stringliteral">&#39;url_key&#39;</span> ] ) )</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            { </div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                static::$_startTime = microtime( <span class="keyword">true</span> );</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                <span class="keywordflow">if</span> ( static::$_options[ <span class="stringliteral">&#39;set_time_limit&#39;</span> ] )</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                { </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                    set_time_limit( static::$_options[ <span class="stringliteral">&#39;set_time_limit&#39;</span> ] ); </div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                }</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                <span class="keywordflow">if</span> ( static::$_options[ <span class="stringliteral">&#39;memory_limit&#39;</span> ] )</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                { </div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                    ini_set( <span class="stringliteral">&#39;memory_limit&#39;</span> , static::$_options[ <span class="stringliteral">&#39;memory_limit&#39;</span> ] ); </div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                }</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                <span class="keywordflow">if</span> ( static::$_options[  <span class="stringliteral">&#39;show_interface&#39;</span> ] || static::$_options[ <span class="stringliteral">&#39;debug_console&#39;</span> ] )</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                {   </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                    register_shutdown_function( array( $called_class , <span class="stringliteral">&#39;processBuffer&#39;</span> ) ); </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                }</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                <span class="keywordflow">if</span> ( static::$_options[ <span class="stringliteral">&#39;replace_error_handler&#39;</span> ] ) <span class="comment">// replace error handler</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                {</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                    static::setErrorHandler( static::$_options[ <span class="stringliteral">&#39;die_on_error&#39;</span> ] );</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                    $buffer .= <span class="stringliteral">&#39;&lt;br&gt;Error handler has been overridden!&#39;</span>;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                }</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                <span class="keywordflow">if</span> ( static::$_options[ <span class="stringliteral">&#39;catch_exceptions&#39;</span> ] )  <span class="comment">// set exception handler</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                {</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                    set_exception_handler( array( $called_class , <span class="stringliteral">&#39;exceptionHandler&#39;</span> ) );</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                    $buffer .= <span class="stringliteral">&quot;&lt;br&gt;Exception Handler turned on!&quot;</span>;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                }</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                <span class="keywordflow">if</span> ( static::$_options[ <span class="stringliteral">&#39;debug_console&#39;</span> ] ) <span class="comment">// try to laod the console class</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                {</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                    static::$_consoleStarted = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                    $buffer.=<span class="stringliteral">&#39;&lt;br&gt;Console debug turned on&#39;</span>;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                    <span class="keywordflow">if</span> ( file_exists( dirname( __FILE__ ) . <span class="stringliteral">&#39;/PhpConsole/__autoload.php&#39;</span> ) )</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                    {</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                        require_once( dirname(__FILE__).<span class="stringliteral">&#39;/PhpConsole/__autoload.php&#39;</span> );</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                        static::$_consoleStarted = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                        \PhpConsole\Helper::register( );</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                        $buffer .= <span class="stringliteral">&quot;, phpConsole class started!&quot;</span>;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                    }</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                    <span class="keywordflow">else</span>{ $buffer .= <span class="stringliteral">&#39;, but could not find phpConsole class!&#39;</span>; }</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                }</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                <span class="keywordflow">if</span> ( static::$_options[ <span class="stringliteral">&#39;enable_inspector&#39;</span> ] || static::$_options[ <span class="stringliteral">&#39;code_coverage&#39;</span> ] || </div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                                                    static::$_options[ <span class="stringliteral">&#39;trace_functions&#39;</span> ] )</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                { </div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                    register_tick_function( array( $called_class , <span class="stringliteral">&#39;tickHandler&#39;</span> ) ); </div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                    <span class="comment">//if ( static::$_options[ &#39;declare_ticks&#39; ] ) { declare( ticks = 1 ); }</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                    $buffer .= <span class="stringliteral">&quot;&lt;br&gt;Variables inspector enabled!&quot;</span>;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                }</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                <span class="keywordflow">if</span> ( static::$_options[ <span class="stringliteral">&#39;code_coverage&#39;</span> ] === <span class="stringliteral">&#39;full&#39;</span> ) </div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                { </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                    static::startCoverage( );</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                    $buffer .= <span class="stringliteral">&quot;&lt;br&gt;Code coverage analysis for all scripts enabled!&quot;</span>;                   </div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                }</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                <span class="keywordflow">if</span> ( static::$_options[ <span class="stringliteral">&#39;trace_functions&#39;</span> ] === <span class="stringliteral">&#39;full&#39;</span> ) </div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                { </div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                    static::startTrace( );</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                    $buffer .= <span class="stringliteral">&quot;&lt;br&gt;Function calls tracing for all scripts enabled!&quot;</span>;                   </div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                }</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                <span class="keywordflow">if</span> ( !static::_getSessionVars( <span class="stringliteral">&#39;show_messages&#39;</span> ) ){ static::_setSessionVars( ); }</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                <span class="keywordflow">if</span> ( @$_GET[ <span class="stringliteral">&#39;hidepanels&#39;</span> ] ){ static::_disablePanels( ); }</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                {</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                    static::$_options[ <span class="stringliteral">&#39;show_messages&#39;</span> ] = static::_getSessionVars( <span class="stringliteral">&#39;show_messages&#39;</span> );</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                    static::$_options[ <span class="stringliteral">&#39;show_globals&#39;</span> ] = static::_getSessionVars( <span class="stringliteral">&#39;show_globals&#39;</span> );</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                    static::$_options[ <span class="stringliteral">&#39;show_sql&#39;</span> ] = static::_getSessionVars( <span class="stringliteral">&#39;show_sql&#39;</span> );</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                    static::$_options[ <span class="stringliteral">&#39;show_w3c&#39;</span> ] = static::_getSessionVars( <span class="stringliteral">&#39;show_w3c&#39;</span> );</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                }</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                @define( <span class="stringliteral">&#39;_PTCDEBUG_NAMESPACE_&#39;</span> , $called_class ); </div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                static::$_tickTime = ( ( microtime( <span class="keyword">true</span> ) - $now ) + static::$_tickTime );</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                static::bufferLog( <span class="stringliteral">&#39;&#39;</span> , <span class="stringliteral">&#39;&lt;span&gt;&#39;</span> . $buffer . <span class="stringliteral">&#39;&lt;span&gt;&#39;</span> , <span class="stringliteral">&#39;Debug Loader&#39;</span> );</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            }</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        }<span class="comment"></span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment">        * The ticks handler to execute all tickable functions</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a94c503a11b3a0a7b962186f21ed9282e">  194</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_ptc_debug.html#a94c503a11b3a0a7b962186f21ed9282e">tickHandler</a>( )</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        {</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            <span class="comment">//$now = microtime( true );</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;            <span class="keywordflow">if</span> ( static::$_codeCoverage || static::$_functionTrace ) { $bt = debug_backtrace( ); }</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;            <span class="keywordflow">if</span> ( static::$_disableOpcode ) <span class="comment">// try to disable opcode cache</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            { </div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                static::_disableOpcodeCache( );</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                static::$_disableOpcode = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            }</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;            <span class="keywordflow">if</span> ( static::$_options[ <span class="stringliteral">&#39;enable_inspector&#39;</span> ] &amp;&amp; count( static::$_watchedVars ) ) </div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            { </div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                static::_watchCallback( ); </div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            }</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            <span class="keywordflow">if</span> ( static::$_codeCoverage ) { static::_codeCoverageAnalysis( $bt ); }</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            <span class="keywordflow">if</span> ( static::$_functionTrace ) { static::_traceFunctionCalls( $bt ); }</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            <span class="comment">//if ( static::$_options[ &#39;profiler&#39; ] ) { }</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            unset( $bt );</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            <span class="comment">// FIXME: the timer goes to minus here</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;            <span class="comment">//static::$_tickTime = ( ( microtime( true ) - $now ) + static::$_tickTime ); </span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        }<span class="comment"></span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment">        * Starts the code coverage analysis utility to find executed lines. See @ref codeCoverage</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00217"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#aa30152839dabc833c520cdc2251d10ae">  217</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_ptc_debug.html#aa30152839dabc833c520cdc2251d10ae">startCoverage</a>( )</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        {</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            <span class="keywordflow">if</span> ( @static::$_options[ <span class="stringliteral">&#39;code_coverage&#39;</span> ] )</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                <span class="keywordflow">if</span> ( static::$_codeCoverage &amp;&amp; static::$_options[ <span class="stringliteral">&#39;code_coverage&#39;</span> ] !== <span class="stringliteral">&#39;full&#39;</span> )</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                {</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                    static::bufferLog( <span class="stringliteral">&#39;Coverage already started, please use stopCoverage( ) </span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="stringliteral">                                        before starting a new one!&#39;</span>, <span class="stringliteral">&#39;&#39;</span> , <span class="stringliteral">&#39;Debugger Notice&#39;</span> );</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                }</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                static::$_codeCoverage = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            }</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        }<span class="comment"></span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment">        * Stops the code coverage analysis utility. See @ref codeCoverage</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a6a01aee9e9278a359d147ad0ee9669a4">  233</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_ptc_debug.html#a6a01aee9e9278a359d147ad0ee9669a4">stopCoverage</a>( )</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        {</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            <span class="keywordflow">if</span> ( static::$_options[ <span class="stringliteral">&#39;code_coverage&#39;</span> ] !== <span class="stringliteral">&#39;full&#39;</span> )</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                static::$_codeCoverage = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                <span class="keywordflow">if</span>( static::$_coverageData )</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                {</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                    static::$_finalCoverageData[ ] = static::$_coverageData;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                    static::$_coverageData = null;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                }</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;            }</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        }<span class="comment"></span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment">        * Starts the function calls trace utility. See @ref traceFunctions</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00248"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a8aa21cbdd1dec4aaacaf58b9eb4579e9">  248</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_ptc_debug.html#a8aa21cbdd1dec4aaacaf58b9eb4579e9">startTrace</a>( )</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            <span class="keywordflow">if</span> ( @static::$_options[ <span class="stringliteral">&#39;trace_functions&#39;</span> ] )</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            {</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                <span class="keywordflow">if</span> ( static::$_functionTrace &amp;&amp; static::$_options[ <span class="stringliteral">&#39;trace_functions&#39;</span> ] !== <span class="stringliteral">&#39;full&#39;</span> )</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                {</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                    static::bufferLog( <span class="stringliteral">&#39;Function calls tracing has been already started, please use stopTrace( ) </span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="stringliteral">                                            before starting a new one!&#39;</span> , <span class="stringliteral">&#39;&#39;</span> , <span class="stringliteral">&#39;Debugger Notice&#39;</span> );</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                }</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                static::$_functionTrace = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;            }</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        }<span class="comment"></span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment">        * Stops the function calls trace utility. See @ref traceFunctions</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00264"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a63f248208e06fda233d6aed79a221df1">  264</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_ptc_debug.html#a63f248208e06fda233d6aed79a221df1">stopTrace</a>( )</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        {</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            <span class="keywordflow">if</span> ( static::$_options[ <span class="stringliteral">&#39;trace_functions&#39;</span> ] !== <span class="stringliteral">&#39;full&#39;</span> )</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            {</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                static::$_functionTrace = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                <span class="keywordflow">if</span> ( static::$_traceData )</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                {</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                    static::$_finalTraceData[ ] = static::$_traceData;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                    static::$_traceData = null;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                }</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            }       </div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        }<span class="comment"></span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="comment">        * Excludes functions from the function calls tracing engine</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment">        * @param    array | string      $functions  the function the exclude by their name  </span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00280"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#aac5be9e07ddf80627d8e6bb9425d78a4">  280</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_ptc_debug.html#aac5be9e07ddf80627d8e6bb9425d78a4">excludeFromTrace</a>( $functions )</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        {</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;            $functions = ( is_array( $functions) ) ? $functions : array( $functions );</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            static::$_excludeFromTrace = array_merge( static::$_excludeFromTrace , $functions );</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        }<span class="comment"></span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment">        * Watches a variable that is in a declare(ticks=n); code block, for changes. See @ref variableInspector </span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment">        * @param    string  $variableName   the name of the variable to watch</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment">        * @param    string  $callback       a callback function that retrieves the variable</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00290"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a67c2dc7bf0a0a754970010bcfb7b7a54">  290</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_ptc_debug.html#a67c2dc7bf0a0a754970010bcfb7b7a54">watch</a>( $variableName , $callback = null )</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        {</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            <span class="keywordflow">if</span> ( @static::$_options[ <span class="stringliteral">&#39;enable_inspector&#39;</span> ] )</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            {</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                $var = ( $callback ) ? array( <span class="stringliteral">&#39;value&#39;</span> =&gt; $callback( ) , <span class="stringliteral">&#39;callback&#39;</span> =&gt; $callback ) : </div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                                                        static::_findWatchVar( $variableName );</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                static::$_watchedVars[ $variableName ] = $var;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                $value = ( $callback ) ? call_user_func( $callback ) : static::$_watchedVars[ $variableName ];      </div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                static::bufferLog( $value , <span class="stringliteral">&#39;Watching variable &lt;span style=&quot;font-weight:bold;&quot;&gt;$&#39;</span> . </div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                                                        $variableName . <span class="stringliteral">&#39;&lt;/span&gt; = &#39;</span> , <span class="stringliteral">&#39;Inspector&#39;</span> );</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            }</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            {</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                $err = array( <span class="stringliteral">&#39;errno&#39;</span> =&gt; static::_msgType( E_USER_NOTICE ) , <span class="stringliteral">&#39;errfile&#39;</span> =&gt; <span class="stringliteral">&#39;trace&#39;</span> , </div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                    <span class="stringliteral">&#39;errstr&#39;</span> =&gt; <span class="stringliteral">&#39;Please set to true [\&#39;enable_inspector\&#39;] option to be able to watch a variable&#39;</span> );</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                static::_buildBuffer( <span class="stringliteral">&#39;log&#39;</span> , <span class="stringliteral">&#39;{errorHandler}&#39;</span> , $err );</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            }</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        }<span class="comment"></span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment">        * Writes data to the messages panel. See @ref logging_data</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment">        * @param    mixed       $string     the string to pass</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment">        * @param    mixed       $statement      some statement if required</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="comment">        * @param    string      $category       a category for the messages panel</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00314"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a300fd174e5c0ed9bb01c3314e10d35f7">  314</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_ptc_debug.html#a300fd174e5c0ed9bb01c3314e10d35f7">bufferLog</a>( $string , $statement = null , $category = null )</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        { </div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            static::_buildBuffer( <span class="stringliteral">&#39;log&#39;</span> , $string , $statement , $category );</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        }<span class="comment"></span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment">        * Writes data to the sql panel. See @ref log_sql</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment">        * @param    mixed       $string     the string to pass</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="comment">        * @param    mixed       $statement      some statement if required</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="comment">        * @param    string      $category       a category for the sql panel</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00324"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a5668824b7ea27c63ee4dfccbf3e938a7">  324</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_ptc_debug.html#a5668824b7ea27c63ee4dfccbf3e938a7">bufferSql</a>( $string , $statement = null , $category = null )</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        { </div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;            static::_buildBuffer( <span class="stringliteral">&#39;sql&#39;</span> , $string , $statement , $category ); </div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        }<span class="comment"></span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment">        * Monitors the execution of php code, or sql queries based on a reference. See @ref execution_timing</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment">        * @param    string          $reference  a reference to look for (&quot;$statement&quot;)</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment">        * @param    string|numeric  $precision  sec/ms</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment">        * @return   true if a given reference is found, otherwise false</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00334"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a95aec73af35e021353fa3420e9ffce49">  334</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_ptc_debug.html#a95aec73af35e021353fa3420e9ffce49">stopTimer</a>( $reference = null , $precision = 1 )</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        {</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;            $now = microtime( <span class="keyword">true</span> );</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;            $last = static::_findReference( $reference , 1 );</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;            <span class="keywordflow">if</span> ( !$last ){ <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;            $time = ( $now - @$last[ <span class="stringliteral">&#39;data&#39;</span> ][ <span class="stringliteral">&#39;start_time&#39;</span> ] );</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;            <span class="keywordflow">switch</span>( $precision )</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;            {</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                <span class="keywordflow">case</span> 0 :        <span class="comment">// seconds</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                <span class="keywordflow">case</span> <span class="stringliteral">&#39;sec&#39;</span> :    <span class="comment">// seconds</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                    static::$_buffer[ $last[ <span class="stringliteral">&#39;key&#39;</span> ] ][ <span class="stringliteral">&#39;time&#39;</span> ] = round( $time , 3 ) . <span class="stringliteral">&#39; sec&#39;</span>;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                <span class="keywordflow">case</span> 1 :        <span class="comment">// millisecons</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                <span class="keywordflow">case</span> <span class="stringliteral">&#39;ms&#39;</span> :     <span class="comment">// millisecons</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                <span class="keywordflow">default</span> :</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                    static::$_buffer[ $last[ <span class="stringliteral">&#39;key&#39;</span> ] ][ <span class="stringliteral">&#39;time&#39;</span> ] = round( $time * 1000 , 3 ) . <span class="stringliteral">&#39; ms&#39;</span>;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;            }</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;            <span class="keywordflow">if</span> ( static::$_options[ <span class="stringliteral">&#39;debug_console&#39;</span> ] )</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;            {</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                static::$_buffer[ $last[ <span class="stringliteral">&#39;key&#39;</span> ] ][ <span class="stringliteral">&#39;console_time&#39;</span> ] = </div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                            static::$_buffer[ $last[ <span class="stringliteral">&#39;key&#39;</span> ] ][ <span class="stringliteral">&#39;time&#39;</span> ];</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;            }</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        }<span class="comment"></span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment">        * Convert memory_usage( ) into a readable format</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment">        * @param    float       $val            The value to convert</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment">        * @param    int     $precision      the decimal points</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00364"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#aee37357d12cf60e50bdc2fb6aee6a54d">  364</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_ptc_debug.html#aee37357d12cf60e50bdc2fb6aee6a54d">convertMemUsage</a>( $val , $precision = 2)</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;            $ram = array(<span class="stringliteral">&quot; Bytes&quot;</span>, <span class="stringliteral">&quot; KB&quot;</span>, <span class="stringliteral">&quot; MB&quot;</span>, <span class="stringliteral">&quot; GB&quot;</span>, <span class="stringliteral">&quot; TB&quot;</span>, <span class="stringliteral">&quot; PB&quot;</span>, <span class="stringliteral">&quot; EB&quot;</span>, <span class="stringliteral">&quot; ZB&quot;</span>, <span class="stringliteral">&quot; YB&quot;</span>);</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            <span class="keywordflow">return</span> $usage = ( $val ) ? @round( $val / pow( 1024 , </div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                    ($i = floor( log( $val , 1024) ) ) ) , $precision ) . $ram[ $i ] : <span class="stringliteral">&#39;0 Bytes&#39;</span>;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        }<span class="comment"></span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="comment">        * Handles php errors. See @ref replaceErrorHandler</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment">        * @param    string  $errno  error number (php standards)</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="comment">        * @param    string  $errstr error string</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment">        * @param    string  $errfile    error file</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="comment">        * @param    string  $errline    error line</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="comment">        @return true to prevent php default error handler to fire</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00378"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a65d78c87edffc7fb92c20c701b489307">  378</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_ptc_debug.html#a65d78c87edffc7fb92c20c701b489307">errorHandler</a>( $errno , $errstr , $errfile , $errline ) </div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        {</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;            <span class="keywordflow">if</span> ( error_reporting( ) == 0 ){ <span class="keywordflow">return</span>; }   <span class="comment">// if error has been supressed with an @</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;            $err = array( <span class="stringliteral">&#39;errno&#39;</span> =&gt; static::_msgType( $errno ) , <span class="stringliteral">&#39;errstr&#39;</span> =&gt; $errstr ,</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                                        <span class="stringliteral">&#39;errfile&#39;</span> =&gt; $errfile , <span class="stringliteral">&#39;errline&#39;</span> =&gt; $errline );</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;            static::_buildBuffer( <span class="stringliteral">&#39;log&#39;</span> , <span class="stringliteral">&#39;{errorHandler}&#39;</span> , $err );</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            <span class="comment">// stop if fatal error occurs</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;            <span class="keywordflow">if</span> ( static::$_options[ <span class="stringliteral">&#39;die_on_error&#39;</span> ] &amp;&amp; static::_msgType( $errno ) == <span class="stringliteral">&#39;Php Error&#39;</span>) { die( ); }</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;    <span class="comment">// don&#39;t execute php error handler</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        }<span class="comment"></span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="comment">        * Exception handler, catches exceptions that are not in a try/catch block</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="comment">        * @param    object  $exception      the exception object</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00392"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a156452ce157308c974bf0944e9f8bde8">  392</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_ptc_debug.html#a156452ce157308c974bf0944e9f8bde8">exceptionHandler</a>( $exception )</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        {</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;            $err = array( <span class="stringliteral">&#39;errno&#39;</span> =&gt; static::_msgType( <span class="stringliteral">&#39;exception&#39;</span> ) , <span class="stringliteral">&#39;errstr&#39;</span> =&gt; $exception-&gt;getMessage( ) ,</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                                <span class="stringliteral">&#39;errfile&#39;</span> =&gt; $exception-&gt;getFile( ) , <span class="stringliteral">&#39;errline&#39;</span> =&gt; $exception-&gt;getLine( ) );</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            static::_buildBuffer( <span class="stringliteral">&#39;log&#39;</span> , <span class="stringliteral">&#39;{errorHandler}&#39;</span> , $err );</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        }<span class="comment"></span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="comment">        * Attaches a message to the end of the buffer array to add data based on a reference. See @ref add_to_log </span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="comment">        * @param    string      $reference      a reference to look for (&quot;$statement&quot;)</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment">        * @param    mixed       $string     the message to show</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="comment">        * @param    string      $statement      a new statement if required</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="comment">        * @return   true if the given reference is found, false otherwise</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00405"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#ada73bfe34c52e60131fb496b7768cd20">  405</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_ptc_debug.html#ada73bfe34c52e60131fb496b7768cd20">addToBuffer</a>( $reference , $string , $statement = null )</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        {</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;            $raw_buffer = static::_findReference( $reference , 2 );</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            <span class="keywordflow">if</span> ( !$raw_buffer ){ <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;            $last = $raw_buffer[ <span class="stringliteral">&#39;data&#39;</span> ];</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;            <span class="keywordflow">if</span> ( @$string )</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;            {   </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                $last[ <span class="stringliteral">&#39;var_type&#39;</span> ] = gettype( $string );</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                $last[ <span class="stringliteral">&#39;errstr&#39;</span> ] = $string; </div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;            }</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;            <span class="keywordflow">if</span> ( $statement ){ $last[ <span class="stringliteral">&#39;errmsg&#39;</span> ] = $statement; }</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;            <span class="keywordflow">if</span> ( static::$_options[ <span class="stringliteral">&#39;debug_console&#39;</span> ] )</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;            {</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                $last[ <span class="stringliteral">&#39;console_string&#39;</span> ] = ( !@$string ) ? $last[ <span class="stringliteral">&#39;errstr&#39;</span> ] : $string;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                $last[ <span class="stringliteral">&#39;console_statement&#39;</span> ] = ( !@$statement ) ? $last[ <span class="stringliteral">&#39;errmsg&#39;</span> ] : $statement;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;            }</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;            @static::$_buffer[ $raw_buffer[ <span class="stringliteral">&#39;key&#39;</span> ] ] = $last;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        }<span class="comment"></span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="comment">        * Processes the buffer to show the interface and/or the console messages</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00427"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a3f303b7716094b77455ceb69ecc271bf">  427</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_ptc_debug.html#a3f303b7716094b77455ceb69ecc271bf">processBuffer</a>( )</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        {</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;            @unregister_tick_function( <span class="stringliteral">&#39;tickHandler&#39;</span> );</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;            static::$_countTime = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;            <span class="keywordflow">if</span> ( static::$_codeCoverage ) </div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            { </div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                $trace_o = static::$_options[ <span class="stringliteral">&#39;code_coverage&#39;</span> ];</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                static::$_options[ <span class="stringliteral">&#39;code_coverage&#39;</span> ] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                static::stopCoverage( );</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                static::$_options[ <span class="stringliteral">&#39;code_coverage&#39;</span> ] = $trace_o;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;            }</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;            <span class="keywordflow">if</span> ( static::$_functionTrace ) </div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;            {</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                $trace_o = static::$_options[ <span class="stringliteral">&#39;trace_functions&#39;</span> ];</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                static::$_options[ <span class="stringliteral">&#39;trace_functions&#39;</span> ] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                static::stopTrace( ); </div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                static::$_options[ <span class="stringliteral">&#39;trace_functions&#39;</span> ] = $trace_o;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;            }</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;            static::$_endTime = microtime( <span class="keyword">true</span> );</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;            <span class="keywordflow">if</span>( static::$_consoleStarted ){ static::_debugConsole(); }</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            <span class="keywordflow">if</span>( static::$_options[ <span class="stringliteral">&#39;show_interface&#39;</span> ] )</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            {</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                static::_lastError( );                  <span class="comment">// get last php fatal error</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                $interface = static::_buildInterface( );    <span class="comment">// build the interface</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                print $interface;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;            }</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        }<span class="comment"></span></div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="comment">        * Searches files for a string inside a given folder recursively. See @ref search_string</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="comment">        * @param    string      $query  the string to lok for</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment">        * @param    string      $path       a starting path to search recursively</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="comment">        * @param    int     $last       check last result</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="comment">        * @return   an html table with all results</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00461"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a335592042c1d696780d833e76dfd13bd">  461</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_ptc_debug.html#a335592042c1d696780d833e76dfd13bd">findString</a>( $query , $path = null , $last = 1 )</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        {</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;            $path = ( $path ) ? $path : dirname(__FILE__);</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;            $real_path = realpath( $path );</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;            <span class="keywordflow">if</span> ( !$real_path )  <span class="comment">// need to trigger error if path is not found</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;            {</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                trigger_error( <span class="stringliteral">&#39;The path &quot;&#39;</span> . $path . </div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                    <span class="stringliteral">&#39;&quot; does not exists or is not accessible!&#39;</span> , E_USER_WARNING );</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            }</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;            $fp = @opendir( $real_path );</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;            <span class="keywordflow">if</span> ( !$fp )     <span class="comment">// need to trigger error if path is not found</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;            {</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                trigger_error( <span class="stringliteral">&#39;The path &quot;&#39;</span> . $path .</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                    <span class="stringliteral">&#39;&quot; does not exists or is not accessible!&#39;</span> , E_USER_WARNING );</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;            }</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;            <span class="keywordflow">while</span> ( $f = readdir( $fp ) )</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;            {</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                <span class="keywordflow">if</span> ( preg_match( <span class="stringliteral">&#39;#^\.+$#&#39;</span> , $f ) ){ <span class="keywordflow">continue</span>; } <span class="comment">// ignore symbolic links</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;                $file_full_path = $real_path . DIRECTORY_SEPARATOR . $f;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                <span class="keywordflow">if</span> ( is_dir( $file_full_path ) )</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                { </div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                    @$result .=  static::findString( $query , $file_full_path , $last ); </div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;                } </div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;                {</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                    $file_lines = @file( $file_full_path );</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                    <span class="keywordflow">if</span> ( $file_lines )</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                    {</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                    $line_number = 1; </div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                    <span class="keywordflow">foreach</span> ( $file_lines as $line )</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                    { </div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                        $search_count = substr_count( $line , $query ); </div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                        <span class="keywordflow">if</span> ( $search_count &gt; 0 ) <span class="comment">// we found matches </span></div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                        { </div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                            $line = preg_replace( <span class="charliteral">&#39;|&#39;</span> . $query . <span class="charliteral">&#39;|&#39;</span>, </div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                            <span class="stringliteral">&#39;&lt;span style=&quot;color:yellow;font-weight:bold;&quot;&gt;&#39;</span> . $query . </div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                                                        <span class="stringliteral">&#39;&lt;/span&gt;&#39;</span> , htmlentities( $line ) );</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                            @$result .= <span class="stringliteral">&#39;&lt;tr&gt;&#39;</span>;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                            $result .= <span class="stringliteral">&#39;&lt;td style=&quot;white-space: nowrap;&quot;&gt;# &#39;</span> . $last . <span class="stringliteral">&#39;&lt;/td&gt;&#39;</span>;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                            $result .= <span class="stringliteral">&#39;&lt;td&gt;&lt;div style=&quot;color:blue;&quot;&gt;&#39;</span> . $file_full_path . <span class="stringliteral">&#39;&lt;/div&gt;&lt;/td&gt;&#39;</span>;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                            $result .= <span class="stringliteral">&#39;&lt;td&gt;&lt;div style=&quot;font-weight:bold;color:black;&quot;&gt;&#39;</span> . </div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                                                        $line_number . <span class="stringliteral">&#39;&lt;/div&gt;&lt;/td&gt;&#39;</span>;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                            $result .= <span class="stringliteral">&#39;&lt;td&gt;&lt;div style=&quot;color:darkred;font-weight:bold;&quot;&quot;&gt;&#39;</span> . $line . <span class="stringliteral">&#39;&lt;/div&gt;&lt;/td&gt;&#39;</span>;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                            $result .= <span class="stringliteral">&#39;&lt;td&gt;&lt;div style=&quot;font-weight:bold;color:red;&quot;&gt;</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;<span class="stringliteral">                                                        &#39;</span> . $search_count . <span class="stringliteral">&#39;&lt;/div&gt;&lt;/td&gt;&#39;</span>;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                            $result .= <span class="stringliteral">&#39;&lt;/tr&gt;&#39;</span>;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                            $last++;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                        } </div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                        $line_number++; </div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                    }}</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                }   </div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;            }</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;            <span class="keywordflow">return</span> @$result;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        }<span class="comment"></span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<span class="comment">        * File highlighter that opens a popup window inspect source code. See @ref file_inspector</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<span class="comment">        * @param    string  $file       the full path for the file</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;<span class="comment">        * @param    string  $line       the line to be highlighted</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;<span class="comment">        * @return   the html output of the source code</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00523"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#afb9aca86ed4ccf1d1d632ecef7d69923">  523</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_ptc_debug.html#afb9aca86ed4ccf1d1d632ecef7d69923">highlightFile</a>( $file , $line = null )</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        {</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;            $lines = implode( range( 1 , count( file ( $file ) ) ) , <span class="stringliteral">&#39;&lt;br /&gt;&#39;</span> ); </div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;            $content = highlight_file( $file , <span class="keyword">true</span> ); </div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;            <span class="keywordflow">if</span> ( $line )</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;            {</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                $line = $line - 1;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;                $l = explode( <span class="stringliteral">&#39;&lt;br /&gt;&#39;</span> , $content );</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                $l[ $line ] = <span class="stringliteral">&#39;&lt;div id=&quot;line&quot; style=&quot;display:inline;background-color:yellow;&quot;&gt;&#39;</span> . $l[ $line ] . <span class="stringliteral">&#39;&lt;/div&gt;&#39;</span>;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                $content = implode( <span class="stringliteral">&#39;&lt;br /&gt;&#39;</span> , $l );</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;            }</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;            $html = <span class="stringliteral">&#39; </span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="stringliteral">                &lt;style type=&quot;text/css&quot;&gt; </span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;<span class="stringliteral">                .num{float:left;color:gray;font-size:13px;</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<span class="stringliteral">                font-family:monospace;text-align:right;margin-right:6pt;</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="stringliteral">                padding-right:6pt;border-right:1px solid gray;} </span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="stringliteral">                body{margin:0px;margin-left:5px;}</span></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;<span class="stringliteral">                td{vertical-align:top;}code{white-space:nowrap;} </span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;<span class="stringliteral">                &lt;/style&gt;</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;<span class="stringliteral">                &lt;script&gt;</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="stringliteral">                window.onload=function() </span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="stringliteral">                {</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;<span class="stringliteral">                    var SupportDiv = document.getElementById(&quot;line&quot;);</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<span class="stringliteral">                    window.scroll(0,findPos(SupportDiv));</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="stringliteral">                    return false;</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="stringliteral">                };  </span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="stringliteral">                function findPos(obj)</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<span class="stringliteral">                {</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;<span class="stringliteral">                    var curtop=0;</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;<span class="stringliteral">                    if(obj.offsetParent)</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;<span class="stringliteral">                    {</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;<span class="stringliteral">                        do{</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;<span class="stringliteral">                            curtop+=(obj.offsetTop-40);</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;<span class="stringliteral">                        } while (obj = obj.offsetParent);</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;<span class="stringliteral">                        return [curtop];</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;<span class="stringliteral">                    }</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;<span class="stringliteral">                };</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;<span class="stringliteral">            &lt;/script&gt;&#39;</span>;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;            $html .= <span class="stringliteral">&quot;&lt;table&gt;&lt;tr&gt;&lt;td class=\&quot;num\&quot;&gt;\n$lines\n&lt;/td&gt;&quot;</span>;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;            $html .= <span class="stringliteral">&quot;&lt;td&gt;\n$content\n&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&quot;</span>; </div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;            <span class="keywordflow">return</span> $html;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        }<span class="comment"></span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;<span class="comment">        * Default options for the debug class. See @ref dbg_class_options</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00568"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a61f8e37bb59579db7eca5d6bd914441d">  568</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">static</span> <a class="code" href="class_ptc_debug.html#a61f8e37bb59579db7eca5d6bd914441d">$_defaultOptions</a> = array</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        (</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;            <span class="stringliteral">&#39;url_key&#39;</span>           =&gt;  <span class="stringliteral">&#39;debug&#39;</span> , <span class="comment">// the key to pass to the url to turn on debug</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;            <span class="stringliteral">&#39;url_pass&#39;</span>          =&gt;  <span class="stringliteral">&#39;true&#39;</span> , <span class="comment">// the pass to turn on debug</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;            <span class="stringliteral">&#39;replace_error_handler&#39;</span> =&gt;  <span class="keyword">true</span> , <span class="comment">// replace default php error handler</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;            <span class="stringliteral">&#39;error_reporting&#39;</span>       =&gt;  E_ALL , <span class="comment">// error reporting flag</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;            <span class="stringliteral">&#39;catch_exceptions&#39;</span>  =&gt;  <span class="keyword">true</span> , <span class="comment">// sets exception handler to be this class method</span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;            <span class="stringliteral">&#39;check_referer&#39;</span>     =&gt;      <span class="keyword">false</span> , <span class="comment">// check referer for key and pass ( good for ajax debugging )</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;            <span class="stringliteral">&#39;die_on_error&#39;</span>      =&gt;  <span class="keyword">true</span> , <span class="comment">// die if fatal error occurs ( with this class error handler )</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;            <span class="stringliteral">&#39;debug_console&#39;</span>     =&gt;  <span class="keyword">false</span> , <span class="comment">// only for Chrome,show messages in console ( phpConsole needed )</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;            <span class="stringliteral">&#39;allowed_ips&#39;</span>       =&gt;  null , <span class="comment">// restrict access with ip&#39;s</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;            <span class="stringliteral">&#39;session_start&#39;</span>     =&gt;  <span class="keyword">false</span> , <span class="comment">// start session for persistent debugging</span></div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;            <span class="stringliteral">&#39;show_interface&#39;</span>        =&gt;  <span class="keyword">true</span> , <span class="comment">// show the interface ( false to debug in console only )</span></div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;            <span class="stringliteral">&#39;set_time_limit&#39;</span>        =&gt;  null , <span class="comment">// set php execution time limit</span></div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;            <span class="stringliteral">&#39;memory_limit&#39;</span>      =&gt;  null , <span class="comment">// set php memory size   </span></div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;            <span class="stringliteral">&#39;show_messages&#39;</span>     =&gt;  <span class="keyword">true</span> , <span class="comment">// show messages panel</span></div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;            <span class="stringliteral">&#39;show_globals&#39;</span>      =&gt;  <span class="keyword">true</span> , <span class="comment">// show global variables in vars panel</span></div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;            <span class="stringliteral">&#39;show_sql&#39;</span>          =&gt;  <span class="keyword">true</span> , <span class="comment">// show sql panel</span></div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;            <span class="stringliteral">&#39;show_w3c&#39;</span>          =&gt;  <span class="keyword">true</span>, <span class="comment">// show the w3c panel</span></div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;            <span class="stringliteral">&#39;minified_html&#39;</span>     =&gt;  <span class="keyword">true</span> , <span class="comment">// compress html for a lighter output</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;            <span class="stringliteral">&#39;trace_depth&#39;</span>       =&gt;  10 , <span class="comment">// maximum depth for the backtrace</span></div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;            <span class="stringliteral">&#39;max_dump_depth&#39;</span>    =&gt;  6 , <span class="comment">// maximum depth for the dump function  </span></div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;            <span class="stringliteral">&#39;panel_top&#39;</span>         =&gt;  <span class="stringliteral">&#39;0px&#39;</span> , <span class="comment">// panel top position</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;            <span class="stringliteral">&#39;panel_right&#39;</span>       =&gt;  <span class="stringliteral">&#39;0px&#39;</span> , <span class="comment">// panel right position</span></div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;            <span class="stringliteral">&#39;default_category&#39;</span>  =&gt;  <span class="stringliteral">&#39;General&#39;</span> , <span class="comment">// default category for the messages</span></div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;            <span class="stringliteral">&#39;enable_inspector&#39;</span>  =&gt;  <span class="keyword">true</span> , <span class="comment">// enable variables inspector, use declare(ticks=n); in code block</span></div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;            <span class="stringliteral">&#39;code_coverage&#39;</span>     =&gt;  <span class="keyword">true</span>, <span class="comment">// enable code coverage analysis, use &quot;full&quot; to start globally</span></div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;            <span class="stringliteral">&#39;trace_functions&#39;</span>       =&gt;  <span class="keyword">true</span>, <span class="comment">// enable function calls tracing, use &quot;full&quot; to start globally</span></div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;            <span class="stringliteral">&#39;exclude_categories&#39;</span>    =&gt;  array( <span class="stringliteral">&#39;Event Manager&#39;</span> , <span class="stringliteral">&#39;Autoloader&#39;</span> ) <span class="comment">// exclude categories from the output</span></div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        );<span class="comment"></span></div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;<span class="comment">        * Array of methods excluded from the backtrace</span></div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00601"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a3de58c50140e7a5cdd933ebf3fc53944">  601</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">static</span> <a class="code" href="class_ptc_debug.html#a3de58c50140e7a5cdd933ebf3fc53944">$_excludeMethods</a>=array( );<span class="comment"></span></div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;<span class="comment">        * Code coverage analysis storage</span></div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00605"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a2087cebe0cb3045d0bf914dd43ac45a0">  605</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">static</span> <a class="code" href="class_ptc_debug.html#a2087cebe0cb3045d0bf914dd43ac45a0">$_coverageData</a> = null;<span class="comment"></span></div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;<span class="comment">        * Final data array for the code coveage</span></div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00609"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a0373ca264ea7a623ac8ffe665de2c6f8">  609</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">static</span> <a class="code" href="class_ptc_debug.html#a0373ca264ea7a623ac8ffe665de2c6f8">$_finalCoverageData</a> = array( );<span class="comment"></span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;<span class="comment">        * Function calls tracing storage property</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00613"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a6ed3deb7bd3cbac61de2ab55c00491f7">  613</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">static</span> <a class="code" href="class_ptc_debug.html#a6ed3deb7bd3cbac61de2ab55c00491f7">$_traceData</a> = null;<span class="comment"></span></div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;<span class="comment">        * Final data array for the function calls trace</span></div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00617"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a60acee6e1a5e0755fac5f62f6ebcacbb">  617</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">static</span> <a class="code" href="class_ptc_debug.html#a60acee6e1a5e0755fac5f62f6ebcacbb">$_finalTraceData</a> = array( );<span class="comment"></span></div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;<span class="comment">        * Array with all options</span></div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00621"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a1bebdc689c84eee59ad24c77e5531762">  621</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">static</span> <a class="code" href="class_ptc_debug.html#a1bebdc689c84eee59ad24c77e5531762">$_options</a> = array( );<span class="comment"></span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;<span class="comment">        * The debug buffer</span></div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;<span class="comment">        */</span>  </div>
<div class="line"><a name="l00625"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a79d65a505a68daa9b33764798f34b0c7">  625</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">static</span> <a class="code" href="class_ptc_debug.html#a79d65a505a68daa9b33764798f34b0c7">$_buffer</a> = array( );<span class="comment"></span></div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;<span class="comment">        * Application start time</span></div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00629"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a99e9b76a11243de2ee61f460f614893e">  629</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">static</span> <a class="code" href="class_ptc_debug.html#a99e9b76a11243de2ee61f460f614893e">$_startTime</a> = null;        <span class="comment"></span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;<span class="comment">        * Application end time</span></div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00633"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a5ae325dea974969f9611c520e388b908">  633</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">static</span> <a class="code" href="class_ptc_debug.html#a5ae325dea974969f9611c520e388b908">$_endTime</a> = null;<span class="comment"></span></div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;<span class="comment">        * Decides if we should send the buffer to the PhpConsole class</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00637"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#abe38ab47e25537add46547cab30f1d10">  637</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">static</span> <a class="code" href="class_ptc_debug.html#abe38ab47e25537add46547cab30f1d10">$_consoleStarted</a> = <span class="keyword">false</span>;<span class="comment"></span></div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;<span class="comment">        * Array of watched variables declared</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00641"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#abe16ab6b9f3a32190934ea9c2934d49d">  641</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">static</span> <a class="code" href="class_ptc_debug.html#abe16ab6b9f3a32190934ea9c2934d49d">$_watchedVars</a> = array();<span class="comment"></span></div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;<span class="comment">        * Tick execution time property</span></div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00645"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a3d0dc74eb84da9a2d9d3eb6f03d36709">  645</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">static</span> <a class="code" href="class_ptc_debug.html#a3d0dc74eb84da9a2d9d3eb6f03d36709">$_tickTime</a> = 0;<span class="comment"></span></div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;<span class="comment">        * Exclude PtcDebug::$_buildBuffer from execution timing property</span></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;<span class="comment">        */</span>  </div>
<div class="line"><a name="l00649"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a2989091a127ed9b9e2f7c6b3dd17dcc7">  649</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">static</span> <a class="code" href="class_ptc_debug.html#a2989091a127ed9b9e2f7c6b3dd17dcc7">$_countTime</a> = <span class="keyword">true</span>;<span class="comment"></span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;<span class="comment">        * Code coverage analysis property to start coverage</span></div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00653"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a6aa494e329fe30f92d7c75554fcb3c62">  653</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">static</span> <a class="code" href="class_ptc_debug.html#a6aa494e329fe30f92d7c75554fcb3c62">$_codeCoverage</a> = <span class="keyword">false</span>;<span class="comment"></span></div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;<span class="comment">        * Function calls trace property to start the analysis</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00657"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#af03ad5dddec020f7c600befdca41cb3f">  657</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">static</span> <a class="code" href="class_ptc_debug.html#af03ad5dddec020f7c600befdca41cb3f">$_functionTrace</a> = <span class="keyword">false</span>;<span class="comment"></span></div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;<span class="comment">        * Controlls when to disable opcode cache</span></div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00661"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a9025b3cf7124820463bf6b987eaaafe4">  661</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">static</span> <a class="code" href="class_ptc_debug.html#a9025b3cf7124820463bf6b987eaaafe4">$_disableOpcode</a> = <span class="keyword">true</span>;<span class="comment"></span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;<span class="comment">        * Exclude functions from the function calls trace array </span></div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00665"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a33593919e6a08523ae40e8da1f8315a4">  665</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">static</span> <a class="code" href="class_ptc_debug.html#a33593919e6a08523ae40e8da1f8315a4">$_excludeFromTrace</a> = array( );<span class="comment"></span></div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;<span class="comment">        * Property that holds the css for the floating panel</span></div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00669"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a38127c0fa8cd7ae779cc6cd8a012d9a4">  669</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">static</span> <a class="code" href="class_ptc_debug.html#a38127c0fa8cd7ae779cc6cd8a012d9a4">$_panelCss</a> = <span class="stringliteral">&#39;#ptcDebugPanel{font-family:Arial,sant-serif;</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;<span class="stringliteral">                position:fixed;top:{PANEL_TOP};right:{PANEL_RIGHT};</span></div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;<span class="stringliteral">                background:#eee;color:#333;z-index:10000;line-height:1.3em;</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;<span class="stringliteral">                text-align:left;padding:0px;margin:0px;height:25px;}</span></div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;<span class="stringliteral">                #ptcDebugPanel ul.tabs li{background-color:#ddd;border-color:#999;margin:0 -3px -1px 0;</span></div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;<span class="stringliteral">                padding:3px 6px;border-width:1px;list-style:none;display:inline-block;border-style:solid;}</span></div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;<span class="stringliteral">                #ptcDebugPanel ul.tabs li.active{background-color:#fff;border-bottom-color:transparent;</span></div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;<span class="stringliteral">                text-decoration:}#ptcDebugPanel ul.tabs li:hover{background-color:#eee;}</span></div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;<span class="stringliteral">                #ptcDebugPanel ul.tabs li.active:hover{background-color:#fff;}</span></div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;<span class="stringliteral">                #ptcDebugPanel ul.tabs.merge-up{margin-top:-24px;}</span></div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;<span class="stringliteral">                #ptcDebugPanel ul.tabs.right{padding:0 0 0 0;text-align:right;}</span></div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;<span class="stringliteral">                #ptcDebugPanel ul.tabs{border-bottom-color:#999;border-bottom-width:1px;font-size:14px;</span></div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;<span class="stringliteral">                list-style:none;margin:0;padding:0;z-index:100000;position:relative;</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;<span class="stringliteral">                background-color:#EEE}#ptcDebugPanel ul.tabs a{color:purple;font-size:10px;</span></div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;<span class="stringliteral">                text-decoration:none;}#ptcDebugPanel .tabs a:hover{color:red;}</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;<span class="stringliteral">                #ptcDebugPanel ul.tabs a.active{color:black;background-color:yellow;}</span></div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;<span class="stringliteral">                .msgTable{padding:0;margin:0;border:1px solid #999;font-family:Arial;</span></div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;<span class="stringliteral">                font-size:11px;text-align:left;border-collapse:separate;border-spacing:2px;}</span></div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;<span class="stringliteral">                .msgTable th{margin:0;border:0;padding:3px 5px;vertical-align:top;</span></div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;<span class="stringliteral">                background-color:#999;color:#EEE;white-space:nowrap;}</span></div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;<span class="stringliteral">                .msgTable td{margin:0;border:0;padding:3px 3px 3px 3px;vertical-align:top;}</span></div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;<span class="stringliteral">                .msgTable tr td{background-color:#ddd;color:#333}</span></div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;<span class="stringliteral">                .msgTable tr.php-notice td{background-color:lightblue;}</span></div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;<span class="stringliteral">                .msgTable tr.exception td{background-color:greenyellow;}</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;<span class="stringliteral">                .msgTable tr.php-warning td{background-color:yellow;}</span></div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;<span class="stringliteral">                .msgTable tr.php-error td{background-color:orange;}</span></div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;<span class="stringliteral">                .msgTable tr.inspector td{background-color:lightgreen;}</span></div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;<span class="stringliteral">                .innerTable a.php-notice{color:lightblue;}</span></div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;<span class="stringliteral">                .innerTable a.exception{color:greenyellow;}.innerTable a.php-warning{color:yellow;}</span></div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;<span class="stringliteral">                .innerTable a.php-error{color:orange;}.innerTable a.inspector{color:lightgreen;}</span></div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;<span class="stringliteral">                .innerTable a.general{color:darkgrey;}.innerTable a.show-all{color:red;}</span></div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;<span class="stringliteral">                #ptcDebugFilterBar{background-color:black;margin-bottom:8px;padding:4px;</span></div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;<span class="stringliteral">                font-size:13px;}.innerTable{z-index:10000;position:relative;background:#eee;</span></div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;<span class="stringliteral">                height:300px;padding:30px 10px 0 10px;overflow:auto;clear:both;}</span></div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;<span class="stringliteral">                .innerTable a{color:dodgerBlue;font-size:bold;text-decoration:none}</span></div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;<span class="stringliteral">                .innerTable p{font-size:12px;color:#333;text-align:left;line-height:12px;}</span></div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;<span class="stringliteral">                .innerPanel h1{font-size:16px;font-weight:bold;margin-bottom:20px;</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;<span class="stringliteral">                padding:0;border:0px;background-color:#EEE;}</span></div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;<span class="stringliteral">                #ptcDebugPanelTitle{height:25px;float:left;z-index:1000000;position:relative;}</span></div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;<span class="stringliteral">                #ptcDebugPanelTitle h1{font-size:16px;font-weight:bold;margin-bottom:20px;</span></div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;<span class="stringliteral">                margin-left:10px;padding:0 0 0 0;border:0px;background-color:#EEE;</span></div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;<span class="stringliteral">                color:#669;margin-top:5px;;height:20px;}</span></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;<span class="stringliteral">                #analysisPanel h2{font-size:14px;font-weight:bold;margin-bottom:20px;</span></div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;<span class="stringliteral">                padding:0 0 0 0;border:0px;background-color:#EEE;</span></div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;<span class="stringliteral">                color:#669;margin-top:5px;;height:20px;}</span></div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;<span class="stringliteral">                .vars-config, .vars-config span{font-weight:bold;}</span></div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;<span class="stringliteral">                .msgTable pre span, .vars-config span{padding:2px;}</span></div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;<span class="stringliteral">                .msgTable pre, span, .vars{font-size:11px;line-height:15px;</span></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;<span class="stringliteral">                font-family:&quot;andale mono&quot;,&quot;monotype.com&quot;,&quot;courier new&quot;,courier,monospace;}</span></div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;<span class="stringliteral">                .msgTable pre,.msgTable span{font-weight:bold;}</span></div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;<span class="stringliteral">                #varsPanel a{text-decoration:none;font-size:14px;font-weight:bold;color:#669;</span></div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;<span class="stringliteral">                line-height:25px;}.count_vars{font-size:11px;color:purple;padding:0;margin:0;}</span></div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;<span class="stringliteral">                .fixed{width:1%;white-space:nowrap;}.fixed1{width:5%;white-space:nowrap;}</span></div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;<span class="stringliteral">                #ptcDebugStatusBar{height:2px;background-color:#999;}&#39;</span> ;<span class="comment"></span></div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;<span class="comment">        * Sends the buffer to the PhpConsole class. See @ref ajax_env</span></div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00726"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a068aadfdb666093688eaf1304b5864fc">  726</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_ptc_debug.html#a068aadfdb666093688eaf1304b5864fc">_debugConsole</a>()</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;        {</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;            $handler = \PhpConsole\Handler::getInstance( );</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;            $handler-&gt;setHandleErrors( <span class="keyword">false</span> );</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;            $handler-&gt;setHandleExceptions( <span class="keyword">false</span> );</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;            $handler-&gt;start( );</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;            <span class="keywordflow">foreach</span> ( static::$_buffer as $k =&gt; $arr )</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;            {</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;                <span class="keywordflow">if</span> ( @$arr[ <span class="stringliteral">&#39;console_string&#39;</span> ] || @$arr[ <span class="stringliteral">&#39;console_statement&#39;</span> ] )</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;                {</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;                    <span class="keywordflow">if</span> ( !@$arr )</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;                    {</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;                        $php_trace = static::_debugTrace( 1 );</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;                        $arr=array( <span class="stringliteral">&#39;errline&#39;</span> =&gt; $php_trace[ <span class="stringliteral">&#39;line&#39;</span> ] , <span class="stringliteral">&#39;errfile&#39;</span> =&gt; $php_trace[ <span class="stringliteral">&#39;file&#39;</span> ] ); </div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;                    }</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;                    $statement = ( @$arr[ <span class="stringliteral">&#39;console_statement&#39;</span> ] ) ? </div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;                            strip_tags( preg_replace( <span class="stringliteral">&quot;=&lt;br */?&gt;=i&quot;</span> , <span class="stringliteral">&quot;\n&quot;</span> , </div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;                                    @$arr[ <span class="stringliteral">&#39;console_statement&#39;</span> ] ) ) : null;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;                    $statement .= ( @$arr[ <span class="stringliteral">&#39;console_time&#39;</span> ] ) ? <span class="stringliteral">&#39; [time: &#39;</span> . $arr[ <span class="stringliteral">&#39;console_time&#39;</span> ] . <span class="charliteral">&#39;]&#39;</span> : <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;                    $console_type = <span class="charliteral">&#39;[&#39;</span> . <span class="keyword">@end</span>( @explode( <span class="charliteral">&#39;/&#39;</span> , $arr[ <span class="stringliteral">&#39;errfile&#39;</span> ][ 0 ] ) ) . <span class="charliteral">&#39;:&#39;</span>;</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;                    $console_type .= $arr[ <span class="stringliteral">&#39;errline&#39;</span> ][ 0 ] . <span class="charliteral">&#39;]&#39;</span>;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;                    $key=(@$arr[<span class="stringliteral">&#39;type&#39;</span>]==<span class="stringliteral">&#39;log&#39;</span>) ? <span class="stringliteral">&#39;messages&#39;</span> : <span class="stringliteral">&#39;sql&#39;</span>;</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;                    <span class="keywordflow">if</span>(static::$_options[<span class="stringliteral">&#39;show_&#39;</span>.$key])</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;                    { </div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;                        <span class="keywordflow">if</span> ( <span class="stringliteral">&#39;error&#39;</span> === $arr[<span class="stringliteral">&#39;console_statement&#39;</span>] )</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;                        {</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;                            $handler-&gt;handleError( $arr[ <span class="stringliteral">&#39;console_category&#39;</span> ] , $arr[ <span class="stringliteral">&#39;errstr&#39;</span> ] , </div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;                                            $arr[ <span class="stringliteral">&#39;errfile&#39;</span> ][ 0 ] , $arr[ <span class="stringliteral">&#39;errline&#39;</span> ][ 0 ] , null , 2 );</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;                        }</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;                        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;                        {</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;                            \PC::debug( $console_type , $arr[ <span class="stringliteral">&#39;console_category&#39;</span> ] . <span class="stringliteral">&#39;.file&#39;</span> ); </div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;                            <span class="keywordflow">if</span> ( $statement )</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;                            { </div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;                                \PC::debug( $statement , $arr[ <span class="stringliteral">&#39;console_category&#39;</span> ] . <span class="stringliteral">&#39;.message&#39;</span> ); </div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;                            }</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;                            <span class="keywordflow">if</span> ( @$arr[ <span class="stringliteral">&#39;console_string&#39;</span> ] )</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;                            {   </div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;                                \PC::debug( $arr[ <span class="stringliteral">&#39;console_string&#39;</span> ] , $arr[ <span class="stringliteral">&#39;console_category&#39;</span> ] . <span class="stringliteral">&#39;.result&#39;</span> ); </div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;                            }</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;                            <span class="keywordflow">if</span> ( @$arr[ <span class="stringliteral">&#39;errfile&#39;</span> ] )</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;                            {</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;                                unset( $arr[ <span class="stringliteral">&#39;errfile&#39;</span> ][ 0 ] );</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;                                <span class="keywordflow">if</span> ( !empty( $arr[ <span class="stringliteral">&#39;errfile&#39;</span> ] ) )</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;                                { </div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;                                    \PC::debug( $arr[ <span class="stringliteral">&#39;errfile&#39;</span> ] , $arr[ <span class="stringliteral">&#39;console_category&#39;</span> ] . <span class="stringliteral">&#39;.trace&#39;</span> ); </div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;                                }</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;                            }</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;                            <span class="comment">//\PC::debug( $arr , $arr[ &#39;console_category&#39; ] . &#39;[full]&#39; ); </span></div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;                        }</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                    }</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;                }</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;            }</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;            <span class="keywordflow">if</span> ( !static::$_options[ <span class="stringliteral">&#39;show_interface&#39;</span> ] )</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;            {</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;                static::_buildCoverageData( );</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;                static::_buildTraceData( ); </div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;            }</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;            $time = ( ( static::$_endTime - static::$_startTime ) - static::$_tickTime );</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;            $console_final = <span class="stringliteral">&#39;Seconds: &#39;</span> . round( $time , 3 ) . <span class="stringliteral">&#39; | Milliseconds: &#39;</span> . round( $time * 1000 , 3 );</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;            \PC::debug( array( @get_included_files( ) ) , static::$_options[ <span class="stringliteral">&#39;default_category&#39;</span> ] . <span class="stringliteral">&#39;.includedFiles&#39;</span> );</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;            \PC::debug( <span class="stringliteral">&#39;Global Execution Time &#39;</span> . $console_final , static::$_options[ <span class="stringliteral">&#39;default_category&#39;</span> ] );</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;        }<span class="comment"></span></div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;<span class="comment">        * Checks if a given ip has access</span></div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;<span class="comment">        * @param    string|array        $allowedIps     the ip&#39;s that are allowed</span></div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00793"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#ad8a0a4dd4506b9a1436de2dbfa3ab6e1">  793</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_ptc_debug.html#ad8a0a4dd4506b9a1436de2dbfa3ab6e1">_checkAccess</a>($allowedIps=null)</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;        {</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;            static::$_options[<span class="stringliteral">&#39;allowed_ips&#39;</span>]=(!$allowedIps) ? static::$_options[<span class="stringliteral">&#39;allowed_ips&#39;</span>] : $allowedIps;</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;            <span class="keywordflow">if</span>(static::$_options[<span class="stringliteral">&#39;allowed_ips&#39;</span>])</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;            {</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;                static::$_options[<span class="stringliteral">&#39;allowed_ips&#39;</span>]=(is_array(static::$_options[<span class="stringliteral">&#39;allowed_ips&#39;</span>])) ? </div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                                    static::$_options[<span class="stringliteral">&#39;allowed_ips&#39;</span>] : array(static::$_options[<span class="stringliteral">&#39;allowed_ips&#39;</span>]);</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;                <span class="keywordflow">if</span>(@in_array(@$_SERVER[<span class="stringliteral">&#39;REMOTE_ADDR&#39;</span>],static::$_options[<span class="stringliteral">&#39;allowed_ips&#39;</span>])){ <span class="keywordflow">return</span> <span class="keyword">true</span>; }</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;            }</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;        }<span class="comment"></span></div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;<span class="comment">        * Sets session vars to control which panels will be shown</span></div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00808"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a264a49a89c9720923ecb695ee9b9ad9e">  808</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_ptc_debug.html#a264a49a89c9720923ecb695ee9b9ad9e">_setSessionVars</a>()</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;        {</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;            $_SESSION[ <span class="stringliteral">&#39;ptcdebug&#39;</span> ][<span class="stringliteral">&#39;show_messages&#39;</span>]=static::$_options[<span class="stringliteral">&#39;show_messages&#39;</span>];</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;            $_SESSION[ <span class="stringliteral">&#39;ptcdebug&#39;</span> ][<span class="stringliteral">&#39;show_globals&#39;</span>]=static::$_options[<span class="stringliteral">&#39;show_globals&#39;</span>];</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;            $_SESSION[ <span class="stringliteral">&#39;ptcdebug&#39;</span> ][<span class="stringliteral">&#39;show_sql&#39;</span>]=static::$_options[<span class="stringliteral">&#39;show_sql&#39;</span>];</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;            $_SESSION[ <span class="stringliteral">&#39;ptcdebug&#39;</span> ][<span class="stringliteral">&#39;show_w3c&#39;</span>]=static::$_options[<span class="stringliteral">&#39;show_w3c&#39;</span>];</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;        }<span class="comment"></span></div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;<span class="comment">        * Controls which panels will be shown with $_GET variable &quot;hidepanels&quot;</span></div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00818"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#ad8756f7d500d1b08cd6dce72dbc9c8c1">  818</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_ptc_debug.html#ad8756f7d500d1b08cd6dce72dbc9c8c1">_disablePanels</a>( )</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;        {</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;            $hide = @explode( <span class="charliteral">&#39;,&#39;</span> , $_GET[ <span class="stringliteral">&#39;hidepanels&#39;</span> ] );</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;            <span class="keywordflow">if</span> ( !@empty( $hide ) )</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;            {</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;                $_SESSION[ <span class="stringliteral">&#39;ptcdebug&#39;</span> ][ <span class="stringliteral">&#39;show_messages&#39;</span> ] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;                $_SESSION[ <span class="stringliteral">&#39;ptcdebug&#39;</span> ][ <span class="stringliteral">&#39;show_globals&#39;</span> ] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;                $_SESSION[ <span class="stringliteral">&#39;ptcdebug&#39;</span> ][ <span class="stringliteral">&#39;show_sql&#39;</span> ] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;                $_SESSION[ <span class="stringliteral">&#39;ptcdebug&#39;</span> ][ <span class="stringliteral">&#39;show_w3c&#39;</span> ] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;                <span class="keywordflow">foreach</span> ( $hide as $k =&gt; $v )</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                {</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;                    <span class="keywordflow">if</span> ( $v == <span class="stringliteral">&#39;msg&#39;</span> || $v == <span class="stringliteral">&#39;all&#39;</span> )</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;                    { </div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;                        $_SESSION[ <span class="stringliteral">&#39;ptcdebug&#39;</span> ][ <span class="stringliteral">&#39;show_messages&#39;</span> ] = <span class="keyword">false</span>; </div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;                    }</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;                    <span class="keywordflow">if</span> ( $v == <span class="stringliteral">&#39;globals&#39;</span> || $v == <span class="stringliteral">&#39;all&#39;</span> )</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;                    { </div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;                        $_SESSION[ <span class="stringliteral">&#39;ptcdebug&#39;</span> ][ <span class="stringliteral">&#39;show_globals&#39;</span> ] = <span class="keyword">false</span>; </div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;                    }</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;                    <span class="keywordflow">if</span> ( $v == <span class="stringliteral">&#39;sql&#39;</span> || $v == <span class="stringliteral">&#39;all&#39;</span> )</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;                    { </div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;                        $_SESSION[ <span class="stringliteral">&#39;ptcdebug&#39;</span> ][ <span class="stringliteral">&#39;show_sql&#39;</span> ] = <span class="keyword">false</span>; </div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;                    }</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;                    <span class="keywordflow">if</span> ( $v == <span class="stringliteral">&#39;w3c&#39;</span> || $v == <span class="stringliteral">&#39;all&#39;</span> )</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;                    { </div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;                        $_SESSION[ <span class="stringliteral">&#39;ptcdebug&#39;</span> ][ <span class="stringliteral">&#39;show_w3c&#39;</span> ] = <span class="keyword">false</span>; </div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;                    }</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;                }</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;            }           </div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;            static::$_options[ <span class="stringliteral">&#39;show_messages&#39;</span> ] = static::_getSessionVars( <span class="stringliteral">&#39;show_messages&#39;</span> );</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;            static::$_options[ <span class="stringliteral">&#39;show_globals&#39;</span> ] = static::_getSessionVars( <span class="stringliteral">&#39;show_globals&#39;</span> );</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;            static::$_options[ <span class="stringliteral">&#39;show_sql&#39;</span> ] = static::_getSessionVars( <span class="stringliteral">&#39;show_sql&#39;</span> );</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;            static::$_options[ <span class="stringliteral">&#39;show_w3c&#39;</span> ] = static::_getSessionVars( <span class="stringliteral">&#39;show_w3c&#39;</span> );</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;        }<span class="comment"></span></div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;<span class="comment">        * Builds the buffer</span></div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;<span class="comment">        * @param    string      $type           log/sql</span></div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;<span class="comment">        * @param    mixed       $string     the string to pass</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;<span class="comment">        * @param    mixed       $statement      some statement preceding the string</span></div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;<span class="comment">        * @param    string      $category       a category for the message</span></div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00859"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a56870c1226ce4e1d895803208a191781">  859</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_ptc_debug.html#a56870c1226ce4e1d895803208a191781">_buildBuffer</a>( $type , $string , $statement = null , $category = null )</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;        {</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;            <span class="keywordflow">if</span> ( @in_array( $category , static::$_options[ <span class="stringliteral">&#39;exclude_categories&#39;</span> ] ) ){ <span class="keywordflow">return</span>; }</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;            <span class="keywordflow">if</span> ( defined( <span class="stringliteral">&#39;_PTCDEBUG_NAMESPACE_&#39;</span> ) &amp;&amp; </div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;                @static::_getSessionVars( static::$_options[ <span class="stringliteral">&#39;url_key&#39;</span> ] ) &amp;&amp; </div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;                    ( static::$_options[ <span class="stringliteral">&#39;show_interface&#39;</span> ] || static::$_options[ <span class="stringliteral">&#39;debug_console&#39;</span> ] ) ) </div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;            {</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;                $buffer = array( <span class="stringliteral">&#39;start_time&#39;</span> =&gt; microtime( <span class="keyword">true</span> ) , <span class="stringliteral">&#39;type&#39;</span> =&gt; $type );</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;                $php_trace = static::_debugTrace( static::$_options[ <span class="stringliteral">&#39;trace_depth&#39;</span> ] );</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;                $buffer[ <span class="stringliteral">&#39;errline&#39;</span> ] = @$php_trace[ <span class="stringliteral">&#39;line&#39;</span> ];</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;                $buffer[ <span class="stringliteral">&#39;errfile&#39;</span> ] = @$php_trace[ <span class="stringliteral">&#39;file&#39;</span> ];</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;                $buffer[ <span class="stringliteral">&#39;function&#39;</span> ] = @$php_trace[ <span class="stringliteral">&#39;function&#39;</span> ];</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;                $buffer[ <span class="stringliteral">&#39;class&#39;</span> ] = @$php_trace[ <span class="stringliteral">&#39;class&#39;</span> ];</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;                <span class="keywordflow">if</span> ( $string === <span class="stringliteral">&#39;{errorHandler}&#39;</span> )</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;                {</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;                    $buffer[ <span class="stringliteral">&#39;errno&#39;</span> ] = $statement[ <span class="stringliteral">&#39;errno&#39;</span> ];</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;                    $buffer[ <span class="stringliteral">&#39;errstr&#39;</span> ] = $statement[ <span class="stringliteral">&#39;errstr&#39;</span> ];</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;                    <span class="keywordflow">if</span> ( $statement[ <span class="stringliteral">&#39;errfile&#39;</span> ] == <span class="stringliteral">&#39;trace&#39;</span> )</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;                    {</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;                        $params = @explode( <span class="charliteral">&#39;:&#39;</span> , @str_replace( <span class="stringliteral">&#39;:\\&#39;</span> , <span class="stringliteral">&#39;{win-patch}&#39;</span> , </div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;                                                @$buffer[ <span class="stringliteral">&#39;errfile&#39;</span> ][ 0 ] ) ); <span class="comment">// windows patch</span></div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;                        @$buffer[ <span class="stringliteral">&#39;errfile&#39;</span> ][ 0 ] = @str_replace( <span class="stringliteral">&#39;{win-patch}&#39;</span> , <span class="stringliteral">&#39;:\\&#39;</span> , @$params[ 0 ] );</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;                    }</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;                    <span class="keywordflow">else</span>    <span class="comment">// if static::errorHandler() called the function</span></div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;                    {</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;                        <span class="keywordflow">if</span> ( !@is_array( $buffer[ <span class="stringliteral">&#39;errline&#39;</span> ] ) ){ $buffer[ <span class="stringliteral">&#39;errline&#39;</span> ] = array( ); }</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;                        <span class="keywordflow">if</span> ( !@is_array( $buffer[ <span class="stringliteral">&#39;errfile&#39;</span> ] ) ){ $buffer[ <span class="stringliteral">&#39;errfile&#39;</span> ] = array( ); }</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;                        <span class="keywordflow">if</span> ( !@is_array( $buffer[ <span class="stringliteral">&#39;function&#39;</span> ] ) ){ $buffer[ <span class="stringliteral">&#39;function&#39;</span> ] = array( ); }</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;                        <span class="keywordflow">if</span> ( !@is_array( $buffer[ <span class="stringliteral">&#39;class&#39;</span> ] ) ){ $buffer[ <span class="stringliteral">&#39;class&#39;</span> ] = array( ); }</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;                        @array_unshift( $buffer[ <span class="stringliteral">&#39;errline&#39;</span> ] , $statement[ <span class="stringliteral">&#39;errline&#39;</span> ] );</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;                        @array_unshift( $buffer[ <span class="stringliteral">&#39;errfile&#39;</span> ] , $statement[ <span class="stringliteral">&#39;errfile&#39;</span> ] );</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;                        @array_unshift( $buffer[ <span class="stringliteral">&#39;function&#39;</span> ] , <span class="stringliteral">&#39;&#39;</span> );</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;                        @array_unshift( $buffer[ <span class="stringliteral">&#39;class&#39;</span> ] , <span class="stringliteral">&#39;&#39;</span> );</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;                    }</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;                    <span class="keywordflow">if</span> ( static::$_options[ <span class="stringliteral">&#39;debug_console&#39;</span> ] )</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;                    {</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;                        <span class="comment">//var_dump($buffer  );</span></div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;                        $buffer[ <span class="stringliteral">&#39;console_string&#39;</span> ] = $buffer;</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;                        $buffer[ <span class="stringliteral">&#39;console_statement&#39;</span> ] = <span class="stringliteral">&#39;error&#39;</span>;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;                        $buffer[ <span class="stringliteral">&#39;console_category&#39;</span> ] = $statement[ <span class="stringliteral">&#39;errno&#39;</span> ];</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;                    }</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;                }</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;                {</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;                    $params = @explode( <span class="charliteral">&#39;:&#39;</span> , @str_replace( <span class="stringliteral">&#39;:\\&#39;</span> , <span class="stringliteral">&#39;{win-patch}&#39;</span> , </div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;                                                @$buffer[ <span class="stringliteral">&#39;errfile&#39;</span> ][ 0 ] ) ); <span class="comment">// windows patch</span></div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;                    @$buffer[ <span class="stringliteral">&#39;errfile&#39;</span> ][ 0 ] = @str_replace( <span class="stringliteral">&#39;{win-patch}&#39;</span> , <span class="stringliteral">&#39;:\\&#39;</span> , @$params[ 0 ] );</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;                    $buffer[ <span class="stringliteral">&#39;var_type&#39;</span> ] = gettype( $string );</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;                    <span class="keywordflow">if</span> ( !$category ){ $category = static::$_options[ <span class="stringliteral">&#39;default_category&#39;</span> ]; } </div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;                    $buffer[ <span class="stringliteral">&#39;errno&#39;</span> ] = $category;</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;                    $buffer[ <span class="stringliteral">&#39;errstr&#39;</span> ] = $string;</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;                    $buffer[ <span class="stringliteral">&#39;errmsg&#39;</span> ] = $statement;                       </div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;                    <span class="keywordflow">if</span> ( static::$_options[ <span class="stringliteral">&#39;debug_console&#39;</span> ] )</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;                    {</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;                        $buffer[ <span class="stringliteral">&#39;console_string&#39;</span> ] = $string;</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;                        $buffer[ <span class="stringliteral">&#39;console_statement&#39;</span> ] = $statement;</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;                        $buffer[ <span class="stringliteral">&#39;console_category&#39;</span> ] = $category;</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;                    }</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;                }</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;                @static::$_buffer[ ] = $buffer;</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;                <span class="keywordflow">if</span> ( static::$_countTime )</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;                {                   </div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;                    static::$_tickTime = ( ( microtime( <span class="keyword">true</span> ) - $buffer[ <span class="stringliteral">&#39;start_time&#39;</span> ] ) + static::$_tickTime );</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;                }</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;            }</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;        }<span class="comment"></span></div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;<span class="comment">        * Callback function that checks if a given variable has changed</span></div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00928"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a33477592b1741812298e7eb4de000a7f">  928</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_ptc_debug.html#a33477592b1741812298e7eb4de000a7f">_watchCallback</a>( )</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;        {</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;            <span class="keywordflow">if</span> ( count( static::$_watchedVars ) ) </div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;            {</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;                <span class="keywordflow">foreach</span> ( static::$_watchedVars as $variableName =&gt; $variableValue ) </div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;                {</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;                    <span class="keywordflow">if</span> ( is_array( $variableValue ) )</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;                    {</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;                        $var = $variableValue[ <span class="stringliteral">&#39;callback&#39;</span> ]( );</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;                        <span class="keywordflow">if</span> ( @$var !== @$variableValue[ <span class="stringliteral">&#39;value&#39;</span> ] ) </div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;                        {</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;                            $info=array</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;                            (</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;                                <span class="stringliteral">&#39;variable&#39;</span>          =&gt;  <span class="charliteral">&#39;$&#39;</span> . $variableName ,</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;                                <span class="stringliteral">&#39;previous_value&#39;</span>    =&gt;  $variableValue[ <span class="stringliteral">&#39;value&#39;</span> ] ,</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;                                <span class="stringliteral">&#39;new_value&#39;</span>     =&gt;  $var</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;                            );          </div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;                            static::$_watchedVars[ $variableName ] = </div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;                                array( <span class="stringliteral">&#39;value&#39;</span> =&gt; $var , <span class="stringliteral">&#39;callback&#39;</span> =&gt; $variableValue[ <span class="stringliteral">&#39;callback&#39;</span> ] );</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;                        }</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;                    }</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;                    {</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;                        $var = static::_findWatchVar( $variableName );</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;                        <span class="keywordflow">if</span> ( @$var !== @$variableValue ) </div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;                        {</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;                            $info=array</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;                            (</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;                                <span class="stringliteral">&#39;variable&#39;</span>          =&gt;  <span class="charliteral">&#39;$&#39;</span> . $variableName ,</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;                                <span class="stringliteral">&#39;previous_value&#39;</span>    =&gt;  $variableValue ,</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;                                <span class="stringliteral">&#39;new_value&#39;</span>     =&gt;  $var</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;                            );          </div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;                            static::$_watchedVars[ $variableName ] = $var;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;                        }</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;                    }</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;                }</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;                <span class="keywordflow">if</span> ( @$info )</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;                { </div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;                    static::bufferLog( $info ,<span class="stringliteral">&#39; Watched variable changed  &lt;span style=&quot;font-weight:bold;&quot;&gt;$&#39;</span>.</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;                                                            $variableName . <span class="stringliteral">&#39;&lt;/span&gt; = &#39;</span>,<span class="stringliteral">&#39;Inspector&#39;</span>); </div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;                }</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;            }</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;        }<span class="comment"></span></div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;<span class="comment">        * Collect data for code coverage analysis</span></div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;<span class="comment">        * @param    array       $backtrace  the debug_backtrace( )</span></div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l00975"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#af7d63449a9b13a337e9d928ccc7f2468">  975</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_ptc_debug.html#af7d63449a9b13a337e9d928ccc7f2468">_codeCoverageAnalysis</a>( $backtrace = null)</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;        {</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;            $backtrace = ( !$backtrace ) ? </div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;                debug_backtrace( DEBUG_BACKTRACE_IGNORE_ARGS ) : $backtrace;</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;            $backtrace = array_reverse( $backtrace );</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;            <span class="keywordflow">foreach</span> ( $backtrace as $k =&gt; $v )</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;            {</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;                <span class="keywordflow">if</span> ( @$v[ <span class="stringliteral">&#39;file&#39;</span> ] ==  __FILE__ || </div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;                        @strpos( $v[ <span class="stringliteral">&#39;file&#39;</span> ] ,  <span class="stringliteral">&#39;runtime-created function&#39;</span> ) ) { <span class="keywordflow">continue</span>; }</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;                <span class="keywordflow">if</span> ( @$v[ <span class="stringliteral">&#39;line&#39;</span> ] &amp;&amp; !@array_key_exists( @$v[ <span class="stringliteral">&#39;line&#39;</span> ] , </div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;                            @static::$_coverageData[ $v[ <span class="stringliteral">&#39;file&#39;</span> ] ] ) )</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;                {</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;                    <span class="keywordflow">if</span> ( !@array_key_exists( $v[ <span class="stringliteral">&#39;file&#39;</span> ] , static::$_coverageData ) )</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;                    {</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;                        static::$_coverageData[ $v[ <span class="stringliteral">&#39;file&#39;</span> ] ] = array( );</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;                    }</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;                    static::$_coverageData[ $v[ <span class="stringliteral">&#39;file&#39;</span> ] ][ $v[ <span class="stringliteral">&#39;line&#39;</span> ] ] = 1;</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;                }</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;            }</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;        }<span class="comment"></span></div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;<span class="comment">        * Evaluates the type of variable for output</span></div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;<span class="comment">        * @param    mixed       $var    the variable to pass</span></div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;<span class="comment">        * @return   the html output with the variable content</span></div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l01000"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a4a3b4966a8c5d7217855f59e9b9a1836"> 1000</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_ptc_debug.html#a4a3b4966a8c5d7217855f59e9b9a1836">_formatVar</a>($var)</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;        {   </div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;            <span class="keywordflow">if</span>(is_array($var) || is_object($var)){ $html_string=static::_doDump($var); }</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(@is_bool($var))</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;            { </div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;                $html_string=<span class="stringliteral">&#39;&lt;span style=&quot;color:#92008d;&quot;&gt;&#39;</span>.($var==1 ? <span class="stringliteral">&#39;TRUE&#39;</span> : <span class="stringliteral">&#39;FALSE&#39;</span>).<span class="stringliteral">&#39;&lt;/span&gt;&#39;</span>; </div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;            }</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(@is_null($var)){ $html_strisng=<span class="stringliteral">&#39;&lt;span style=&quot;color:black;&quot;&gt;NULL&lt;/span&gt;&#39;</span>; }</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(@is_float($var)){ $html_string=<span class="stringliteral">&#39;&lt;span style=&quot;color:#10C500;&quot;&gt;&#39;</span>.$var.<span class="stringliteral">&#39;&lt;/span&gt;&#39;</span>; }</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(is_int($var)){ $html_string=<span class="stringliteral">&#39;&lt;span style=&quot;color:red;&quot;&gt;&#39;</span>.$var.<span class="stringliteral">&#39;&lt;/span&gt;&#39;</span>; }</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;            <span class="comment">// could be a string</span></div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;            <span class="keywordflow">else</span>{ $html_string=<span class="stringliteral">&#39;&lt;span&gt;&#39;</span>.static::_cleanBuffer(@print_r($var,<span class="keyword">true</span>)).<span class="stringliteral">&#39;&lt;/span&gt;&#39;</span>; }</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;            <span class="keywordflow">return</span> @$html_string;</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;        }<span class="comment"></span></div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;<span class="comment">        * Retrieves the variable to watch from the &quot;$GLOBALS&quot;</span></div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;<span class="comment">        * @param    string  $variableName       the name of the variable to find</span></div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;<span class="comment">        * @return   the watched variable if found, otherwise null</span></div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l01019"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a5c671db1708b48b5b88b14a88daa91c7"> 1019</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_ptc_debug.html#a5c671db1708b48b5b88b14a88daa91c7">_findWatchVar</a>($variableName)</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;        {</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;            $pieces=preg_split(<span class="stringliteral">&#39;/(-&gt;|\[.*?\])/&#39;</span>,$variableName,null,PREG_SPLIT_DELIM_CAPTURE);</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;            $pieces=array_filter($pieces);</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;            $skip_key=null;</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;            $watch=<span class="stringliteral">&#39;$GLOBALS[\&#39;&#39;</span>.$pieces[0].<span class="charliteral">&#39;\&#39;</span>]<span class="stringliteral">&#39;;</span></div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;<span class="stringliteral">            foreach($pieces as $k=&gt;$v)</span></div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;<span class="stringliteral">            {</span></div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;<span class="stringliteral">                if($k&gt;0 &amp;&amp; $k!=$skip_key &amp;&amp; $v)</span></div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;<span class="stringliteral">                {</span></div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;<span class="stringliteral">                    if($m=preg_match(&#39;</span>/-&gt;/<span class="stringliteral">&#39;,$v) &amp;&amp; @$pieces[$k+1])</span></div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;<span class="stringliteral">                    {</span></div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;<span class="stringliteral">                        $skip_key=($k+1);</span></div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;<span class="stringliteral">                        $watch=$watch.&#39;</span>-&gt;<span class="stringliteral">&#39;.$pieces[$k+1];</span></div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;<span class="stringliteral">                    }</span></div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;<span class="stringliteral">                    else if($y=preg_match(&#39;</span>/\[(.*?)\]/<span class="stringliteral">&#39;,$v,$match,PREG_OFFSET_CAPTURE))</span></div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;<span class="stringliteral">                    { </span></div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;<span class="stringliteral">                        $watch=$watch.$v;</span></div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;<span class="stringliteral">                    }</span></div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;<span class="stringliteral">                }</span></div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;<span class="stringliteral">            }</span></div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;<span class="stringliteral">            return $var=@eval(&#39;</span><span class="keywordflow">return</span> @<span class="stringliteral">&#39;.$watch.&#39;</span>;<span class="stringliteral">&#39;);</span></div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;<span class="stringliteral">        }</span><span class="comment"></span></div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;<span class="comment">        * Finds a value in the buffer based on a reference (the &quot;$statement&quot;)</span></div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;<span class="comment">        * @param    string      $reference  the reference to look for</span></div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;<span class="comment">        * @param    numeric $type       &quot;1&quot; to time execution, &quot;2&quot; to attach data to a message</span></div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;<span class="comment">        * @return   the array if the given reference is found in the buffer</span></div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l01048"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a57681cb5ee40df5dd6fd062e1b80563a"> 1048</a></span>&#160;        protected static function _findReference($reference,$type=1)</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;        {</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;            switch($type)</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;            {</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;                case 1:$msg=&#39;Could not find reference <span class="stringliteral">&quot;&#39;.$reference.&#39;&quot;</span> to time execution!<span class="stringliteral">&#39;;</span></div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;<span class="stringliteral">                break;</span></div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;<span class="stringliteral">                case 2:$msg=&#39;</span>Could not find reference <span class="stringliteral">&quot;&#39;.$reference.&#39;&quot;</span> to add data to!<span class="stringliteral">&#39;;</span></div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;<span class="stringliteral">                break;</span></div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;<span class="stringliteral">            }</span></div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;<span class="stringliteral">            for($i=0;$i&lt;@count(static::$_buffer);$i++)</span></div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;<span class="stringliteral">            {</span></div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;<span class="stringliteral">                if($reference==@static::$_buffer[$i][&#39;</span>errmsg<span class="stringliteral">&#39;])</span></div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;<span class="stringliteral">                {</span></div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;<span class="stringliteral">                    $last[&#39;</span>data<span class="stringliteral">&#39;]=static::$_buffer[$i];</span></div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;<span class="stringliteral">                    $last[&#39;</span>key<span class="stringliteral">&#39;]=$i;</span></div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;<span class="stringliteral">                }</span></div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;<span class="stringliteral">            }</span></div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;<span class="stringliteral">            if(!@$last)</span></div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;<span class="stringliteral">            {</span></div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;<span class="stringliteral">                $err=array(&#39;</span>errno<span class="stringliteral">&#39;=&gt;static::_msgType(E_USER_WARNING),</span></div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;<span class="stringliteral">                                        &#39;</span>errstr<span class="stringliteral">&#39;=&gt;$msg,&#39;</span>errfile<span class="stringliteral">&#39;=&gt;&#39;</span>trace<span class="stringliteral">&#39;);</span></div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;<span class="stringliteral">                static::_buildBuffer(&#39;</span>log<span class="charliteral">&#39;,&#39;</span>{<a class="code" href="class_ptc_debug.html#a65d78c87edffc7fb92c20c701b489307">errorHandler</a>}<span class="stringliteral">&#39;,$err);</span></div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;<span class="stringliteral">                return false; </span></div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;<span class="stringliteral">            }</span></div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;<span class="stringliteral">            return $last;</span></div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;<span class="stringliteral">        }</span><span class="comment"></span></div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;<span class="comment">        * Custom dump to properly format a given variable and make it more friendly to read</span></div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;<span class="comment">        * @param    mixed       $var            the string to pass</span></div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;<span class="comment">        * @param    mixed       $varName        some statement preceding the variable</span></div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;<span class="comment">        * @param    string  $indent     uses &quot;|&quot; as indents by default</span></div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;<span class="comment">        * @param    string  $reference      a reference to prevent recursion</span></div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;<span class="comment">        * @param    int         $depth      maximun depth</span></div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;<span class="comment">        * @return   the html output with the variable</span></div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l01083"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a6a0a9e2dad34ede0bdd30f9f56e15a63"> 1083</a></span>&#160;        protected static function _doDump( &amp;$var , $varName = NULL , $indent = NULL , $reference = NULL , $depth = 0 )</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;        {</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;            $span_color=&#39;color:grey;<span class="stringliteral">&#39;;</span></div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;<span class="stringliteral">            $do_dump_indent=&#39;</span>&lt;span style=<span class="stringliteral">&quot;color:white;&quot;</span>&gt; | &amp;nbsp;&lt;/span&gt;<span class="stringliteral">&#39;;</span></div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;<span class="stringliteral">            $reference=$reference.$varName;</span></div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;<span class="stringliteral">            $keyvar=&#39;</span>recursion_protection_scheme<span class="stringliteral">&#39;; </span></div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;<span class="stringliteral">            $keyname=&#39;</span>referenced_object_name<span class="stringliteral">&#39;;</span></div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;<span class="stringliteral">            if((is_array($var) &amp;&amp; isset($var[$keyvar])) || is_object($var) &amp;&amp; property_exists($var,$keyvar))</span></div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;<span class="stringliteral">            {</span></div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;<span class="stringliteral">                if(is_array($var))</span></div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;<span class="stringliteral">                {</span></div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;<span class="stringliteral">                    $real_var=&amp;$var[$keyvar];</span></div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;<span class="stringliteral">                    $real_name=&amp;$var[$keyname];</span></div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;<span class="stringliteral">                    $type=ucfirst(gettype($real_var));</span></div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;<span class="stringliteral">                    $result=$indent.$varName.&#39;</span> &lt;span style=<span class="stringliteral">&quot;&#39;.$span_color.&#39;&quot;</span>&gt;<span class="stringliteral">&#39;.$type.</span></div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;<span class="stringliteral">                        &#39;</span>&lt;/span&gt; =&gt; **RECURSION** &lt;span style=<span class="stringliteral">&quot;color:#e87800;&quot;</span>&gt;&amp;amp;<span class="stringliteral">&#39;.</span></div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;<span class="stringliteral">                                                            $real_name.&#39;</span>&lt;/span&gt;&lt;br&gt;<span class="stringliteral">&#39;;</span></div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;<span class="stringliteral">                }</span></div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;<span class="stringliteral">                else // if it&#39;</span>s <span class="keywordtype">object</span></div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;                {</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;                    $real_var=&amp;$var;</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;                    $real_name=get_class($var);</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;                    <span class="comment">//$real_name=$real_name.&#39;-&gt;&#39;.$reference;</span></div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;                    $type=ucfirst(gettype($real_var));</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;                    $varName=<span class="stringliteral">&#39;&lt;span&gt;&#39;</span>.$varName.<span class="stringliteral">&#39;&lt;/span&gt;&#39;</span>;</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;                    $result=$indent.$varName.<span class="stringliteral">&#39; =&gt; &lt;span style=&quot;&#39;</span>.$span_color.<span class="stringliteral">&#39;&quot;&gt;&#39;</span>.</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;                                $type.<span class="stringliteral">&#39;&lt;/span&gt;(&lt;span style=&quot;color:#e87800;&quot;&gt;&amp;amp;&#39;</span>.</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;                                            $real_name.<span class="stringliteral">&#39;&lt;/span&gt;) **RECURSION** &lt;br&gt;&#39;</span>;</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;                }</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;                <span class="keywordflow">return</span> $result;</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;            }</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;            {</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;                $id=<span class="stringliteral">&quot;ptc-debug-&quot;</span>.rand();</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;                $var=array($keyvar=&gt;$var,$keyname=&gt;$reference);</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;                $avar=&amp;$var[$keyvar];</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;                $type=ucfirst(gettype($avar));</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;                <span class="keywordflow">switch</span>($type)</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;                {</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;                    <span class="keywordflow">case</span> <span class="stringliteral">&#39;String&#39;</span>:$type_color=<span class="stringliteral">&#39;&lt;span style=&quot;color:#CF3F33;&quot;&gt;&#39;</span>;<span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;                    <span class="keywordflow">case</span> <span class="stringliteral">&#39;Integer&#39;</span>:$type_color=<span class="stringliteral">&#39;&lt;span style=&quot;color:red;&quot;&gt;&#39;</span>;<span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;                    <span class="keywordflow">case</span> <span class="stringliteral">&#39;Double&#39;</span>:$type_color=<span class="stringliteral">&#39;&lt;span style=&quot;color:#10C500;&quot;&gt;&#39;</span>; $type=<span class="stringliteral">&#39;Float&#39;</span>;<span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;                    <span class="keywordflow">case</span> <span class="stringliteral">&#39;Boolean&#39;</span>:$type_color=<span class="stringliteral">&#39;&lt;span style=&quot;color:#92008d;&quot;&gt;&#39;</span>;<span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;                    <span class="keywordflow">case</span> <span class="stringliteral">&#39;NULL&#39;</span>:$type_color=<span class="stringliteral">&#39;&lt;span style=&quot;color:black;&quot;&gt;&#39;</span>;<span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;                    <span class="keywordflow">default</span>:$type_color=<span class="stringliteral">&#39;&lt;span&gt;&#39;</span>;</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;                }</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;                <span class="keywordflow">if</span>(is_array($avar))</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;                {</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;                    $count=count($avar);</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;                    @$result.=$indent.($varName ? <span class="stringliteral">&#39;&lt;span&gt;&#39;</span> . $varName . <span class="stringliteral">&#39;&lt;/span&gt; =&gt; &#39;</span> : <span class="stringliteral">&#39;&lt;/span&gt;&#39;</span>);</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;                    <span class="keywordflow">if</span>(!empty($avar))</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;                    {</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;                        $depth=($depth+1);</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;                        $result.=<span class="stringliteral">&#39;&lt;a href=&quot;#&quot; onclick=&quot;ptc_show_vars(\&#39;&#39;</span>.$id.<span class="charliteral">&#39;\&#39;</span>,<span class="keyword">this</span>);<span class="keywordflow">return</span> <span class="keyword">false</span>;<span class="stringliteral">&quot;&gt;&lt;span&gt;&#39;.</span></div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;<span class="stringliteral">                                                            $type.&#39;(&#39;.$count.&#39;)&amp;dArr;&lt;/span&gt;&lt;/a&gt;&#39;;</span></div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;<span class="stringliteral">                        $result.=&#39;&lt;div style=&quot;</span>display:none;<span class="stringliteral">&quot; id=&quot;</span><span class="stringliteral">&#39;.$id.&#39;</span><span class="stringliteral">&quot;&gt;&#39;.$indent.&#39;&lt;span&gt; (&lt;/span&gt;&lt;br&gt;&#39;;</span></div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;<span class="stringliteral">                        $keys=array_keys($avar);</span></div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;<span class="stringliteral">                        if ( $depth &lt; static::$_options[ &#39;max_dump_depth&#39; ] )</span></div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;<span class="stringliteral">                        {</span></div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;<span class="stringliteral">                            foreach ( $keys as $name )</span></div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;<span class="stringliteral">                            {</span></div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;<span class="stringliteral">                                if ( $name !== &#39;GLOBALS&#39; ) // avoid globals for recursion nightmares</span></div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;<span class="stringliteral">                                {</span></div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;<span class="stringliteral">                                    $value = &amp;$avar[ $name ];</span></div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;<span class="stringliteral">                                    $name=static::_cleanBuffer($name);</span></div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;<span class="stringliteral">                                    $result.=static::_doDump($value,&#39;&lt;span style=&quot;</span>color:#CF7F18;<span class="stringliteral">&quot;&gt;[\&#39;&#39;.</span></div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;<span class="stringliteral">                                        $name.&#39;\&#39;]&lt;/span&gt;&#39;,$indent.$do_dump_indent,$reference,$depth);</span></div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;<span class="stringliteral">                                }</span></div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;<span class="stringliteral">                            }</span></div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;<span class="stringliteral">                        }</span></div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;<span class="stringliteral">                        else</span></div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;<span class="stringliteral">                        {</span></div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;<span class="stringliteral">                            $result.=$indent.$do_dump_indent.$varName.&#39; &lt;span style=&quot;</span><span class="stringliteral">&#39;.</span></div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;<span class="stringliteral">                                    $span_color.&#39;</span><span class="stringliteral">&quot;&gt;&#39;.$type=ucfirst(gettype($var[$keyvar])).</span></div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;<span class="stringliteral">                                        &#39;&lt;/span&gt; =&gt; **MAX DEPTH REACHED** &lt;span style=&quot;</span>color:#e87800;<span class="stringliteral">&quot;&gt;&#39;.</span></div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;<span class="stringliteral">                                                                        $var[$keyname].&#39;&lt;/span&gt;&lt;br&gt;&#39;;</span></div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;<span class="stringliteral">                        }</span></div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;<span class="stringliteral">                        $result.=$indent.&#39;&lt;span&gt; )&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;!-- --&gt;&lt;/div&gt;&#39;;</span></div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;<span class="stringliteral">                    }</span></div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;<span class="stringliteral">                    else{ $result.=&#39;&lt;span style=&quot;</span><span class="stringliteral">&#39;.$span_color.&#39;</span><span class="stringliteral">&quot;&gt;&#39;.$type.&#39;(&#39;.$count.&#39;)&lt;/span&gt;&lt;/br&gt;&#39;; }</span></div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;<span class="stringliteral">                }</span></div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;<span class="stringliteral">                else if ( is_object( $avar ) )</span></div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;<span class="stringliteral">                {</span></div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;<span class="stringliteral">                    $rf = @new \ReflectionFunction( $avar );    </span></div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;<span class="stringliteral">                    if ( ( @$rf-&gt;getName( ) == &#39;{closure}&#39; ) ) // work with lambda functions first</span></div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;<span class="stringliteral">                    {</span></div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;<span class="stringliteral">                        $result .= $indent . ( $varName ? $varName . &#39; =&gt; &#39; : &#39;&#39;);</span></div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;<span class="stringliteral">                        $result .= &#39;&lt;span&gt;**RUNTIME CREATED FUNCTION** &#39;;</span></div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;<span class="stringliteral">                        if ( @$rf-&gt;getFileName( ) ) { $result .= @$rf-&gt;getFileName( ); } </span></div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;<span class="stringliteral">                        if ( @$rf-&gt;getStartLine( ) ) { $result .= &#39;:&#39; . @$rf-&gt;getStartLine( ); } </span></div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;<span class="stringliteral">                        if ( @$rf-&gt;getStartLine( ) ) { $result .= &#39;-&#39; . @$rf-&gt;getEndline( ); }</span></div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;<span class="stringliteral">                        $result .= &#39;&lt;/span&gt;&lt;br&gt;&#39;; </span></div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;<span class="stringliteral">                    }</span></div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;<span class="stringliteral">                    else</span></div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;<span class="stringliteral">                    {</span></div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;<span class="stringliteral">                        @$avar-&gt;recursion_protection_scheme = &quot;</span>recursion_protection_scheme<span class="stringliteral">&quot;;</span></div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;<span class="stringliteral">                        $depth = ( $depth + 1 );</span></div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;<span class="stringliteral">                        @$result .= $indent . ( $varName ? $varName . &#39; =&gt; &#39; : &#39;&#39;);</span></div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;<span class="stringliteral">                        $result .= &#39;&lt;a href=&quot;</span>#<span class="stringliteral">&quot; onclick=&quot;</span>ptc_show_vars(\<span class="stringliteral">&#39;&#39;</span>.$id.<span class="charliteral">&#39;\&#39;</span>,<span class="keyword">this</span>);<span class="keywordflow">return</span> <span class="keyword">false</span>;<span class="stringliteral">&quot;&gt;&#39;;</span></div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;<span class="stringliteral">                        $result .= &#39;&lt;span&gt;&#39; . $type . &#39;(&#39; . get_class( $avar ) . &#39;)&amp;dArr;&lt;/span&gt;&lt;/a&gt;&#39;.</span></div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;<span class="stringliteral">                            &#39;&lt;div style=&quot;</span>display:none;<span class="stringliteral">&quot; id=&quot;</span><span class="stringliteral">&#39; . $id . &#39;</span><span class="stringliteral">&quot;&gt;&#39; . $indent . &#39; &lt;span&gt; ( &lt;/span&gt;&lt;br&gt;&#39;;</span></div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;<span class="stringliteral">                        if ( $depth &lt; static::$_options[ &#39;max_dump_depth&#39; ] )</span></div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;<span class="stringliteral">                        {</span></div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;<span class="stringliteral">                            // public properties</span></div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;<span class="stringliteral">                            $class_properties = array( );</span></div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;<span class="stringliteral">                            foreach ( $avar as $name =&gt; $value )</span></div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;<span class="stringliteral">                            {                   </span></div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;<span class="stringliteral">                                $name = static::_cleanBuffer( $name );</span></div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;<span class="stringliteral">                                $name=is_object($value) ? &#39;&lt;span&gt;&#39;.$name.&#39;&lt;/span&gt;&#39; : $name;</span></div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;<span class="stringliteral">                                $result .= static::_doDump( $value , $name ,$indent . </span></div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;<span class="stringliteral">                                                        $do_dump_indent , $reference,$depth );</span></div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;<span class="stringliteral">                                $class_properties[ ] = $name;</span></div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;<span class="stringliteral">                            }</span></div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;<span class="stringliteral">                            // protected/private properties</span></div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;<span class="stringliteral">                            $class = @new \ReflectionClass( $avar );</span></div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;<span class="stringliteral">                            $properties = $class-&gt;getProperties( );</span></div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;<span class="stringliteral">                            foreach ( $properties as $property ) </span></div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;<span class="stringliteral">                            {</span></div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;<span class="stringliteral">                                $name = $property-&gt;getName( );</span></div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;<span class="stringliteral">                                if ( $property-&gt;isPrivate( ) ) { $name = $name . &#39;:private&#39;; }</span></div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;<span class="stringliteral">                                else if ( $property-&gt;isProtected( ) ) { $name = $name.&#39;:protected&#39;; }</span></div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;<span class="stringliteral">                                if ( $property-&gt;isStatic( ) ) { $name = $name . &#39;:static&#39;; }</span></div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;<span class="stringliteral">                                $property-&gt;setAccessible( true );</span></div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;<span class="stringliteral">                                $value = $property-&gt;getValue( $avar );</span></div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;<span class="stringliteral">                                if(!in_array($name,$class_properties))</span></div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;<span class="stringliteral">                                {</span></div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;<span class="stringliteral">                                    $name=static::_cleanBuffer($name);</span></div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;<span class="stringliteral">                                    $name=is_object($value) ? &#39;&lt;span&gt;&#39;.$name.&#39;&lt;/span&gt;&#39; : $name;</span></div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;<span class="stringliteral">                                    $result.=static::_doDump($value,$name,$indent.$do_dump_indent,$reference,$depth);</span></div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;<span class="stringliteral">                                }</span></div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;<span class="stringliteral">                            }</span></div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;<span class="stringliteral">                            $methods=$class-&gt;getMethods();</span></div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;<span class="stringliteral">                            if($methods)</span></div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;<span class="stringliteral">                            {</span></div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;<span class="stringliteral">                                $class_methods=array();</span></div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;<span class="stringliteral">                                $z=0;</span></div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;<span class="stringliteral">                                foreach($methods as $method)</span></div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;<span class="stringliteral">                                { </span></div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;<span class="stringliteral">                                    $name=$method-&gt;getName();</span></div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;<span class="stringliteral">                                    if($method-&gt;isPrivate()){ $name=$name.&#39;:private&#39;; }</span></div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;<span class="stringliteral">                                    else if($method-&gt;isProtected()){ $name=$name.&#39;:protected&#39;; }</span></div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;<span class="stringliteral">                                    if($method-&gt;isStatic()){ $name=$name.&#39;:static&#39;; }</span></div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;<span class="stringliteral">                                    $class_methods[$z]=$name;</span></div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;<span class="stringliteral">                                    $z++;</span></div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;<span class="stringliteral">                                }</span></div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;<span class="stringliteral">                                $result.=static::_doDump($class_methods,</span></div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;<span class="stringliteral">                                    &#39;&lt;span style=&quot;</span>color:#CF7F18;<span class="stringliteral">&quot;&gt;[**class_methods:&#39;.get_class($avar).</span></div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;<span class="stringliteral">                                                    &#39;**]&lt;/span&gt;&#39;, $indent.$do_dump_indent,$reference);</span></div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;<span class="stringliteral">                            }</span></div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;<span class="stringliteral">                        }</span></div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;<span class="stringliteral">                        else</span></div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;<span class="stringliteral">                        {</span></div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;<span class="stringliteral">                                $result.=$indent.$do_dump_indent.$varName.</span></div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;<span class="stringliteral">                                    &#39; &lt;span style=&quot;</span><span class="stringliteral">&#39;.$span_color.&#39;</span><span class="stringliteral">&quot;&gt;&#39;.$type=ucfirst(gettype($var[$keyvar])).</span></div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;<span class="stringliteral">                                    &#39;&lt;/span&gt; =&gt; **MAX DEPTH REACHED** &lt;span style=&quot;</span>color:#e87800;<span class="stringliteral">&quot;&gt;&#39;.</span></div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;<span class="stringliteral">                                                                        $var[$keyname].&#39;&lt;/span&gt;&lt;br&gt;&#39;;</span></div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;<span class="stringliteral">                        }</span></div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;<span class="stringliteral">                        $result.=$indent.&#39;&lt;span&gt; ) &lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;!-- --&gt;&lt;/div&gt;&#39;;</span></div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;<span class="stringliteral">                        unset($avar-&gt;recursion_protection_scheme);</span></div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;<span class="stringliteral">                    }</span></div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;<span class="stringliteral">                }</span></div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;<span class="stringliteral">                else</span></div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;<span class="stringliteral">                {</span></div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;<span class="stringliteral">                    if($varName==&quot;</span>recursion_protection_scheme<span class="stringliteral">&quot;){ return; }</span></div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;<span class="stringliteral">                    @$result .= $indent . &#39;&lt;span&gt;&#39; . $varName . &#39;&lt;/span&gt; =&gt; &lt;span style=&quot;</span><span class="stringliteral">&#39;.$span_color.&#39;</span><span class="stringliteral">&quot;&gt;&#39;;</span></div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;<span class="stringliteral">                    if(is_string($avar) &amp;&amp; (strlen($avar)&gt;50))</span></div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;<span class="stringliteral">                    { </span></div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;<span class="stringliteral">                        $result.=&#39;&lt;a href=&quot;</span>#<span class="stringliteral">&quot; onclick=&quot;</span>ptc_show_string(\<span class="stringliteral">&#39;&#39;</span>.$id.</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;                                    <span class="charliteral">&#39;\&#39;</span>,<span class="keyword">this</span>);<span class="keywordflow">return</span> <span class="keyword">false</span>;<span class="stringliteral">&quot; style=&quot;</span>font-weight:bold;<span class="stringliteral">&quot;&gt;&#39;; </span></div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;<span class="stringliteral">                    }</span></div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;<span class="stringliteral">                    $result.=$type.&#39;(&#39;;</span></div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;<span class="stringliteral">                    if ( is_bool( $avar ) )</span></div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;<span class="stringliteral">                    {</span></div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;<span class="stringliteral">                        $result .= strlen( $avar ) . &#39;)&lt;/span&gt; &#39; . $type_color . ( $avar == 1 ? &quot;</span>TRUE<span class="stringliteral">&quot; : &quot;</span>FALSE<span class="stringliteral">&quot; ) . </span></div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;<span class="stringliteral">                                                                                    &#39;&lt;/span&gt;&lt;br&gt;&#39;;</span></div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;<span class="stringliteral">                    }</span></div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;<span class="stringliteral">                    else if ( is_null( $avar ) ) { $result .= strlen( $avar ) . &#39;)&lt;/span&gt; &#39; . $type_color . &#39;NULL&lt;/span&gt;&lt;br&gt;&#39;; }</span></div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;<span class="stringliteral">                    else if ( is_string( $avar ) )</span></div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;<span class="stringliteral">                    {</span></div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;<span class="stringliteral">                        $avar = trim( static::_cleanBuffer( $avar ) );</span></div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;<span class="stringliteral">                        $string = ( strlen( $avar ) &gt; 50 ) ? substr( $avar , 0 , 47 ) . &#39;...&#39; : $avar;</span></div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;<span class="stringliteral">                        $string = &#39;&lt;span id=&quot;</span><span class="stringliteral">&#39; . $id . &#39;</span>-span<span class="stringliteral">&quot;&gt;\&#39;&#39; . $string . &#39;\&#39;&lt;/span&gt;&#39;;</span></div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;<span class="stringliteral">                        $result .= strlen ( $avar ) . &#39;) &#39;;</span></div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;<span class="stringliteral">                        $result .= ( strlen( $avar ) &gt; 50 ) ? &#39;&amp;dArr;&lt;/span&gt;&lt;/a&gt;&#39; : &#39;&lt;/span&gt;&#39;;</span></div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;<span class="stringliteral">                        $result .= $type_color . $string . &#39;&lt;/span&gt;&#39;;</span></div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;<span class="stringliteral">                        if ( strlen( $avar ) &gt; 50 )</span></div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;<span class="stringliteral">                        { </span></div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;<span class="stringliteral">                            $result.=&#39;&lt;div style=&quot;</span>display:none;<span class="stringliteral">&quot; id=&quot;</span><span class="stringliteral">&#39;.$id.&#39;</span><span class="stringliteral">&quot;&gt;&#39;.$type_color.&#39;\&#39;&#39;.$avar.&#39;\&#39;&lt;/div&gt;&#39;; </span></div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;<span class="stringliteral">                        }</span></div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;<span class="stringliteral">                        $result .= &#39;&lt;br&gt;&#39;;</span></div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;<span class="stringliteral">                    }</span></div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;<span class="stringliteral">                    else // could be a float, an integer or undefined</span></div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;<span class="stringliteral">                    {                                       </span></div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;<span class="stringliteral">                        //$avar=static::_cleanBuffer($avar);</span></div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;<span class="stringliteral">                        $result .= @strlen( $avar ) . &#39;)&lt;/span&gt; &#39; . $type_color . $avar . &#39;&lt;/span&gt;&lt;br&gt;&#39;;</span></div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;<span class="stringliteral">                    }</span></div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;<span class="stringliteral">                }</span></div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;<span class="stringliteral">                $var = @$var[ $keyvar ];</span></div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;<span class="stringliteral">            }</span></div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;<span class="stringliteral">            //$var=@$var[$keyvar];          </span></div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;<span class="stringliteral">            return $result;</span></div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;<span class="stringliteral">        }</span><span class="comment"></span></div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;<span class="comment">        * Sorts the buffer</span></div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;<span class="comment">        * @return   the sorted buffer array</span></div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l01289"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a442b6a1dbf38ddf96594c1e7545fc90d"> 1289</a></span>&#160;        protected static function _sortBuffer()</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;        {</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;            if(@static::$_buffer)</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;            {</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;                foreach(static::$_buffer as $k=&gt;$arr)</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;                {</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;                    $type=$arr[&#39;type&#39;];</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;                    //unset($arr[&#39;type&#39;]);</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;                    $buffer[$type][]=$arr;</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;                }</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;                return @static::$_buffer=$buffer;</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;            }</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;        }<span class="comment"></span></div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;<span class="comment">        * Trace php as best as we can</span></div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;<span class="comment">        * @param    int $depth  the maximum trace depth</span></div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;<span class="comment">        * @return   the trace without the methods in the PtcDebug::$_excludeMethods property</span></div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l01307"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a137b4be275c609852b78701a7ec6eda9"> 1307</a></span>&#160;        protected static function _debugTrace( $depth = NULL )</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;        {                                       </div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;            if ( !$depth ) { $depth = static::$_options[ &#39;trace_depth&#39; ]; }</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;            if ( version_compare( PHP_VERSION, &#39;5.3.6&#39; ) &lt; 0 ) </div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;            {</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;                $raw_trace = debug_backtrace( false );</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;            }</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;            else { $raw_trace = debug_backtrace( DEBUG_BACKTRACE_IGNORE_ARGS ); }</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;            //$this_methods = get_class_methods( get_called_class( ) );</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;            foreach ( $raw_trace as $k =&gt; $arr )</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;            {</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;                if((@$arr[&#39;class&#39;]==&#39;PtcDebug&#39; &amp;&amp; (@preg_match(&quot;|_|<span class="stringliteral">&quot;,@$arr[&#39;function&#39;]) || </span></div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;<span class="stringliteral">                                @in_array(@$arr[&#39;function&#39;],static::$_excludeMethods))) || </span></div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;<span class="stringliteral">                            @preg_match(&quot;</span>|__|<span class="stringliteral">&quot;,@$arr[&#39;function&#39;])){ unset($raw_trace[$k]); }</span></div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;<span class="stringliteral">            }</span></div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;<span class="stringliteral">            if(!empty($raw_trace))</span></div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;<span class="stringliteral">            {</span></div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;<span class="stringliteral">                $raw_trace=@array_values($raw_trace);</span></div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;<span class="stringliteral">                $raw_trace=@array_reverse($raw_trace);                  </span></div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;<span class="stringliteral">                if($depth&gt;count($raw_trace)){ $depth=count($raw_trace); }</span></div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;<span class="stringliteral">                for($i=0;$i&lt;$depth;$i++)</span></div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;<span class="stringliteral">                { </span></div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;<span class="stringliteral">                    if(@$raw_trace[$i][&#39;line&#39;] &amp;&amp; @$raw_trace[$i][&#39;file&#39;])</span></div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;<span class="stringliteral">                    {</span></div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;<span class="stringliteral">                        $php_trace[&#39;file&#39;][]=$raw_trace[$i][&#39;file&#39;].&#39;:&#39;.$raw_trace[$i][&#39;line&#39;];</span></div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;<span class="stringliteral">                        $php_trace[&#39;line&#39;][]=$raw_trace[$i][&#39;line&#39;];</span></div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;<span class="stringliteral">                        $php_trace[&#39;class&#39;][]=@$raw_trace[$i][&#39;class&#39;];</span></div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;<span class="stringliteral">                        //$php_trace[&#39;function&#39;][]=$raw_trace[$i][&#39;function&#39;];</span></div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;<span class="stringliteral">                        $php_trace[&#39;function&#39;][]=(@$raw_trace[$i][&#39;function&#39;]) ? </span></div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;<span class="stringliteral">                                                $raw_trace[$i][&#39;function&#39;].&#39;()&#39; : null;</span></div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;<span class="stringliteral">                    }</span></div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;<span class="stringliteral">                }</span></div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;<span class="stringliteral">                unset( $raw_trace );</span></div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;<span class="stringliteral">            }</span></div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;<span class="stringliteral">            else{ $php_trace=null; }</span></div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;<span class="stringliteral">            return @$php_trace;</span></div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;<span class="stringliteral">        }</span><span class="comment"></span></div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;<span class="comment">        * Gets the fatal error on shutdown</span></div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l01347"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#ac6c57be26e8a80ca764a822d6b3659b3"> 1347</a></span>&#160;        protected static function _lastError()</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;        {</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;            if(static::$_options[&#39;replace_error_handler&#39;] &amp;&amp; $error=error_get_last()) </div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;            {</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;                $err_type=static::_msgType( $error[&#39;type&#39;] );</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;                if($err_type==&#39;Php Error&#39;)</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;                {                  </div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;                    $err=array(&#39;errno&#39;=&gt;$err_type,&#39;errstr&#39;=&gt;$error[&#39;message&#39;],</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;                                &#39;errfile&#39;=&gt;$error[&#39;file&#39;],&#39;errline&#39;=&gt;$error[&#39;line&#39;]);       </div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;                    static::_buildBuffer(&#39;log&#39;,&#39;{errorHandler}&#39;,$err);</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;                }</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;            }</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;        }<span class="comment"></span></div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;<span class="comment">        * Builds the debug interface</span></div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;<span class="comment">        * @return   the html with interface</span></div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l01364"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#ae22ce1ecd71c6eeb2641a2223de6f6a5"> 1364</a></span>&#160;        protected static function _buildInterface( )</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;        {</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;            static::_sortBuffer( );</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;            $interface = static::_includeJs( );                 // include js</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;            $interface .= static::_includeCss( );                   // include css</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;            $interface .= &#39;&lt;div id=&quot;ptcDebugPanel<span class="stringliteral">&quot;&gt;&#39;;</span></div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;<span class="stringliteral">            $interface .= &#39;&lt;div id=&quot;</span>ptcDebugPanelTitle<span class="stringliteral">&quot; style=&quot;</span>display:none;<span class="stringliteral">&quot;&gt;&amp;nbsp;&lt;/div&gt;&#39;;</span></div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;<span class="stringliteral">            $interface .= static::_buildMenu( );                    // top menu</span></div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;<span class="stringliteral">            $interface .= static::_buildMsgPanel( &#39;log&#39; , &#39;msgPanel&#39; ); // msgs</span></div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;<span class="stringliteral">            $interface .= static::_buildMsgPanel( &#39;sql&#39; , &#39;sqlPanel&#39; );     // sql</span></div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;<span class="stringliteral">            $interface .= static::_buildAnalysisPanel( );               // Analysis</span></div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;<span class="stringliteral">            $interface .= static::_buildVarsPanel( );               // vars</span></div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;<span class="stringliteral">            $interface .= static::_buildW3cPanel( );                // w3c</span></div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;<span class="stringliteral">            $interface .= static::_buildTimerPanel( );              // timer</span></div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;<span class="stringliteral">            $interface .= &#39;&lt;div id=&quot;</span>ptcDebugStatusBar<span class="stringliteral">&quot; style=&quot;</span>display:none;<span class="stringliteral">&quot;&gt;&amp;nbsp;&lt;/div&gt;&#39;;</span></div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;<span class="stringliteral">            $interface .= &#39;&lt;/div&gt;&#39;;</span></div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;<span class="stringliteral">            //$interface = static::_compressHtml( $interface ); // make html lighter</span></div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;<span class="stringliteral">            return $interface;</span></div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;<span class="stringliteral">        }</span><span class="comment"></span></div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;<span class="comment">        * Builds the debug menu</span></div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;<span class="comment">        * @return   the html menu compressed</span></div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l01387"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#aa936166e6d2ed6e2c47963f414922287"> 1387</a></span>&#160;        protected static function _buildMenu( )</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;        {</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;            $ul = &#39;&lt;ul class=&quot;tabs right<span class="stringliteral">&quot; id=&quot;</span>floatingTab<span class="stringliteral">&quot;&gt;&#39;;</span></div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;<span class="stringliteral">            //$ul .= &#39;&lt;li&gt;&lt;a href=&quot;</span>#<span class="stringliteral">&quot; onClick=&quot;</span>minimize();<span class="keywordflow">return</span> <span class="keyword">false</span>;<span class="stringliteral">&quot;&gt;&gt;&gt;&lt;/a&gt;&lt;/li&gt;&#39;;</span></div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;<span class="stringliteral">            $num_msg = @count( static::$_buffer[ &#39;log&#39; ] );</span></div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;<span class="stringliteral">            $ul .= &#39;&lt;li&gt;&#39; . static::_menuLinks( &#39;msgPanel&#39; , &#39;log &amp; messages ( &#39; . $num_msg . &#39; ) &#39; , </span></div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;<span class="stringliteral">                                                &#39;messages ( &#39; . $num_msg . &#39; ) &#39; ) . &#39;&lt;/li&gt;&#39;;</span></div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;<span class="stringliteral">            $num_msg = @count( static::$_buffer[ &#39;sql&#39; ] );</span></div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;<span class="stringliteral">            $ul .= &#39;&lt;li&gt;&#39; . static::_menuLinks( &#39;sqlPanel&#39; , &#39;mysql query messages ( &#39; . $num_msg . &#39; ) &#39; , </span></div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;<span class="stringliteral">                                                        &#39;sql ( &#39; . $num_msg . &#39; ) &#39; ) . &#39;&lt;/li&gt;&#39;;</span></div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;<span class="stringliteral">            $num_msg = (@count( static::$_finalCoverageData ) + @count( static::$_finalTraceData ) );</span></div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;<span class="stringliteral">            $ul .= &#39;&lt;li&gt;&#39; . static::_menuLinks( &#39;analysisPanel&#39; , &#39;analysis ( &#39; . $num_msg . &#39; ) &#39; , </span></div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;<span class="stringliteral">                                                    &#39;analysis ( &#39; . $num_msg . &#39; ) &#39; ) . &#39;&lt;/li&gt;&#39;;</span></div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;<span class="stringliteral">            $ul .= &#39;&lt;li&gt;&#39; . static::_menuLinks( &#39;varsPanel&#39; , &#39;configuration &amp; environment variables&#39; , </span></div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;<span class="stringliteral">                                                    &#39;vars &amp; config&#39; ) . &#39;&lt;/li&gt;&#39;;</span></div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;<span class="stringliteral">            $ul .= &#39;&lt;li&gt;&#39; . static::_menuLinks( &#39;w3cPanel&#39; , &#39;W3C validator&#39; , &#39;w3c&#39; ) . &#39;&lt;/a&gt;&lt;/li&gt;&#39;;</span></div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;<span class="stringliteral">            $ul .=&#39;&lt;li&gt;&#39; . static::_menuLinks( &#39;timerPanel&#39; , &#39;execution time monitor&#39; , &#39;timer&#39; ) . &#39;&lt;/li&gt;&#39;;</span></div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;<span class="stringliteral">            $ul .= &#39;&lt;li&gt;&lt;a href=&quot;</span>#<span class="stringliteral">&quot; onClick=&quot;</span>hideInterface();<span class="keywordflow">return</span> <span class="keyword">false</span>;<span class="stringliteral">&quot;&gt;X&lt;/a&gt;&lt;/li&gt;&#39;;</span></div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;<span class="stringliteral">            $ul .= &#39;&lt;/ul&gt; &#39;;</span></div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;<span class="stringliteral">            return $ul = static::_compressHtml( $ul );</span></div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;<span class="stringliteral">        }</span><span class="comment"></span></div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;<span class="comment">        * Builds the menu links</span></div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;<span class="comment">        * @param    string      $id     the panel id</span></div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;<span class="comment">        * @param    string      $title      the panel title</span></div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;<span class="comment">        * @param    string      $text       the text for the link</span></div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;<span class="comment">        * @return   the html anchor tag</span></div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l01415"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a4b336103f98a8bdb579dc3bd5904ca93"> 1415</a></span>&#160;        protected static function _menuLinks( $id , $title , $text )</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;        {</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;            $title = ucwords( $title );</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;            $text = strtoupper( $text );</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;            $return = &#39;&lt;a href=&quot;#<span class="stringliteral">&quot; onClick=&quot;</span>ptc_show_panel(\<span class="stringliteral">&#39;&#39;</span> . $id . <span class="charliteral">&#39;\&#39;</span>,\<span class="stringliteral">&#39;&#39;</span> . </div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;                                        $title . <span class="charliteral">&#39;\&#39;</span>,<span class="keyword">this</span>);<span class="keywordflow">return</span> <span class="keyword">false</span>;<span class="stringliteral">&quot;&gt;&#39;;</span></div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;<span class="stringliteral">            return $return .= $text . &#39;&lt;/a&gt;&#39;;</span></div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;<span class="stringliteral">        }</span><span class="comment"></span></div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;<span class="comment">        * Checks message types</span></div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;<span class="comment">        * @param    string|numeric  $msg        php standards</span></div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;<span class="comment">        * @return   the message type as a readable string</span></div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l01428"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a9343bed0168565562cebde23df907cd5"> 1428</a></span>&#160;        protected static function _msgType( $msg = NULL )</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;        {</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;            switch ( $msg )</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;            {</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;                case @E_NOTICE:</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;                case @E_USER_NOTICE:</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;                case @E_DEPRECATED:</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;                case @E_USER_DEPRECATED:</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;                case @E_STRICT:</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;                    return &#39;Php Notice&#39;;</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;                break;</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;                case @E_WARNING:</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;                case @E_USER_WARNING:</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;                case @E_CORE_WARNING:</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;                case @E_COMPILE_WARNING:</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;                    return &#39;Php Warning&#39;;</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;                break;</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;                case @E_ERROR:</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;                case @E_PARSE;</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;                case @E_RECOVERABLE_ERROR:</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;                case @E_USER_ERROR:</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;                case @E_CORE_ERROR:</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;                case @E_COMPILE_ERROR:</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;                    return &#39;Php Error&#39;;</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;                break;</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;                case &#39;exception&#39; : return &#39;Exception&#39;;</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;                break;</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;                default: return &#39;General&#39;;</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;            }</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;        }<span class="comment"></span></div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;<span class="comment">        * Builds the html log and sql tables</span></div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;<span class="comment">        * @param    string      $type       sql|log</span></div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;<span class="comment">        * @return   the html table data</span></div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l01463"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#ac76117a082867d5d542641d02e26bb93"> 1463</a></span>&#160;        protected static function _buildHtmlTable( $type )</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;        {</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;            $div = null;</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;            if ( @static::$_buffer[ $type ] )</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;            {</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;                $categories = array( );</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;                foreach ( static::$_buffer[ $type ] as $k =&gt; $arr )</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;                {</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;                    if ( @$arr[ &#39;errno&#39; ] )</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;                    {           </div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;                        if ( !array_key_exists( $arr[ &#39;errno&#39; ] , $categories ) )</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;                        {   </div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;                            $categories[ $arr[ &#39;errno&#39; ] ] = 1; </div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;                        }</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;                        else</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;                        { </div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;                            $categories[ $arr[ &#39;errno&#39; ] ] = ( $categories[ $arr[ &#39;errno&#39; ] ] + 1 ); </div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;                        }</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;                    }</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;                }</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;                if ( sizeof( $categories ) &gt; 1 )</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;                {</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;                    ksort( $categories );</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;                    $div .= &#39;&lt;div id=&quot;ptcDebugFilterBar<span class="stringliteral">&quot;&gt;&lt;a href=&quot;</span>#<span class="stringliteral">&quot; onClick=&quot;</span>ptc_filter_categories(\<span class="stringliteral">&#39;&#39;</span> . </div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;                                    $type . <span class="stringliteral">&#39;Table\&#39;,\&#39;showAll\&#39;)&quot; class=&quot;show-all&quot;&gt;Show All&lt;/a&gt; | &#39;</span>;</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;                    <span class="keywordflow">foreach</span> ( $categories as $k =&gt; $v )</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;                    { </div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;                        $cat_id = str_replace( <span class="charliteral">&#39; &#39;</span> , <span class="charliteral">&#39;-&#39;</span> , strtolower( $k ) );</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;                        $div .= <span class="stringliteral">&#39;&lt;a href=&quot;#&quot; onClick=&quot;ptc_filter_categories(\&#39;&#39;</span> . $type . </div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;                            <span class="stringliteral">&#39;Table\&#39;,\&#39;&#39;</span> . $cat_id . <span class="charliteral">&#39;\&#39;</span>)<span class="stringliteral">&quot; class=&quot;</span><span class="stringliteral">&#39; . $cat_id . &#39;</span><span class="stringliteral">&quot;&gt;&#39; . $k . &quot;</span>(<span class="stringliteral">&quot; . $v . &quot;</span>)&lt;/a&gt; | <span class="stringliteral">&quot;; </span></div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;<span class="stringliteral">                    }</span></div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;<span class="stringliteral">                    $div = substr( $div , 0 , -3 );</span></div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;<span class="stringliteral">                    $div .= &#39;&lt;/div&gt;&#39;;</span></div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;<span class="stringliteral">                }</span></div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;<span class="stringliteral">                $a = 1;</span></div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;<span class="stringliteral">                $div .= &#39;&lt;table border=&quot;</span>1<span class="stringliteral">&quot; style=&quot;</span>width:100%<span class="stringliteral">&quot; class=&quot;</span>msgTable<span class="stringliteral">&quot; id=&quot;</span><span class="stringliteral">&#39; . $type . &#39;</span>Table<span class="stringliteral">&quot;&gt;&lt;tr&gt;&#39;;</span></div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;<span class="stringliteral">                $div .= &#39;&lt;th&gt;#&lt;/th&gt;&lt;th&gt;category&lt;/th&gt;&lt;th&gt;file&lt;/th&gt;&lt;th&gt;line&lt;/th&gt;&#39;;</span></div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;<span class="stringliteral">                $div .= &#39;&lt;th&gt;class&lt;/th&gt;&lt;th&gt;function&lt;/th&gt;&#39;;</span></div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;<span class="stringliteral">                if ( $type == &#39;log&#39; ){ $div .= &#39;&lt;th&gt;type&lt;/th&gt;&#39;; }</span></div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;<span class="stringliteral">                $div .= &#39;&lt;th&gt;time&lt;/th&gt;&lt;th&gt;message&lt;/th&gt;&lt;/tr&gt;&#39;;</span></div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;<span class="stringliteral">                foreach ( static::$_buffer[ $type ] as $k =&gt; $arr )</span></div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;<span class="stringliteral">                {</span></div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;<span class="stringliteral">                    $msg_class = @str_replace( &#39; &#39; , &#39;-&#39; , $arr[ &#39;errno&#39; ] );</span></div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;<span class="stringliteral">                    $div .= &#39;&lt;tr class=&quot;</span><span class="stringliteral">&#39; . strtolower( $msg_class ) . &#39;</span><span class="stringliteral">&quot;&gt;&lt;td class=&quot;</span>fixed<span class="stringliteral">&quot;&gt;# &#39; . $a . &#39;&lt;/td&gt;&#39;;</span></div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;<span class="stringliteral">                    //$div.=&#39;&lt;td style=&quot;</span><span class="stringliteral">&#39;.static:: _errorMsgStyle($arr[&#39;</span>errno<span class="stringliteral">&#39;]).&#39;</span><span class="stringliteral">&quot;&gt;&#39;.$arr[&#39;errno&#39;].&#39;&lt;/td&gt;&#39;;</span></div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;<span class="stringliteral">                    $div .= &#39;&lt;td class=&quot;</span>fixed<span class="stringliteral">&quot;&gt;&lt;span style=&quot;</span>color:green;<span class="stringliteral">&quot;&gt;&#39;.@$arr[&#39;errno&#39;].&#39;&lt;/span&gt;&lt;/td&gt;&#39;;</span></div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;<span class="stringliteral">                    $div .= &#39;&lt;td class=&quot;</span>fixed<span class="stringliteral">&quot;&gt;&#39;;</span></div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;<span class="stringliteral">                    $div .= @static::_buildTraceLink( @$arr[ &#39;errfile&#39; ][ 0 ] , @$arr[ &#39;errline&#39; ][ 0 ] );</span></div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;<span class="stringliteral">                    $div .= &#39;&lt;span&gt;&#39; . @end( @explode( DIRECTORY_SEPARATOR , $arr[ &#39;errfile&#39; ][ 0 ] ) ).&#39;&lt;/span&gt;&lt;/a&gt;&#39;;</span></div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;<span class="stringliteral">                    if ( count( @$arr[ &#39;errfile&#39; ] ) &gt; 1 )</span></div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;<span class="stringliteral">                    {</span></div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;<span class="stringliteral">                        $class = &#39;ptc-debug-class-&#39; . rand( );</span></div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;<span class="stringliteral">                        $div .= &#39; &lt;a href=&quot;</span>#<span class="stringliteral">&quot; onclick=&quot;</span>ptc_show_trace(\<span class="stringliteral">&#39;&#39;</span> . $class . </div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;                                    <span class="charliteral">&#39;\&#39;</span>,<span class="keyword">this</span>);<span class="keywordflow">return</span> <span class="keyword">false</span>;<span class="stringliteral">&quot;&gt;&lt;span&gt;&#39; . &#39;&amp;dArr;&lt;/span&gt;&lt;/a&gt;&#39;;</span></div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;<span class="stringliteral">                    }</span></div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;<span class="stringliteral">                    @array_shift( $arr[ &#39;errfile&#39; ] );</span></div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;<span class="stringliteral">                    if ( !empty( $arr[ &#39;errfile&#39; ] ) )</span></div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;<span class="stringliteral">                    {</span></div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;<span class="stringliteral">                        $indent = &#39;&lt;span style=&quot;</span>color:black;<span class="stringliteral">&quot;&gt;| &amp;nbsp;&lt;/span&gt;&#39;;</span></div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;<span class="stringliteral">                        foreach ( $arr[ &#39;errfile&#39; ] as $k =&gt; $file )</span></div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;<span class="stringliteral">                        {</span></div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;<span class="stringliteral">                            $div .= &#39;&lt;div class=&quot;</span><span class="stringliteral">&#39; . $class . &#39;</span><span class="stringliteral">&quot; style=&quot;</span>display:none;<span class="stringliteral">&quot;&gt;&#39;;</span></div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;<span class="stringliteral">                            if ( $file || @$arr[ &#39;errfile&#39; ][ $k + 1 ] ){ $div .= $indent; }</span></div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;<span class="stringliteral">                            $params = @explode( &#39;:&#39; , str_replace( &#39;:\\&#39; , &#39;{win-patch}&#39; , $file ) ); // windows patch;</span></div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;<span class="stringliteral">                            @$params[ 0 ] = @str_replace( &#39;{win-patch}&#39; , &#39;:\\&#39; , @$params[ 0 ] );</span></div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;<span class="stringliteral">                            $div .= @static::_buildTraceLink( $params[ 0 ] , $params[ 1 ] );</span></div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;<span class="stringliteral">                            $div .= @end( @explode( DIRECTORY_SEPARATOR , $file ) ) . &#39;&lt;/a&gt;&lt;/div&gt;&#39;;     </span></div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;<span class="stringliteral">                            $indent = $indent . &#39;&lt;span style=&quot;</span>color:black;<span class="stringliteral">&quot;&gt;| &amp;nbsp;&lt;/span&gt;&#39;;                           </span></div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;<span class="stringliteral">                        }</span></div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;<span class="stringliteral">                    }</span></div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;<span class="stringliteral">                    $div .= &#39;&lt;/td&gt;&#39;;</span></div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;<span class="stringliteral">                    $div .= &#39;&lt;td class=&quot;</span>fixed<span class="stringliteral">&quot;&gt;&#39; . @static::_buildTraceTree( @$arr[ &#39;errline&#39; ] , $class , &#39;black&#39; ) . &#39;&lt;/td&gt;&#39;;</span></div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;<span class="stringliteral">                    $div .= &#39;&lt;td class=&quot;</span>fixed<span class="stringliteral">&quot;&gt;&#39; . @static::_buildTraceTree( @$arr[ &#39;class&#39; ] , $class , &#39;purple&#39; ) . &#39;&lt;/td&gt;&#39;;</span></div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;<span class="stringliteral">                    $div.=&#39;&lt;td class=&quot;</span>fixed<span class="stringliteral">&quot;&gt;&#39; . @static::_buildTraceTree( @$arr[ &#39;function&#39; ] , $class , &#39;darkred&#39; ) . &#39;&lt;/td&gt;&#39;;</span></div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;<span class="stringliteral">                    if ( $type == &#39;log&#39; )</span></div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;<span class="stringliteral">                    {</span></div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;<span class="stringliteral">                        $div .= &#39;&lt;td class=&quot;</span>fixed<span class="stringliteral">&quot;&gt;&#39;;</span></div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;<span class="stringliteral">                        switch ( @$arr[ &#39;var_type&#39; ] )</span></div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;<span class="stringliteral">                        {</span></div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;<span class="stringliteral">                            case &#39;boolean&#39; : $color = &#39;color:#92008d;&#39;; break;</span></div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;<span class="stringliteral">                            case &#39;NULL&#39; : $color = &#39;color:black;&#39;; break;</span></div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;<span class="stringliteral">                            case &#39;integer&#39; : $color = &#39;color:red;&#39;;  break;</span></div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;<span class="stringliteral">                            case &#39;double&#39; : $color = &#39;color:#10C500;&#39;; break;</span></div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;<span class="stringliteral">                            case &#39;array&#39; : $color = &#39;color:blue&#39;; break;</span></div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;<span class="stringliteral">                            case &#39;object&#39; : $color = &#39;color:#CF3F33&#39;; break;</span></div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;<span class="stringliteral">                            //case &#39;string&#39;: $color=&#39;color:#CF3F33&#39;; break;</span></div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;<span class="stringliteral">                            default : $color = &#39;&#39;;</span></div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;<span class="stringliteral">                        }</span></div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;<span class="stringliteral">                        $div .= &#39;&lt;span style=&quot;</span><span class="stringliteral">&#39; . $color . &#39;</span><span class="stringliteral">&quot;&gt;&#39; . @$arr[ &#39;var_type&#39; ] . &#39;&lt;/span&gt;&#39;;</span></div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;<span class="stringliteral">                        $div .= &#39;&lt;/td&gt;&#39;;</span></div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;<span class="stringliteral">                    }</span></div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;<span class="stringliteral">                    $div .= ( @$arr[ &#39;time&#39; ] ) ? &#39;&lt;td class=&quot;</span>fixed<span class="stringliteral">&quot;&gt;&lt;span style=&quot;</span>color:blue;font-weight:normal;<span class="stringliteral">&quot;&quot;</span>&gt;<span class="stringliteral">&#39;.</span></div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;<span class="stringliteral">                                            $arr[ &#39;</span>time<span class="stringliteral">&#39; ] . &#39;</span>&lt;/span&gt;&lt;/td&gt;<span class="stringliteral">&#39; : &#39;</span>&lt;td <span class="keyword">class</span>=<span class="stringliteral">&quot;fixed&quot;</span>&gt;&amp;nbsp;&lt;/td&gt;<span class="stringliteral">&#39;;  </span></div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;<span class="stringliteral">                    $errors = array( &#39;</span>php-warning<span class="stringliteral">&#39; , &#39;</span>php-notice<span class="stringliteral">&#39; , &#39;</span>php-error<span class="stringliteral">&#39; , &#39;</span>exception<span class="stringliteral">&#39; );                                            </span></div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;<span class="stringliteral">                    $err_style = ( !in_array( strtolower( $msg_class ) , $errors ) ) ? &#39;</span>font-weight:normal;<span class="stringliteral">&#39; : &#39;</span>color:darkred;<span class="stringliteral">&#39;;            </span></div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;<span class="stringliteral">                    $div .= &#39;</span>&lt;td&gt;&lt;span style=<span class="stringliteral">&quot;&#39; . $err_style . &#39;&quot;</span>&gt;<span class="stringliteral">&#39;;</span></div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;<span class="stringliteral">                    if ( @$arr[ &#39;</span>errmsg<span class="stringliteral">&#39; ] ){ $div .= @$arr[ &#39;</span>errmsg<span class="stringliteral">&#39; ] . &#39;</span> <span class="stringliteral">&#39;; }</span></div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;<span class="stringliteral">                    $div .= static::_formatVar( @$arr[ &#39;</span>errstr<span class="stringliteral">&#39; ] );</span></div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;<span class="stringliteral">                    $div .= &#39;</span>&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;<span class="stringliteral">&#39;;</span></div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;<span class="stringliteral">                    $a++;</span></div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;<span class="stringliteral">                }</span></div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;<span class="stringliteral">                $div .= &quot;&lt;/table&gt;&lt;br&gt;&quot;;</span></div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;<span class="stringliteral">            }</span></div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;<span class="stringliteral">            else{ $div = &#39;</span>&lt;span <span class="keyword">class</span>=<span class="stringliteral">&quot;vars&quot;</span>&gt;no messages&lt;/span&gt;<span class="stringliteral">&#39;; }</span></div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;<span class="stringliteral">            return $div;</span></div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;<span class="stringliteral">        }</span><span class="comment"></span></div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;<span class="comment">        * Builds the link for the code highlighter popup</span></div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;<span class="comment">        * @param    string      $file       the full path to the file</span></div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;<span class="comment">        * @param    string      $line       the line to be highlighted</span></div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l01574"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a91a007a6e5738846837ae9ad3d65c2fc"> 1574</a></span>&#160;        protected static function _buildTraceLink( $file , $line = null )</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;        {</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;            $html = &#39;&lt;a href=<span class="stringliteral">&quot;#&quot;</span> onclick=<span class="stringliteral">&quot;&#39;;</span></div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;<span class="stringliteral">            if ( session_id( ) !== &#39;&#39; &amp;&amp; static::_getSessionVars( &#39;code_highlighter&#39; ) )</span></div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;<span class="stringliteral">            {</span></div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;<span class="stringliteral">                $js_file = @addslashes( @str_replace( $document_root , &#39;&#39; , $file ) );</span></div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;<span class="stringliteral">                $html .= &#39;ptc_read_code(\&#39;&#39; . addslashes( $file ) . &#39;\&#39;,\&#39;&#39; . $line . &#39;\&#39;);return false;&quot;</span> title=<span class="stringliteral">&quot;&#39; . @$file . &#39;&quot;</span>&gt;<span class="stringliteral">&#39;;</span></div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;<span class="stringliteral">            }</span></div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;<span class="stringliteral">            else</span></div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;<span class="stringliteral">            { </span></div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;<span class="stringliteral">                $html .= &#39;</span><span class="keywordflow">return</span> <span class="keyword">false</span>;<span class="stringliteral">&quot;&#39;;</span></div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;<span class="stringliteral">                $html .= &#39; title=&quot;</span><span class="stringliteral">&#39; . @$file . &#39;</span> <span class="stringliteral">&#39;.&quot;\n\n&quot;.&#39;</span>** USE SESSION_START(), IF YOU WISH<span class="stringliteral">&#39;;</span></div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;<span class="stringliteral">                $html .= &#39;</span> TO ACTIVATE THE CODE POPUP HIGHLIGHTER **<span class="stringliteral">&quot; style=&quot;</span>cursor:text;<span class="stringliteral">&quot;&gt;&#39;; </span></div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;<span class="stringliteral">            }   </span></div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;<span class="stringliteral">            return $html;</span></div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;<span class="stringliteral">        }</span><span class="comment"></span></div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;<span class="comment">        * Builds the tree for the links in the vars &amp; config panel</span></div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;<span class="comment">        * @param    mixed       $var            the variable</span></div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;<span class="comment">        * @param    string      $className      a css class</span></div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;<span class="comment">        * @param    string      $styleColor     the color for </span></div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l01596"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a3812b7314aa040d09d76b9245e54fa07"> 1596</a></span>&#160;        protected static function _buildTraceTree( $var , $className = null , $styleColor = null )</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;        {</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;            $indent = &#39;&#39;;</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;            foreach ( $var as $k =&gt; $v )</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;            {</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;                if ( $k &gt; 0 )</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;                { </div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;                    $display = &#39;display:none;&#39;; </div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;                    $class = &#39; class=&quot;<span class="stringliteral">&#39; . $className . &#39;</span><span class="stringliteral">&quot;&#39;;</span></div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;<span class="stringliteral">                }</span></div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;<span class="stringliteral">                @$html .= &#39;&lt;div style=&quot;</span>font-weight:bold;color:<span class="stringliteral">&#39; . $styleColor . &#39;</span>;<span class="stringliteral">&#39; . </span></div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;<span class="stringliteral">                                                @$display . &#39;</span><span class="stringliteral">&quot;&#39; . @$class . &#39;&gt;&#39;;</span></div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;<span class="stringliteral">                if ( $v || @$var[ $k + 1 ] ) { $html .= $indent; }</span></div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;<span class="stringliteral">                if( !$v ) { $v = &#39;&amp;nbsp;&#39;; }</span></div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;<span class="stringliteral">                $html .= $v . &#39;&lt;/div&gt;&#39;;</span></div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;<span class="stringliteral">                $indent = $indent . &#39;&lt;span style=&quot;</span>color:black;<span class="stringliteral">&quot;&gt;| &amp;nbsp;&lt;/span&gt;&#39;;</span></div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;<span class="stringliteral">            }</span></div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;<span class="stringliteral">            return $html;</span></div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;<span class="stringliteral">        }</span><span class="comment"></span></div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;<span class="comment">        * Builds the log/sql panel</span></div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;<span class="comment">        * @param    $type       log or sql</span></div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;<span class="comment">        * @param    $panelId    ome id for the panel</span></div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l01622"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a429cb7f5314bb054fd2cf8d0134a6b19"> 1622</a></span>&#160;        protected static function _buildMsgPanel( $type , $panelId )</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;        {</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;            $div = &#39;&lt;div id=&quot;<span class="stringliteral">&#39; . $panelId . &#39;</span><span class="stringliteral">&quot; style=&quot;</span>display:none;<span class="stringliteral">&quot; class=&quot;</span>innerTable<span class="stringliteral">&quot;&gt;&#39;;</span></div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;<span class="stringliteral">            $key = ( $type == &#39;log&#39; ) ? &#39;messages&#39; : &#39;sql&#39;;</span></div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;<span class="stringliteral">            if ( !static::$_options[ &#39;show_&#39; . $key ] )</span></div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;<span class="stringliteral">            { </span></div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;<span class="stringliteral">                return $div.=&#39;&lt;span class=&quot;</span>vars<span class="stringliteral">&quot;&gt;Panel is Disabled&lt;/span&gt;&lt;/div&gt;&#39;; </span></div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;<span class="stringliteral">            }</span></div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;<span class="stringliteral">            $div .= ( @static::$_buffer[ $type ] ) ? static::_buildHtmlTable( $type ) : </span></div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;<span class="stringliteral">                                &#39;&lt;span class=&quot;</span>vars<span class="stringliteral">&quot;&gt;no messages&lt;/span&gt;&#39;;</span></div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;<span class="stringliteral">            return $div .= &#39;&lt;/div&gt;&#39;;</span></div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;<span class="stringliteral">        }</span><span class="comment"></span></div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;<span class="comment">        * Builds the timer panel</span></div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l01637"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a7e35a303ba005df14776a73dc983ca9d"> 1637</a></span>&#160;        protected static function _buildTimerPanel( )</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;        {</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;            $time = ( ( static::$_endTime - static::$_startTime ) - static::$_tickTime );</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;            $div = &#39;&lt;div id=&quot;timerPanel<span class="stringliteral">&quot; style=&quot;</span>display:none;<span class="stringliteral">&quot; class=&quot;</span>innerTable<span class="stringliteral">&quot;&gt;&#39;;</span></div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;<span class="stringliteral">            $div .= &#39;&lt;span style=&quot;</span>font-weight:bold;<span class="stringliteral">&quot;&gt;Global Execution Time:&lt;/span&gt;&#39;;</span></div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;<span class="stringliteral">            $div .= &#39;&lt;br&gt;Seconds: &#39; . round( $time , 3 ) . &#39;&lt;br&gt;Milliseconds: &#39; . </span></div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;<span class="stringliteral">                                            round( $time * 1000 , 3 );</span></div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;<span class="stringliteral">            $div .= &#39;&lt;/div&gt;&#39;;</span></div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;<span class="stringliteral">            return   $div = static::_compressHtml( $div );</span></div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;<span class="stringliteral">        }</span><span class="comment"></span></div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;<span class="comment">        * Builds the Analysis panel for code coverage analysis</span></div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l01650"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a2db4a96794d71e6bd8e18ae3a90e8175"> 1650</a></span>&#160;        protected static function _buildAnalysisPanel( )</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;        {</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;            $div = &#39;&lt;div id=&quot;analysisPanel<span class="stringliteral">&quot; style=&quot;</span>display:none;<span class="stringliteral">&quot; class=&quot;</span>innerTable<span class="stringliteral">&quot;&gt;&#39;;</span></div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;<span class="stringliteral">            $div .= &#39;&lt;h2&gt;Code Coverage Analysis&lt;/h2&gt;&#39;;</span></div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;<span class="stringliteral">            $div .= static::_buildCoverageData( );</span></div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;<span class="stringliteral">            $div .= &#39;&lt;br&gt;&lt;h2&gt;Function Calls Trace&lt;/h2&gt;&#39;;</span></div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;<span class="stringliteral">            $div .= static::_buildTraceData( );</span></div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;<span class="stringliteral">            $div .= &#39;&lt;br&gt;&lt;h2&gt;Search Files For String&lt;/h2&gt;&#39;;</span></div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;<span class="stringliteral">            if ( session_id( ) === &#39;&#39; )</span></div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;<span class="stringliteral">            {</span></div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;<span class="stringliteral">                $div .= &#39;&lt;span class=&quot;</span>vars<span class="stringliteral">&quot;&gt;Use session start to search for a string inside files!&lt;/span&gt;&#39;;</span></div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;<span class="stringliteral">            }</span></div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;<span class="stringliteral">            else</span></div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;<span class="stringliteral">            {</span></div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;<span class="stringliteral">                $div .= &#39;&lt;form id=&quot;</span>searchStringForm<span class="stringliteral">&quot; method=&quot;</span><span class="keyword">get</span><span class="stringliteral">&quot; &#39;;</span></div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;<span class="stringliteral">                $div .= &#39;onSubmit=&quot;</span>ptc_search_string( );<span class="keywordflow">return</span> <span class="keyword">false</span>;<span class="stringliteral">&quot;&gt;&#39;;</span></div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;<span class="stringliteral">                $div .= &#39;&lt;span&gt;&lt;b&gt;Path: &lt;/b&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&#39;;</span></div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;<span class="stringliteral">                $div .= &#39;&lt;input name=&quot;</span>ptc_search_path<span class="stringliteral">&quot; type=&quot;</span>text<span class="stringliteral">&quot; value=&quot;</span><span class="stringliteral">&#39; . </span></div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;<span class="stringliteral">                                    $_SERVER[ &#39;</span>DOCUMENT_ROOT<span class="stringliteral">&#39; ] . &#39;</span><span class="stringliteral">&quot; size=&quot;</span>120<span class="stringliteral">&quot;&gt;&lt;br&gt;&#39;;</span></div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;<span class="stringliteral">                $div .= &#39;&lt;span&gt;&lt;b&gt;String: &lt;/b&gt;&lt;/span&gt;&#39;;</span></div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;<span class="stringliteral">                $div .= &#39;&lt;input name=&quot;</span>ptc_search_files<span class="stringliteral">&quot; type=&quot;</span>text<span class="stringliteral">&quot; size=&quot;</span>120<span class="stringliteral">&quot;&gt;&#39;;</span></div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;<span class="stringliteral">                $div .= &#39;&lt;input name=&quot;</span>ptc_submit_search<span class="stringliteral">&quot; type=&quot;</span>submit<span class="stringliteral">&quot; value=&quot;</span>Search<span class="stringliteral">&quot;&gt;&#39;;</span></div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;<span class="stringliteral">                $div .= &#39;&lt;/form&gt;&#39;;</span></div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;<span class="stringliteral">            }</span></div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;<span class="stringliteral">            return $div .= &#39;&lt;/div&gt;&#39; ;</span></div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;<span class="stringliteral">        }</span><span class="comment"></span></div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;<span class="comment">        * Builds the html data for the code coverage analysis</span></div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l01679"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#acda6d75bc5ca02a46c11ea086b0beee3"> 1679</a></span>&#160;        protected static function _buildCoverageData( )</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;        {</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;            if ( static::$_options[ &#39;code_coverage&#39; ] )</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;            {</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;                if ( !empty( static::$_finalCoverageData ) )</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;                {</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;                    $i = 1;</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;                    foreach ( static::$_finalCoverageData as $data )</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;                    {</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;                        $div .= &#39;&lt;div style=&quot;font-weight:bold;<span class="stringliteral">&quot;&gt;&lt;span&gt;&lt;b&gt;Coverage &#39; . $i; </span></div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;<span class="stringliteral">                        $div .= &#39; result:&lt;/b&gt;&lt;/span&gt; &amp;nbsp;&amp;nbsp;&#39; . static::_formatVar( $data ) . &#39;&lt;/div&gt;&#39;;</span></div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;<span class="stringliteral">                        if ( static::$_consoleStarted )</span></div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;<span class="stringliteral">                        {</span></div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;<span class="stringliteral">                            \PC::debug( $data , static::$_options[ &#39;default_category&#39; ] .&#39;.coverageResult &#39; . ( $i ) );</span></div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;<span class="stringliteral">                        }</span></div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;<span class="stringliteral">                        $i++;</span></div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;<span class="stringliteral">                    }</span></div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;<span class="stringliteral">                    //static::$_finalCoverageData = array( );</span></div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;<span class="stringliteral">                }</span></div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;<span class="stringliteral">                else{ @$div .= &#39;&lt;span class=&quot;</span>vars<span class="stringliteral">&quot;&gt;no data available&lt;/span&gt;&lt;br&gt;&#39;; }</span></div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;<span class="stringliteral">            }</span></div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;<span class="stringliteral">            else </span></div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;<span class="stringliteral">            { </span></div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;<span class="stringliteral">                $div .= &#39;&lt;span class=&quot;</span>vars<span class="stringliteral">&quot;&gt;&#39;;</span></div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;<span class="stringliteral">                $div .= &#39;Code coverage is disabled! To use this feature, &#39;;</span></div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;<span class="stringliteral">                $div .= &#39;set the option [\&#39;code_coverage\&#39;] to \&#39;true\&#39; or \&#39;full\&#39;!&#39;;</span></div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;<span class="stringliteral">                $div .= &#39;&lt;/span&gt;&lt;br&gt;&#39;; </span></div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;<span class="stringliteral">            }</span></div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;<span class="stringliteral">            return $div;</span></div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;<span class="stringliteral">        }</span><span class="comment"></span></div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;<span class="comment">        * Builds the html data for the function calls trace</span></div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l01712"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#abd4df033900104850479ebd46bad4363"> 1712</a></span>&#160;        protected static function _buildTraceData( )</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;        {       </div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;            if ( static::$_options[ &#39;trace_functions&#39; ] )</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;            {</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;                if ( !empty( static::$_finalTraceData ) )</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;                {</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;                    for ( $a = 0; $a &lt; sizeof( static::$_finalTraceData ); $a++ )</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;                    {</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;                        $data = static::$_finalTraceData[ $a ];</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;                        // this is just a patch</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;                        $data = array_unique( $data , SORT_REGULAR );</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;                        //$data = array_map( &#39;unserialize&#39; , array_unique( array_map( &#39;serialize&#39; , $data ) ) );</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;                        @$div .= &#39;&lt;span&gt;&lt;b&gt;Trace &#39; . ( $a +1 ) . &#39; result: &#39;;</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;                        $div .= &#39;&lt;a href=&quot;#<span class="stringliteral">&quot; onclick=&quot;</span>ptc_show_trace_table(\<span class="stringliteral">&#39;jsLive-&#39;</span> . $a . <span class="charliteral">&#39;\&#39;</span> , <span class="keyword">this</span> );<span class="keywordflow">return</span> <span class="keyword">false</span>;<span class="stringliteral">&quot;&gt;&#39;;</span></div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;<span class="stringliteral">                        $div .=sizeof( $data ). &#39; calls &amp;dArr;&lt;/a&gt;&lt;/b&gt;&lt;/span&gt;&#39;;</span></div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;<span class="stringliteral">                        $div .= &#39;&lt;table border=&quot;</span>1<span class="stringliteral">&quot; style=&quot;</span>width:100%;display:none<span class="stringliteral">&quot; class=&quot;</span>msgTable jsLive-<span class="stringliteral">&#39; . </span></div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;<span class="stringliteral">                                                                            $a . &#39;</span><span class="stringliteral">&quot; id=&quot;</span>logTable<span class="stringliteral">&quot;&gt;&#39;;</span></div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;<span class="stringliteral">                        $div .= &#39;&lt;tbody&gt;&lt;tr&gt;&lt;th&gt;#&lt;/th&gt;&lt;th&gt;function&lt;/th&gt;&lt;th&gt;file&lt;/th&gt;&#39;;</span></div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;<span class="stringliteral">                        $div .= &#39;&lt;th&gt;line&lt;/th&gt;&lt;!--&lt;th&gt;memory&lt;/th&gt;--&gt;&lt;th&gt;called by&lt;/th&gt;&lt;th&gt;in&lt;/th&gt;&lt;/tr&gt;&#39;;</span></div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;<span class="stringliteral">                        $i = 1;</span></div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;<span class="stringliteral">                        foreach ( $data as $k =&gt; $v )</span></div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;<span class="stringliteral">                        {</span></div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;<span class="stringliteral">                            $link = ( @$v[ &#39;file&#39; ] ) ? static::_buildTraceLink( $v[ &#39;file&#39; ] , @$v[ &#39;line&#39; ] ) </span></div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;<span class="stringliteral">                                                                        . $v[ &#39;file&#39; ] . &#39;&lt;/a&gt;&#39; : &#39;&#39;;       </span></div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;<span class="stringliteral">                            $args = ( @$v[ &#39;args&#39; ] ) ? @preg_replace( &#39;/Array/&#39; , &#39;&#39; ,  </span></div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;<span class="stringliteral">                                                    @static::_formatVar( $v[ &#39;args&#39; ] ) , 1 )  : &#39;( )&#39;;</span></div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;<span class="stringliteral">                            $called_by_args = ( @$v[ &#39;called_by_args&#39; ] ) ? @preg_replace( &#39;/Array/&#39; , &#39;&#39; ,  </span></div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;<span class="stringliteral">                                                    @static::_formatVar( $v[ &#39;called_by_args&#39; ] ) , 1 )  : &#39;&#39;;</span></div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;<span class="stringliteral">                            if ( !$called_by_args &amp;&amp; @$v[ &#39;called_by&#39; ] ) { @$v[ &#39;called_by&#39; ] = @$v[ &#39;called_by&#39; ] . &#39;( )&#39;; }</span></div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;<span class="stringliteral">                            $in = ( @$v[ &#39;in&#39; ] ) ? static::_buildTraceLink( $v[ &#39;in&#39; ] , @$v[ &#39;on_line&#39; ] ) . $v[ &#39;in&#39; ] : &#39;&#39;;</span></div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;<span class="stringliteral">                            $in .= ( @$v[ &#39;on_line&#39; ] ) ? &#39;: &#39;. $v[ &#39;on_line&#39; ] : &#39;&#39;; </span></div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;<span class="stringliteral">                            $in .=( @$v[ &#39;in&#39; ] ) ? &#39;&lt;/a&gt;&#39; : &#39;&#39;;</span></div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;<span class="stringliteral">                            $div .= &#39;&lt;tr class=&quot;</span>general<span class="stringliteral">&quot;&gt;&#39;;</span></div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;<span class="stringliteral">                            $div .= &#39;&lt;td class=&quot;</span>fixed<span class="stringliteral">&quot;&gt;&lt;div style=&quot;</span>color:black;<span class="stringliteral">&quot;&gt;# &#39;. $i . &#39;&lt;/div&gt;&lt;/td&gt;&#39;;</span></div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;<span class="stringliteral">                            $div .= &#39;&lt;td class=&quot;</span>fixed<span class="stringliteral">&quot;&gt;&lt;div style=&quot;</span>color:darkred;font-weight:bold;<span class="stringliteral">&quot;&gt;&#39;;</span></div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;<span class="stringliteral">                            $div .= $v[ &#39;function&#39; ] .$args . &#39;&lt;/div&gt;&lt;/td&gt;&#39;;</span></div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;<span class="stringliteral">                            $div .= &#39;&lt;td class=&quot;</span>fixed<span class="stringliteral">&quot;&gt;&#39;.$link.&#39;&lt;/td&gt;&#39;;</span></div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;<span class="stringliteral">                            $div .= &#39;&lt;td class=&quot;</span>fixed<span class="stringliteral">&quot;&gt;&lt;div style=&quot;</span>color:black;font-weight:bold;<span class="stringliteral">&quot;&gt;&#39;;</span></div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;<span class="stringliteral">                            $div .= @$v[ &#39;line&#39; ] .&#39;&lt;/div&gt;&lt;/td&gt;&#39;;</span></div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;<span class="stringliteral">                            //$div .= &#39;&lt;td class=&quot;</span>fixed<span class="stringliteral">&quot;&gt;&lt;div style=&quot;</span>color:green;font-weight:bold;<span class="stringliteral">&quot;&gt;&#39;;</span></div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;<span class="stringliteral">                            //$div .= @static::convertMemUsage( $v[ &#39;memory&#39; ] ) . &#39;&lt;/div&gt;&lt;/td&gt;&#39;;</span></div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;<span class="stringliteral">                            $div .= &#39;&lt;td class=&quot;</span>fixed<span class="stringliteral">&quot;&gt;&lt;div style=&quot;</span>color:purple;font-weight:bold;<span class="stringliteral">&quot;&gt;&#39;;</span></div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;<span class="stringliteral">                            $div .= @$v[ &#39;called_by&#39; ] . $called_by_args . &#39;&lt;/div&gt;&lt;/td&gt;&#39;;</span></div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;<span class="stringliteral">                            $div .= &#39;&lt;td class=&quot;</span>fixed<span class="stringliteral">&quot;&gt;&#39; . $in . &#39;&lt;/td&gt;&#39;;</span></div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;<span class="stringliteral">                            $div .= &#39;&lt;/tr&gt;&#39;;</span></div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;<span class="stringliteral">                            $i++;</span></div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;<span class="stringliteral">                        }</span></div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;<span class="stringliteral">                        $div .= &#39;&lt;/tbody&gt;&lt;/table&gt;&lt;br&gt;&#39;;</span></div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;<span class="stringliteral">                        if ( static::$_consoleStarted )</span></div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;<span class="stringliteral">                        {</span></div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;<span class="stringliteral">                            \PC::debug( $data , static::$_options[ &#39;default_category&#39; ] .&#39;.traceResult &#39; . ( $a + 1 ) );</span></div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;<span class="stringliteral">                        }</span></div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;<span class="stringliteral">                    }</span></div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;<span class="stringliteral">                    //static::$_finalTraceData = array( );</span></div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;<span class="stringliteral">                }</span></div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;<span class="stringliteral">                else { $div .= &#39;&lt;span class=&quot;</span>vars<span class="stringliteral">&quot;&gt;no data available&lt;/span&gt;&lt;br&gt;&#39;; }</span></div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;<span class="stringliteral">            }</span></div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;<span class="stringliteral">            else </span></div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;<span class="stringliteral">            { </span></div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;<span class="stringliteral">                $div .= &#39;&lt;span class=&quot;</span>vars<span class="stringliteral">&quot;&gt;&#39;;</span></div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;<span class="stringliteral">                $div .= &#39;Functions calls tracing is disabled! To use this feature, &#39;;</span></div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;<span class="stringliteral">                $div .= &#39;set the option [\&#39;trace_functions\&#39;] to \&#39;true\&#39; or \&#39;full\&#39;!&#39;;</span></div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;<span class="stringliteral">                $div .= &#39;&lt;/span&gt;&lt;br&gt;&#39;; </span></div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;<span class="stringliteral">            }</span></div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;<span class="stringliteral">            return $div;</span></div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;<span class="stringliteral">        }</span><span class="comment"></span></div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;<span class="comment">        * Builds the vars panel</span></div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l01781"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a7bc42ce3e7adf858f7eca5e09fdb8806"> 1781</a></span>&#160;        protected static function _buildVarsPanel( )</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;        {</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;            $div = &#39;&lt;div id=&quot;varsPanel<span class="stringliteral">&quot; style=&quot;</span>display:none;<span class="stringliteral">&quot; class=&quot;</span>innerTable<span class="stringliteral">&quot;&gt;&#39;;</span></div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;<span class="stringliteral">            $div .= &#39;&lt;a href=&quot;</span>#<span class="stringliteral">&quot; onClick=&quot;</span>ptc_show_vars(\<span class="stringliteral">&#39;files\&#39;,this)&quot;&gt;Files&#39;</span>;</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;            $included_files = @get_included_files( );</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;            $div .= <span class="stringliteral">&#39;&lt;span class=&quot;count_vars&quot;&gt;(&#39;</span> . @<span class="keyword">sizeof</span>( $included_files ) . </div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;                                            <span class="stringliteral">&#39;)&lt;/span&gt;&amp;dArr;&lt;/a&gt;&lt;br&gt;&#39;</span>;</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;            $div .= <span class="stringliteral">&#39;&lt;div id=&quot;files&quot; class=&quot;vars&quot; style=&quot;display:none;line-height:20px;&quot;&gt;&#39;</span>;</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;            <span class="keywordflow">if</span> ( !@empty( $included_files ) )</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;            {</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;                $a = 1;</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;                <span class="keywordflow">foreach</span> ( $included_files as $filename )</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;                { </div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;                    $div .= $a . <span class="charliteral">&#39; &#39;</span> . @static::_buildTraceLink( $filename ) . $filename . <span class="stringliteral">&#39;&lt;/a&gt;&#39;</span>;</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;                    <span class="keywordflow">if</span> ( $_SERVER[ <span class="stringliteral">&#39;SCRIPT_FILENAME&#39;</span> ] == $filename )</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;                    { </div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;                        $div .= <span class="stringliteral">&#39; &lt;span style=&quot;font-weight:bold;color:red;&quot;&gt;&#39;</span>; </div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;                        $div .= <span class="stringliteral">&#39;&amp;laquo; Main File&lt;/span&gt;&#39;</span>;</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;                    }</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;                    $div .= <span class="stringliteral">&quot;&lt;br&gt;\n&quot;</span>;</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;                    $a++;</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;                }</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;            }</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;            <span class="keywordflow">else</span> { $div .= <span class="stringliteral">&#39;&lt;span class=&quot;vars&quot;&gt;Could not get included files!&lt;/span&gt;&#39;</span>; }</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;            $div .= <span class="stringliteral">&#39;&lt;/div&gt;&#39;</span>; </div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;            $div .= static::_buildInnerVars( <span class="stringliteral">&#39;options&#39;</span> , <span class="stringliteral">&#39;Configuration&#39;</span> , static::$_options );</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;            $constants = @get_defined_constants( <span class="keyword">true</span> );</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;            $div .= static::_buildInnerVars( <span class="stringliteral">&#39;constants&#39;</span> , <span class="stringliteral">&#39;Constants&#39;</span> , $constants );</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;            $functions = @get_defined_functions( );</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;            $div .= static::_buildInnerVars( <span class="stringliteral">&#39;functionsInternal&#39;</span> , <span class="stringliteral">&#39;Internal Functions&#39;</span> , </div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;                                                @$functions[ <span class="stringliteral">&#39;internal&#39;</span> ] );</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;            $div .= static::_buildInnerVars( <span class="stringliteral">&#39;functionsUser&#39;</span> , <span class="stringliteral">&#39;User Functions&#39;</span> , @$functions[ <span class="stringliteral">&#39;user&#39;</span> ] );</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;            $div.=static::_buildInnerVars( <span class="stringliteral">&#39;declared_classes&#39;</span> , <span class="stringliteral">&#39;Declared Classes&#39;</span> ,</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;                                            $classes = @get_declared_classes( ) );</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;            $div.=static::_buildInnerVars( <span class="stringliteral">&#39;declared_interfaces&#39;</span> , <span class="stringliteral">&#39;Declared Interfaces&#39;</span> ,</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;                                        $interfaces = @get_declared_interfaces( ) );    </div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;            $div .= static::_buildInnerVars( <span class="stringliteral">&#39;phpInfo&#39;</span> , <span class="stringliteral">&#39;Php Config&#39;</span> , $php_info = static::_buildPhpInfo( ) );                                     </div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;            <span class="keywordflow">if</span> ( !static::$_options[ <span class="stringliteral">&#39;show_globals&#39;</span> ] ) </div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;            { </div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;                $div .= <span class="stringliteral">&#39;&lt;span class=&quot;vars&quot;&gt;Global Vars Disabled&lt;/span&gt;&#39;</span>; </div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;            }</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;            <span class="keywordflow">else</span> { $div .= static::_buildInnerVars( <span class="stringliteral">&#39;globals&#39;</span> , <span class="stringliteral">&#39;Globals &#39;</span> , array_reverse( $GLOBALS ) ); }</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;            <span class="keywordflow">return</span>  $div .= <span class="stringliteral">&#39;&lt;/div&gt;&#39;</span>;</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;        }<span class="comment"></span></div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;<span class="comment">        * Builds the inner vars div</span></div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;<span class="comment">        * @param    string      $panelId        the id of the panel to show/hide</span></div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;<span class="comment">        * @param    string      $linkTitle      the title of the link</span></div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;<span class="comment">        * @param    string      $array      array of parameters</span></div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l01831"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a45444b9f6673cee51babcfe7642f316a"> 1831</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_ptc_debug.html#a45444b9f6673cee51babcfe7642f316a">_buildInnerVars</a>( $panelId , $linkTitle , $array )</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;        {</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;            $div = <span class="stringliteral">&#39;&lt;div id=&quot;&#39;</span> . $panelId . <span class="stringliteral">&#39;&quot; class=&quot;vars vars-config&quot; &#39;</span>;</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;            $div .= <span class="stringliteral">&#39;style=&quot;line-height:20px;font-size:14px;&quot;&gt;&lt;span&gt;&#39;</span> . $linkTitle;</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;            $div .= <span class="stringliteral">&#39;&lt;/span&gt; &#39;</span>. @static::_doDump( $array );</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;            <span class="keywordflow">return</span> $div .= <span class="stringliteral">&#39;&lt;/div&gt;&#39;</span>;</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;        }<span class="comment"></span></div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;<span class="comment">        * Builds the W3C panel</span></div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l01841"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#ab2b4fe83c682a0d03a07f1a649ab0bcd"> 1841</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">static</span>  <span class="keyword">function</span> <a class="code" href="class_ptc_debug.html#ab2b4fe83c682a0d03a07f1a649ab0bcd">_buildW3cPanel</a>( )</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;        {</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;            $uri = parse_url( $_SERVER[ <span class="stringliteral">&#39;REQUEST_URI&#39;</span> ] );</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;            <span class="keywordflow">if</span> ( @$uri[ <span class="stringliteral">&#39;query&#39;</span> ] )</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;            {</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;                $query = <span class="charliteral">&#39;?&#39;</span>;</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;                $parts = explode( <span class="charliteral">&#39;&amp;&#39;</span> , $uri[ <span class="stringliteral">&#39;query&#39;</span> ] );</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;                <span class="keywordflow">foreach</span> ( $parts as $k =&gt; $v )</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;                {</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;                    <span class="keywordflow">if</span> ( $v != static::$_options[ <span class="stringliteral">&#39;url_key&#39;</span> ] . <span class="charliteral">&#39;=&#39;</span> . static::$_options[ <span class="stringliteral">&#39;url_pass&#39;</span> ] )</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;                    {</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;                        $query .= ( $k == 0 ) ? $v : <span class="charliteral">&#39;&amp;&#39;</span> . $v;</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;                    }</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;                }</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;            }</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;            $div = <span class="stringliteral">&#39;&lt;div id=&quot;w3cPanel&quot; style=&quot;display:none;&quot; class=&quot;innerTable&quot;&gt;&#39;</span>;</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;            <span class="keywordflow">if</span> ( static::$_options[ <span class="stringliteral">&#39;show_w3c&#39;</span> ] )</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;            {</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;                $div .= <span class="stringliteral">&#39;&lt;p&gt;Click on the WC3 link to verify the validation or to check errors&lt;/p&gt;&#39;</span>;</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;                $div .= <span class="stringliteral">&#39;&lt;p&gt;&lt;a href=&quot;http://validator.w3.org/check?uri=&#39;</span> . $_SERVER[ <span class="stringliteral">&#39;HTTP_HOST&#39;</span> ] .</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;                                                $uri[ <span class="stringliteral">&#39;path&#39;</span> ] . @$query . <span class="stringliteral">&#39;&quot; target=&quot;_blank&quot;&gt;&#39;</span>;</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;                $div .= <span class="stringliteral">&#39;&lt;img src=&quot;http://www.w3.org/Icons/WWW/w3c_home_nb&quot; alt=&quot;W3C Validator&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#39;</span>;</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;                $div .= <span class="stringliteral">&#39;&lt;p&gt;Or copy paste the source here &#39;</span>;</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;                $div .= <span class="stringliteral">&#39;&lt;a href=&quot;http://validator.w3.org/#validate_by_input&quot; target=&quot;_blank&quot;&gt;&#39;</span>;</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;                $div .= <span class="stringliteral">&#39;http://validator.w3.org/#validate_by_input&lt;/a&gt;&lt;/p&gt;&#39;</span>;    </div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;            }</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;            <span class="keywordflow">else</span> { $div .= <span class="stringliteral">&#39;&lt;span class=&quot;vars&quot;&gt;Panel is Disabled&lt;/span&gt;&#39;</span>; }</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;            $div .= <span class="stringliteral">&#39;&lt;/div&gt;&#39;</span>;</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;            <span class="keywordflow">return</span>  $div = static::_compressHtml( $div );</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;        }<span class="comment"></span></div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;<span class="comment">        * Formats phpinfo() function</span></div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l01874"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a6f7cc43e93c5bec1bf1fc09105994726"> 1874</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_ptc_debug.html#a6f7cc43e93c5bec1bf1fc09105994726">_buildPhpInfo</a>( )</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;        {</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;            $php_array = static::_phpInfoArray( );</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;            $php_array[ <span class="stringliteral">&#39;version&#39;</span> ] = @phpversion( );</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;            $php_array[ <span class="stringliteral">&#39;os&#39;</span> ] = @php_uname( );</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;            $php_array[ <span class="stringliteral">&#39;extensions&#39;</span> ] = @get_loaded_extensions( );</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;            ksort( $php_array );</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;            <span class="keywordflow">return</span> $php_array;</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;        }<span class="comment"></span></div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;<span class="comment">        * Includes the css for the interface</span></div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l01886"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#ade276c6d8d9beda22f69a49b2481ade1"> 1886</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_ptc_debug.html#ade276c6d8d9beda22f69a49b2481ade1">_includeCss</a>( )</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;        {</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;            <span class="keywordflow">return</span> static::_compressHtml( <span class="stringliteral">&#39;&lt;style type=&quot;text/css&quot;&gt;&#39;</span> . str_replace( array( <span class="stringliteral">&#39;{PANEL_TOP}&#39;</span> , </div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;                                        <span class="stringliteral">&#39;{PANEL_RIGHT}&#39;</span> ) , array( static::$_options[ <span class="stringliteral">&#39;panel_top&#39;</span> ] , </div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;                                    static::$_options[ <span class="stringliteral">&#39;panel_right&#39;</span> ] ) , static::$_panelCss ) . <span class="stringliteral">&#39;&lt;/style&gt;&#39;</span> );</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;        }<span class="comment"></span></div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;<span class="comment">        * Includes the javascript for the interface</span></div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l01895"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a273824a0a87e7ba017a2c77adce93359"> 1895</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_ptc_debug.html#a273824a0a87e7ba017a2c77adce93359">_includeJs</a>( )</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;        {</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;            <span class="keywordflow">return</span> static::_compressHtml(</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;                <span class="stringliteral">&#39;&lt;script&gt;</span></div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;<span class="stringliteral">                    var activePanelID=false;</span></div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;<span class="stringliteral">                    var panels=new Object;panels.msg=&quot;msgPanel&quot;;panels.vars=&quot;varsPanel&quot;;</span></div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;<span class="stringliteral">                    panels.sql=&quot;sqlPanel&quot;;panels.w3c=&quot;w3cPanel&quot;;panels.timer=&quot;timerPanel&quot;;</span></div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;<span class="stringliteral">                    panels.analysis=&quot;analysisPanel&quot;;</span></div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;<span class="stringliteral">                    function ptc_show_panel(elId,panelTitle,el)</span></div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;<span class="stringliteral">                    {</span></div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;<span class="stringliteral">                        var floatDivId=&quot;ptcDebugPanel&quot;;</span></div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;<span class="stringliteral">                        var tabs=document.getElementById(\&#39;floatingTab\&#39;).getElementsByTagName(&quot;a&quot;);</span></div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;<span class="stringliteral">                        for(var i=0;i&lt;tabs.length;i++){tabs[i].className=&quot;&quot;;}</span></div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;<span class="stringliteral">                        if(document.getElementById(elId).style.display==&quot;none&quot;)</span></div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;<span class="stringliteral">                        {   </span></div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;<span class="stringliteral">                            ptc_reset_panels();</span></div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;<span class="stringliteral">                            document.getElementById(elId).style.display=\&#39;\&#39;; </span></div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;<span class="stringliteral">                            document.getElementById(\&#39;ptcDebugStatusBar\&#39;).style.display=\&#39;\&#39;;</span></div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;<span class="stringliteral">                            document.getElementById(floatDivId).style.width=\&#39;100%\&#39;;</span></div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;<span class="stringliteral">                            el.className=&quot;active&quot;;activePanelID=elId;ptc_set_title(panelTitle);</span></div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;<span class="stringliteral">                        }</span></div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;<span class="stringliteral">                        else</span></div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;<span class="stringliteral">                        {</span></div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;<span class="stringliteral">                            document.getElementById(\&#39;ptcDebugPanelTitle\&#39;).style.display=\&#39;none\&#39;;</span></div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;<span class="stringliteral">                            ptc_reset_panels();</span></div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;<span class="stringliteral">                            document.getElementById(floatDivId).style.width=\&#39;\&#39;;</span></div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;<span class="stringliteral">                        }</span></div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;<span class="stringliteral">                        return false;</span></div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;<span class="stringliteral">                    };</span></div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;<span class="stringliteral">                    function ptc_reset_panels()</span></div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;<span class="stringliteral">                    {</span></div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;<span class="stringliteral">                        document.getElementById(\&#39;ptcDebugStatusBar\&#39;).style.display=\&#39;none\&#39;; </span></div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;<span class="stringliteral">                        for(var i in panels){document.getElementById(panels[i]).style.display=\&#39;none\&#39;;}</span></div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;<span class="stringliteral">                    };</span></div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;<span class="stringliteral">                    function ptc_set_title(panelTitle)</span></div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;<span class="stringliteral">                    {</span></div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;<span class="stringliteral">                        document.getElementById(\&#39;ptcDebugPanelTitle\&#39;).style.display=\&#39;\&#39;;</span></div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;<span class="stringliteral">                        document.getElementById(\&#39;ptcDebugPanelTitle\&#39;).innerHTML=\&#39;&lt;h1&gt;\&#39;+panelTitle+\&#39;&lt;/h1&gt;\&#39;;</span></div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;<span class="stringliteral">                    };</span></div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;<span class="stringliteral">                    function hideInterface(){document.getElementById(\&#39;ptcDebugPanel\&#39;).style.display=\&#39;none\&#39;;};</span></div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;<span class="stringliteral">                    function ptc_show_vars(elId,link)</span></div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;<span class="stringliteral">                    {</span></div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;<span class="stringliteral">                        var element=document.getElementById(elId).style;</span></div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;<span class="stringliteral">                        if(element.display==&quot;none&quot;)</span></div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;<span class="stringliteral">                        {</span></div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;<span class="stringliteral">                            link.innerHTML=link.innerHTML.replace(&quot;\u21d3&quot;,&quot;\u21d1&quot;);</span></div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;<span class="stringliteral">                            element.display=\&#39;\&#39;; </span></div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;<span class="stringliteral">                        }</span></div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;<span class="stringliteral">                        else</span></div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;<span class="stringliteral">                        {</span></div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;<span class="stringliteral">                            link.innerHTML=link.innerHTML.replace(&quot;\u21d1&quot;,&quot;\u21d3&quot;);</span></div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;<span class="stringliteral">                            element.display=\&#39;none\&#39;; </span></div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;<span class="stringliteral">                        }</span></div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;<span class="stringliteral">                    };</span></div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;<span class="stringliteral">                    function ptc_show_string(elId,link)</span></div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;<span class="stringliteral">                    {</span></div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;<span class="stringliteral">                        if(document.getElementById(elId).style.display==&quot;none&quot;)</span></div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;<span class="stringliteral">                        {   </span></div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;<span class="stringliteral">                            link.innerHTML=link.innerHTML.replace(&quot;\u21d3&quot;,&quot;\u21d1&quot;);</span></div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;<span class="stringliteral">                            document.getElementById(elId).style.display=\&#39;inline\&#39;; </span></div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;<span class="stringliteral">                            document.getElementById(elId+&quot;-span&quot;).style.display=\&#39;none\&#39;; </span></div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;<span class="stringliteral">                        }</span></div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;<span class="stringliteral">                        else</span></div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;<span class="stringliteral">                        { </span></div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;<span class="stringliteral">                            link.innerHTML=link.innerHTML.replace(&quot;\u21d1&quot;,&quot;\u21d3&quot;);</span></div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;<span class="stringliteral">                            document.getElementById(elId+&quot;-span&quot;).style.display=\&#39;\&#39;; </span></div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;<span class="stringliteral">                            document.getElementById(elId).style.display=\&#39;none\&#39;; </span></div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;<span class="stringliteral">                        }</span></div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;<span class="stringliteral">                    };</span></div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;<span class="stringliteral">                    function ptc_show_trace(className,link)</span></div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;<span class="stringliteral">                    {</span></div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;<span class="stringliteral">                        var elements=document.getElementsByClassName(\&#39;\&#39;+className+\&#39;\&#39;);</span></div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;<span class="stringliteral">                        for(i in elements)</span></div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;<span class="stringliteral">                        {</span></div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;<span class="stringliteral">                            if(elements[i].hasOwnProperty(\&#39;style\&#39;))</span></div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;<span class="stringliteral">                            {</span></div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;<span class="stringliteral">                                if(elements[i].style.display==&quot;none&quot;)</span></div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;<span class="stringliteral">                                {</span></div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;<span class="stringliteral">                                    link.innerHTML=link.innerHTML.replace(&quot;\u21d3&quot;,&quot;\u21d1&quot;);</span></div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;<span class="stringliteral">                                    elements[i].style.display=\&#39;\&#39;; </span></div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;<span class="stringliteral">                                }</span></div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;<span class="stringliteral">                                else</span></div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;<span class="stringliteral">                                {</span></div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;<span class="stringliteral">                                    link.innerHTML=link.innerHTML.replace(&quot;\u21d1&quot;,&quot;\u21d3&quot;);</span></div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;<span class="stringliteral">                                    elements[i].style.display=\&#39;none\&#39;; </span></div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;<span class="stringliteral">                                }</span></div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;<span class="stringliteral">                            }</span></div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;<span class="stringliteral">                        }</span></div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;<span class="stringliteral">                    };</span></div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;<span class="stringliteral">                    function ptc_read_code(filename,line) </span></div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;<span class="stringliteral">                    {</span></div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;<span class="stringliteral">                        var query=&quot;http://&#39;</span> . addslashes( $_SERVER[ <span class="stringliteral">&#39;HTTP_HOST&#39;</span> ] ) .</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;                            $path = addslashes( str_replace( realpath( $_SERVER[ <span class="stringliteral">&#39;DOCUMENT_ROOT&#39;</span> ] ) ,</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;                            <span class="stringliteral">&#39;&#39;</span> , realpath( dirname( __FILE__ ) ) ) ) . <span class="stringliteral">&#39;/PtcDebug.php?ptc_read_file=&quot;+filename;</span></div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;<span class="stringliteral">                        if(line){query+=&quot;&amp;ptc_read_line=&quot;+line;}</span></div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;<span class="stringliteral">                        newwindow=window.open(query,&quot;name&quot;,&quot;height=350,width=820&quot;);</span></div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;<span class="stringliteral">                        if(window.focus){newwindow.focus()};</span></div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;<span class="stringliteral">                        return false;</span></div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;<span class="stringliteral">                    };</span></div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;<span class="stringliteral">                    function ptc_search_string( )</span></div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;<span class="stringliteral">                    {</span></div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;<span class="stringliteral">                        if ( !document.getElementsByName(&quot;ptc_search_files&quot;)[0].value )</span></div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;<span class="stringliteral">                        {</span></div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;<span class="stringliteral">                            alert( &quot;Please type a search string!&quot; );</span></div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;<span class="stringliteral">                        }</span></div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;<span class="stringliteral">                        else if ( !document.getElementsByName(&quot;ptc_search_path&quot;)[0].value )</span></div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;<span class="stringliteral">                        {</span></div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;<span class="stringliteral">                            alert( &quot;Please type a search path!&quot; );</span></div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;<span class="stringliteral">                        }</span></div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;<span class="stringliteral">                        else</span></div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;<span class="stringliteral">                        {</span></div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;<span class="stringliteral">                            var query=&quot;http://&#39;</span> . addslashes( $_SERVER[ <span class="stringliteral">&#39;HTTP_HOST&#39;</span> ] ) .</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;                            $path = addslashes( str_replace( realpath( $_SERVER[ <span class="stringliteral">&#39;DOCUMENT_ROOT&#39;</span> ] ) ,</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;                            <span class="stringliteral">&#39;&#39;</span> , realpath( dirname( __FILE__ ) ) ) ) . </div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;                            <span class="stringliteral">&#39;/PtcDebug.php?ptc_search_files=&quot;+document.getElementsByName(&quot;ptc_search_files&quot;)[0].value;</span></div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;<span class="stringliteral">                            query+=&quot;&amp;ptc_search_path=&quot;+document.getElementsByName(&quot;ptc_search_path&quot;)[0].value;</span></div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;<span class="stringliteral">                            newwindow=window.open(query,&quot;name&quot;,&quot;height=350,width=1220&quot;);</span></div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;<span class="stringliteral">                            if(window.focus){newwindow.focus()};</span></div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;<span class="stringliteral">                        }</span></div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;<span class="stringliteral">                        return false;</span></div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;<span class="stringliteral">                    };</span></div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;<span class="stringliteral">                    function ptc_filter_categories( tableId , catId )</span></div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;<span class="stringliteral">                    {</span></div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;<span class="stringliteral">                        var table=document.getElementById(tableId);</span></div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;<span class="stringliteral">                        var trs=table.getElementsByTagName(&quot;tr&quot;);</span></div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;<span class="stringliteral">                        if(catId==&quot;showAll&quot;){for(var i=1; i&lt;trs.length; i++){trs[i].style.display=&quot;&quot;;}}</span></div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;<span class="stringliteral">                        else</span></div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;<span class="stringliteral">                        {</span></div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;<span class="stringliteral">                            for(var i=1; i&lt;trs.length; i++){trs[i].style.display=&quot;none&quot;;}</span></div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;<span class="stringliteral">                            var cur_cat=document.getElementsByClassName(catId);</span></div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;<span class="stringliteral">                            for(var i=0; i&lt;cur_cat.length; ++i){cur_cat[i].style.display=&quot;&quot;;}</span></div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;<span class="stringliteral">                        }</span></div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;<span class="stringliteral">                    };</span></div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;<span class="stringliteral">                    function ptc_show_trace_table( className , link )</span></div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;<span class="stringliteral">                    {</span></div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;<span class="stringliteral">                        var panel = document.getElementsByClassName( className );</span></div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;<span class="stringliteral">                        if ( panel[ 0 ].style.display == &quot;none&quot; ) </span></div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;<span class="stringliteral">                        {</span></div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;<span class="stringliteral">                            link.innerHTML=link.innerHTML.replace( &quot;\u21d3&quot; , &quot;\u21d1&quot; );                       </span></div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;<span class="stringliteral">                            panel[ 0 ].style.display = &quot;&quot;; </span></div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;<span class="stringliteral">                        }</span></div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;<span class="stringliteral">                        else </span></div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;<span class="stringliteral">                        {</span></div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;<span class="stringliteral">                            link.innerHTML=link.innerHTML.replace( &quot;\u21d1&quot; , &quot;\u21d3&quot; );</span></div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;<span class="stringliteral">                            panel[ 0 ].style.display = &quot;none&quot;; </span></div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;<span class="stringliteral">                        }</span></div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;<span class="stringliteral">                    };</span></div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;<span class="stringliteral">                    window.onload=function( ) </span></div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;<span class="stringliteral">                    {</span></div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;<span class="stringliteral">                        var div=document.getElementById(&quot;ptcDebugStatusBar&quot;);</span></div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;<span class="stringliteral">                        var press=false;</span></div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;<span class="stringliteral">                        div.onmousedown=function(){press=true;return false;};</span></div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;<span class="stringliteral">                        this.onmouseover=div.style.cursor=&quot;s-resize&quot;;</span></div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;<span class="stringliteral">                        this.onmousemove=function(event)</span></div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;<span class="stringliteral">                        {</span></div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;<span class="stringliteral">                            event=event ? event : window.event;</span></div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;<span class="stringliteral">                            if(press===true &amp;&amp; activePanelID)</span></div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;<span class="stringliteral">                            {</span></div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;<span class="stringliteral">                                document.getElementById(activePanelID).style.height=(event.clientY-49)+&quot;px&quot;;</span></div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;<span class="stringliteral">                            }</span></div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;<span class="stringliteral">                        };</span></div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;<span class="stringliteral">                        this.onmouseup=function(){press=false;};</span></div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;<span class="stringliteral">                    };</span></div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;<span class="stringliteral">                    /*function ptc_minimize( )</span></div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;<span class="stringliteral">                    {</span></div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;<span class="stringliteral">                        var floatDivId=&quot;ptcDebugPanel&quot;;resetPanels();</span></div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;<span class="stringliteral">                        document.getElementById(floatDivId).style.width=\&#39;300px\&#39;;</span></div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;<span class="stringliteral">                        return false;</span></div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;<span class="stringliteral">                    };*/</span></div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;<span class="stringliteral">                &lt;/script&gt;&#39;</span> );</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;        }<span class="comment"></span></div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;<span class="comment">        * Compresses the html before render</span></div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;<span class="comment">        * @param    string      $html       some html code</span></div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l02070"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#abee69c6c4f5cc5b09affbdf5a26c6ed2"> 2070</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_ptc_debug.html#abee69c6c4f5cc5b09affbdf5a26c6ed2">_compressHtml</a>( $html )</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;        {</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;            <span class="keywordflow">if</span> ( static::$_options[ <span class="stringliteral">&#39;minified_html&#39;</span> ] )</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;            {</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;                $html = preg_replace( <span class="stringliteral">&#39;!/\*[^*]*\*+([^/][^*]*\*+)*/!&#39;</span> , <span class="stringliteral">&#39;&#39;</span> , $html ); <span class="comment">// remove comments</span></div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;                $html = str_replace( array ( <span class="stringliteral">&quot;\r\n&quot;</span> , <span class="stringliteral">&quot;\r&quot;</span> , <span class="stringliteral">&quot;\n&quot;</span> , <span class="stringliteral">&quot;\t&quot;</span> , <span class="stringliteral">&#39;  &#39;</span> , <span class="stringliteral">&#39;    &#39;</span> , <span class="stringliteral">&#39;    &#39;</span> ) , <span class="stringliteral">&#39;&#39;</span> , $html ); <span class="comment">// tabs,newlines,etc.</span></div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;            } </div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;            <span class="keywordflow">return</span> $html;</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;        }<span class="comment"></span></div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;<span class="comment">        * Formats phpinfo() into an array</span></div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l02082"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a133adaeefa9c8f40b6c7b0a1af50ff3b"> 2082</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_ptc_debug.html#a133adaeefa9c8f40b6c7b0a1af50ff3b">_phpInfoArray</a>( )</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;        {</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;            ob_start( );</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;            @phpinfo( );</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;            $info_arr = array( );</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;            $info_lines = explode( <span class="stringliteral">&quot;\n&quot;</span> , strip_tags( ob_get_clean( ) , <span class="stringliteral">&quot;&lt;tr&gt;&lt;td&gt;&lt;h2&gt;&quot;</span> ) );</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;            $cat= <span class="stringliteral">&#39;General&#39;</span>;</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;            $reg_ex = <span class="stringliteral">&quot;~&lt;tr&gt;&lt;td[^&gt;]+&gt;([^&lt;]*)&lt;/td&gt;&lt;td[^&gt;]+&gt;([^&lt;]*)&lt;/td&gt;&lt;td[^&gt;]+&gt;([^&lt;]*)&lt;/td&gt;&lt;/tr&gt;~&quot;</span>;</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;            <span class="keywordflow">foreach</span> ( $info_lines as $line )</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;            {</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;                preg_match( <span class="stringliteral">&quot;~&lt;h2&gt;(.*)&lt;/h2&gt;~&quot;</span> , $line , $title) ? $cat = $title[ 1 ] : null;    <span class="comment">// new cat?</span></div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;                <span class="keywordflow">if</span> ( preg_match( <span class="stringliteral">&quot;~&lt;tr&gt;&lt;td[^&gt;]+&gt;([^&lt;]*)&lt;/td&gt;&lt;td[^&gt;]+&gt;([^&lt;]*)&lt;/td&gt;&lt;/tr&gt;~&quot;</span> , $line , $val ) )</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;                {</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;                    $info_arr[ $cat ][ $val[ 1 ] ] = $val[ 2 ];</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;                }</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( preg_match( $reg_ex , $line , $val ) )</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;                { </div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;                    $info_arr[ $cat ][ $val[1] ] = array( <span class="stringliteral">&#39;local&#39;</span> =&gt; $val[ 2 ] , <span class="stringliteral">&#39;master&#39;</span> =&gt; $val[ 3 ] ); </div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;                }</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;            }</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;            <span class="keywordflow">return</span> $info_arr;</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;        }<span class="comment"></span></div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;<span class="comment">        * Attempts to disable any detetected opcode caches / optimizers</span></div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l02107"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a8f1cf47521e2b6efbd737c65a3684f17"> 2107</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_ptc_debug.html#a8f1cf47521e2b6efbd737c65a3684f17">_disableOpcodeCache</a>( ) </div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;        {</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;            <span class="keywordflow">if</span> ( extension_loaded( <span class="stringliteral">&#39;xcache&#39;</span> ) ) </div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;            {</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;                <span class="comment">// will be implemented in 2.0, here for future proofing</span></div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;                @ini_set( <span class="stringliteral">&#39;xcache.optimizer&#39;</span>, <span class="keyword">false</span> );</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;                <span class="comment">// xcache seems to do some optimizing, anyway..</span></div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;            }</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( extension_loaded( <span class="stringliteral">&#39;apc&#39;</span> ) )</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;            {</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;                @ini_set( <span class="stringliteral">&#39;apc.optimization&#39;</span>, 0 ); <span class="comment">// removed in apc 3.0.13 (2007-02-24)</span></div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;                apc_clear_cache();</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;            } </div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( extension_loaded( <span class="stringliteral">&#39;eaccelerator&#39;</span> ) ) </div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;            {</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;                @ini_set( <span class="stringliteral">&#39;eaccelerator.optimizer&#39;</span>, 0 );</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;                <span class="keywordflow">if</span> ( function_exists( <span class="stringliteral">&#39;eaccelerator_optimizer&#39;</span> ) ) </div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;                {</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;                    @eaccelerator_optimizer( <span class="keyword">false</span> );</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;                }</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;                <span class="comment">// try setting eaccelerator.optimizer = 0 in a .user.ini or .htaccess file</span></div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;            } </div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (extension_loaded( <span class="stringliteral">&#39;Zend Optimizer+&#39;</span> ) ) </div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;            {</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;                @ini_set(<span class="stringliteral">&#39;zend_optimizerplus.optimization_level&#39;</span>, 0);</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;            }</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;        }<span class="comment"></span></div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;<span class="comment">        * Function calls trace engine</span></div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;<span class="comment">        * @param    array       $trace  the php debug_backtrace( ) result</span></div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l02138"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a9855d2593c61406eee87e85028075a20"> 2138</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_ptc_debug.html#a9855d2593c61406eee87e85028075a20">_traceFunctionCalls</a>( $trace = null )</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;        {</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;            $depth = 10;</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;            $trace = ( !$trace ) ? debug_backtrace( <span class="keyword">true</span> ) : $trace;</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;            $i= 1 ;</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;            $methods = get_class_methods( get_called_class( ) );</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;            <span class="keywordflow">foreach</span> ( $trace as $k =&gt; $v )</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;            {</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;                <span class="keywordflow">if</span> ( @$v[ <span class="stringliteral">&#39;class&#39;</span> ] == get_called_class( ) || @in_array( $v[ <span class="stringliteral">&#39;function&#39;</span> ] , $methods ) || </div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;                                        @in_array( $trace[ $k + 1 ][ <span class="stringliteral">&#39;function&#39;</span> ] , $methods )) </div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;                { </div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;                }</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;                <span class="keywordflow">if</span>( $depth === $i ){ <span class="keywordflow">break</span>; }</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;                $new_array = array</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;                (</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;                    <span class="comment">//&#39;ns&#39;          =&gt;  $exe_time</span></div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;                    <span class="comment">//&#39;memory&#39;      =&gt;  memory_get_usage( true ),</span></div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;                    <span class="stringliteral">&#39;file&#39;</span>              =&gt;  @$v[ <span class="stringliteral">&#39;file&#39;</span> ] ,</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;                    <span class="stringliteral">&#39;line&#39;</span>              =&gt;  @$v[ <span class="stringliteral">&#39;line&#39;</span> ] ,</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;                    <span class="stringliteral">&#39;args&#39;</span>          =&gt;  @$v[ <span class="stringliteral">&#39;args&#39;</span> ],</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;                    <span class="stringliteral">&#39;function&#39;</span>          =&gt;  @$v[ <span class="stringliteral">&#39;class&#39;</span> ] . @$v[ <span class="stringliteral">&#39;type&#39;</span> ] . @$v[ <span class="stringliteral">&#39;function&#39;</span> ]  ,</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;                );</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;                <span class="keywordflow">if</span> ( @$trace[ $k + 1 ][ <span class="stringliteral">&#39;function&#39;</span> ] || @$trace[ $k + 1 ][ <span class="stringliteral">&#39;class&#39;</span> ] )</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;                {</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;                    $new_array[ <span class="stringliteral">&#39;called_by&#39;</span> ] = @$trace[ $k + 1 ][ <span class="stringliteral">&#39;class&#39;</span> ] . </div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;                                @$trace[ $k + 1 ][ <span class="stringliteral">&#39;type&#39;</span> ] . @$trace[ $k + 1 ][ <span class="stringliteral">&#39;function&#39;</span> ];</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;                    $new_array[ <span class="stringliteral">&#39;called_by_args&#39;</span> ] = @$trace[ $k + 1 ][ <span class="stringliteral">&#39;args&#39;</span> ];</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;                    $new_array[ <span class="stringliteral">&#39;in&#39;</span> ] = @$trace[ $k + 1 ][ <span class="stringliteral">&#39;file&#39;</span> ];</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;                    $new_array[ <span class="stringliteral">&#39;on_line&#39;</span> ] = @$trace[ $k + 1 ][ <span class="stringliteral">&#39;line&#39;</span> ];</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;                }</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;                @static::$_traceData[ ] = array_filter( $new_array );</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;                $i++;</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;            }</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;            unset( $new_array );</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;            unset( $trace );</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;        }<span class="comment"></span></div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;<span class="comment">        * Removes html entities from the buffer</span></div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;<span class="comment">        * @param    string      $var        some string</span></div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;<span class="comment">        */</span>  </div>
<div class="line"><a name="l02179"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#aa1f98559f1c46a2f0bd503ac0f7b62de"> 2179</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_ptc_debug.html#aa1f98559f1c46a2f0bd503ac0f7b62de">_cleanBuffer</a>( $var )</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;        { </div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;            <span class="keywordflow">return</span> ( @is_string( $var ) ) ? @htmlentities( $var ) : $var;</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;        }<span class="comment"></span></div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;<span class="comment">        * Retrieves the session var for the ptcdebug class</span></div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;<span class="comment">        * @param    string      $var        the session var to retrieve</span></div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l02187"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a2c9d20855f25fa1bee5f3caef4fc0d23"> 2187</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_ptc_debug.html#a2c9d20855f25fa1bee5f3caef4fc0d23">_getSessionVars</a>( $var = null )</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;        {</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;            <span class="keywordflow">return</span> ( $var ) ? @$_SESSION[ <span class="stringliteral">&#39;ptcdebug&#39;</span> ][ $var ] : @$_SESSION[ <span class="stringliteral">&#39;ptcdebug&#39;</span> ];</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;        }<span class="comment"></span></div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;<span class="comment">        * Shows the search popup window with the result</span></div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;<span class="comment">        * @param    string      $string a search string to search for</span></div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;<span class="comment">        * @param    string      $path       a start path where to search for a string recursively</span></div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l02196"></a><span class="lineno"><a class="line" href="class_ptc_debug.html#a34dd6b30a2195a04bb015b00d8af12c2"> 2196</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code" href="class_ptc_debug.html#a34dd6b30a2195a04bb015b00d8af12c2">showSearchPopup</a>( $string , $path = null )</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;        {   </div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;            $path = ( $path ) ? $path : dirname( __FILE__ );</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;            static::$_options[ <span class="stringliteral">&#39;minified_html&#39;</span> ] = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;            static::$_options[ <span class="stringliteral">&#39;panel_top&#39;</span> ] = <span class="stringliteral">&#39;0px&#39;</span>;</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;            static::$_options[ <span class="stringliteral">&#39;panel_right&#39;</span> ] = <span class="stringliteral">&#39;0px&#39;</span>;</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;            $result = static::_includeCss( );</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;            $result .= <span class="stringliteral">&#39;&lt;div style=&quot;background: #eee;color: #333;height:100%;&quot;&gt;&#39;</span>;</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;            $result .= <span class="stringliteral">&#39;&lt;table class=&quot;msgTable&quot; id=&quot;searchString&quot; border=&quot;1&quot; style=&quot;width:100%;&quot;&gt;&#39;</span>;</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;            $result .= <span class="stringliteral">&#39;&lt;tbody&gt;&lt;tr&gt;&lt;th&gt;#&lt;/th&gt;&lt;th&gt;file&lt;/th&gt;&lt;th&gt;line&lt;/th&gt;&#39;</span>;</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;            $result .= <span class="stringliteral">&#39;&lt;th&gt;string&lt;/th&gt;&lt;th&gt;occurences&lt;/th&gt;&lt;/tr&gt;&#39;</span>;</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;            $result .= <a class="code" href="class_ptc_debug.html#a335592042c1d696780d833e76dfd13bd">PtcDebug::findString</a>( $string , $path );</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;            $result = str_replace( $path , <span class="stringliteral">&#39;&#39;</span> , $result );</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;            <span class="keywordflow">return</span> $result . <span class="stringliteral">&#39;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;&#39;</span>;</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;        }</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;    }<span class="comment"></span></div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;<span class="comment">    * Calls highlight file method to show source code, session_start() must be active for security reasons</span></div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;    <span class="keywordflow">if</span> ( @$_GET[ <span class="stringliteral">&#39;ptc_read_file&#39;</span> ] )</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;    {</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;        @session_start( );</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;        <span class="keywordflow">if</span> ( !@$_SESSION[ <span class="stringliteral">&#39;ptcdebug&#39;</span> ][ <span class="stringliteral">&#39;code_highlighter&#39;</span> ] ) { exit( ); }</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;        echo <a class="code" href="class_ptc_debug.html#afb9aca86ed4ccf1d1d632ecef7d69923">PtcDebug::highlightFile</a>( $_GET[ <span class="stringliteral">&#39;ptc_read_file&#39;</span> ] , @$_GET[ <span class="stringliteral">&#39;ptc_read_line&#39;</span> ] );</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;        exit( );</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;    }<span class="comment"></span></div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;<span class="comment">    * Shows a popup with string search results, session_start() must be active for security reasons</span></div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;    <span class="keywordflow">if</span> ( @$_GET[ <span class="stringliteral">&#39;ptc_search_files&#39;</span> ] )</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;    {</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;        @session_start( );</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;        <span class="keywordflow">if</span> ( !@$_SESSION[ <span class="stringliteral">&#39;ptcdebug&#39;</span> ][ <span class="stringliteral">&#39;search_files&#39;</span> ] ) { exit( ); }</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;        echo <a class="code" href="class_ptc_debug.html#a34dd6b30a2195a04bb015b00d8af12c2">PtcDebug::showSearchPopup</a>( $_GET[ <span class="stringliteral">&#39;ptc_search_files&#39;</span> ] , @$_GET[ <span class="stringliteral">&#39;ptc_search_path&#39;</span> ] );</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;        exit( );</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;    }</div>
<div class="ttc" id="class_ptc_debug_html_abe38ab47e25537add46547cab30f1d10"><div class="ttname"><a href="class_ptc_debug.html#abe38ab47e25537add46547cab30f1d10">PtcDebug\$_consoleStarted</a></div><div class="ttdeci">static $_consoleStarted</div><div class="ttdoc">Decides if we should send the buffer to the PhpConsole class. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00637">PtcDebug.php:637</a></div></div>
<div class="ttc" id="class_ptc_debug_html_a6aa494e329fe30f92d7c75554fcb3c62"><div class="ttname"><a href="class_ptc_debug.html#a6aa494e329fe30f92d7c75554fcb3c62">PtcDebug\$_codeCoverage</a></div><div class="ttdeci">static $_codeCoverage</div><div class="ttdoc">Code coverage analysis property to start coverage. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00653">PtcDebug.php:653</a></div></div>
<div class="ttc" id="class_ptc_debug_html_aee37357d12cf60e50bdc2fb6aee6a54d"><div class="ttname"><a href="class_ptc_debug.html#aee37357d12cf60e50bdc2fb6aee6a54d">PtcDebug\convertMemUsage</a></div><div class="ttdeci">static convertMemUsage($val, $precision=2)</div><div class="ttdoc">Convert memory_usage( ) into a readable format. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00364">PtcDebug.php:364</a></div></div>
<div class="ttc" id="class_ptc_debug_html_a95aec73af35e021353fa3420e9ffce49"><div class="ttname"><a href="class_ptc_debug.html#a95aec73af35e021353fa3420e9ffce49">PtcDebug\stopTimer</a></div><div class="ttdeci">static stopTimer($reference=null, $precision=1)</div><div class="ttdoc">Monitors the execution of php code, or sql queries based on a reference. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00334">PtcDebug.php:334</a></div></div>
<div class="ttc" id="class_ptc_debug_html_ab2b4fe83c682a0d03a07f1a649ab0bcd"><div class="ttname"><a href="class_ptc_debug.html#ab2b4fe83c682a0d03a07f1a649ab0bcd">PtcDebug\_buildW3cPanel</a></div><div class="ttdeci">static _buildW3cPanel()</div><div class="ttdoc">Builds the W3C panel. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l01841">PtcDebug.php:1841</a></div></div>
<div class="ttc" id="class_ptc_debug_html_a273824a0a87e7ba017a2c77adce93359"><div class="ttname"><a href="class_ptc_debug.html#a273824a0a87e7ba017a2c77adce93359">PtcDebug\_includeJs</a></div><div class="ttdeci">static _includeJs()</div><div class="ttdoc">Includes the javascript for the interface. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l01895">PtcDebug.php:1895</a></div></div>
<div class="ttc" id="class_ptc_debug_html_a5668824b7ea27c63ee4dfccbf3e938a7"><div class="ttname"><a href="class_ptc_debug.html#a5668824b7ea27c63ee4dfccbf3e938a7">PtcDebug\bufferSql</a></div><div class="ttdeci">static bufferSql($string, $statement=null, $category=null)</div><div class="ttdoc">Writes data to the sql panel. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00324">PtcDebug.php:324</a></div></div>
<div class="ttc" id="class_ptc_debug_html_a61f8e37bb59579db7eca5d6bd914441d"><div class="ttname"><a href="class_ptc_debug.html#a61f8e37bb59579db7eca5d6bd914441d">PtcDebug\$_defaultOptions</a></div><div class="ttdeci">static $_defaultOptions</div><div class="ttdoc">Default options for the debug class. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00568">PtcDebug.php:568</a></div></div>
<div class="ttc" id="class_ptc_debug_html_a068aadfdb666093688eaf1304b5864fc"><div class="ttname"><a href="class_ptc_debug.html#a068aadfdb666093688eaf1304b5864fc">PtcDebug\_debugConsole</a></div><div class="ttdeci">static _debugConsole()</div><div class="ttdoc">Sends the buffer to the PhpConsole class. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00726">PtcDebug.php:726</a></div></div>
<div class="ttc" id="class_ptc_debug_html"><div class="ttname"><a href="class_ptc_debug.html">PtcDebug</a></div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00017">PtcDebug.php:17</a></div></div>
<div class="ttc" id="class_ptc_debug_html_a850f3a8c27d78c6fe220dfbaf31be5dd"><div class="ttname"><a href="class_ptc_debug.html#a850f3a8c27d78c6fe220dfbaf31be5dd">PtcDebug\getCoverage</a></div><div class="ttdeci">static getCoverage()</div><div class="ttdoc">Retrieves the code coverage analysis data stored in the PtcDebug::$_finalCoverageData property...</div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00027">PtcDebug.php:27</a></div></div>
<div class="ttc" id="class_ptc_debug_html_a34dd6b30a2195a04bb015b00d8af12c2"><div class="ttname"><a href="class_ptc_debug.html#a34dd6b30a2195a04bb015b00d8af12c2">PtcDebug\showSearchPopup</a></div><div class="ttdeci">static showSearchPopup($string, $path=null)</div><div class="ttdoc">Shows the search popup window with the result. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l02196">PtcDebug.php:2196</a></div></div>
<div class="ttc" id="class_ptc_debug_html_a8aa21cbdd1dec4aaacaf58b9eb4579e9"><div class="ttname"><a href="class_ptc_debug.html#a8aa21cbdd1dec4aaacaf58b9eb4579e9">PtcDebug\startTrace</a></div><div class="ttdeci">static startTrace()</div><div class="ttdoc">Starts the function calls trace utility. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00248">PtcDebug.php:248</a></div></div>
<div class="ttc" id="class_ptc_debug_html_aa1f98559f1c46a2f0bd503ac0f7b62de"><div class="ttname"><a href="class_ptc_debug.html#aa1f98559f1c46a2f0bd503ac0f7b62de">PtcDebug\_cleanBuffer</a></div><div class="ttdeci">static _cleanBuffer($var)</div><div class="ttdoc">Removes html entities from the buffer. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l02179">PtcDebug.php:2179</a></div></div>
<div class="ttc" id="class_ptc_debug_html_a6a01aee9e9278a359d147ad0ee9669a4"><div class="ttname"><a href="class_ptc_debug.html#a6a01aee9e9278a359d147ad0ee9669a4">PtcDebug\stopCoverage</a></div><div class="ttdeci">static stopCoverage()</div><div class="ttdoc">Stops the code coverage analysis utility. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00233">PtcDebug.php:233</a></div></div>
<div class="ttc" id="class_ptc_debug_html_a33477592b1741812298e7eb4de000a7f"><div class="ttname"><a href="class_ptc_debug.html#a33477592b1741812298e7eb4de000a7f">PtcDebug\_watchCallback</a></div><div class="ttdeci">static _watchCallback()</div><div class="ttdoc">Callback function that checks if a given variable has changed. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00928">PtcDebug.php:928</a></div></div>
<div class="ttc" id="class_ptc_debug_html_a8f1cf47521e2b6efbd737c65a3684f17"><div class="ttname"><a href="class_ptc_debug.html#a8f1cf47521e2b6efbd737c65a3684f17">PtcDebug\_disableOpcodeCache</a></div><div class="ttdeci">static _disableOpcodeCache()</div><div class="ttdoc">Attempts to disable any detetected opcode caches / optimizers. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l02107">PtcDebug.php:2107</a></div></div>
<div class="ttc" id="class_ptc_debug_html_a3165a72de30f41af493ef0d53decb4a6"><div class="ttname"><a href="class_ptc_debug.html#a3165a72de30f41af493ef0d53decb4a6">PtcDebug\getBuffer</a></div><div class="ttdeci">static getBuffer()</div><div class="ttdoc">Returns the buffer array. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00023">PtcDebug.php:23</a></div></div>
<div class="ttc" id="class_ptc_debug_html_a5c671db1708b48b5b88b14a88daa91c7"><div class="ttname"><a href="class_ptc_debug.html#a5c671db1708b48b5b88b14a88daa91c7">PtcDebug\_findWatchVar</a></div><div class="ttdeci">static _findWatchVar($variableName)</div><div class="ttdoc">Retrieves the variable to watch from the &amp;quot;$GLOBALS&amp;quot;. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l01019">PtcDebug.php:1019</a></div></div>
<div class="ttc" id="class_ptc_debug_html_a2989091a127ed9b9e2f7c6b3dd17dcc7"><div class="ttname"><a href="class_ptc_debug.html#a2989091a127ed9b9e2f7c6b3dd17dcc7">PtcDebug\$_countTime</a></div><div class="ttdeci">static $_countTime</div><div class="ttdoc">Exclude PtcDebug::$_buildBuffer from execution timing property. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00649">PtcDebug.php:649</a></div></div>
<div class="ttc" id="class_ptc_debug_html_a79d65a505a68daa9b33764798f34b0c7"><div class="ttname"><a href="class_ptc_debug.html#a79d65a505a68daa9b33764798f34b0c7">PtcDebug\$_buffer</a></div><div class="ttdeci">static $_buffer</div><div class="ttdoc">The debug buffer. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00625">PtcDebug.php:625</a></div></div>
<div class="ttc" id="class_ptc_debug_html_a3f303b7716094b77455ceb69ecc271bf"><div class="ttname"><a href="class_ptc_debug.html#a3f303b7716094b77455ceb69ecc271bf">PtcDebug\processBuffer</a></div><div class="ttdeci">static processBuffer()</div><div class="ttdoc">Processes the buffer to show the interface and/or the console messages. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00427">PtcDebug.php:427</a></div></div>
<div class="ttc" id="class_ptc_debug_html_ada73bfe34c52e60131fb496b7768cd20"><div class="ttname"><a href="class_ptc_debug.html#ada73bfe34c52e60131fb496b7768cd20">PtcDebug\addToBuffer</a></div><div class="ttdeci">static addToBuffer($reference, $string, $statement=null)</div><div class="ttdoc">Attaches a message to the end of the buffer array to add data based on a reference. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00405">PtcDebug.php:405</a></div></div>
<div class="ttc" id="class_ptc_debug_html_af7d63449a9b13a337e9d928ccc7f2468"><div class="ttname"><a href="class_ptc_debug.html#af7d63449a9b13a337e9d928ccc7f2468">PtcDebug\_codeCoverageAnalysis</a></div><div class="ttdeci">static _codeCoverageAnalysis($backtrace=null)</div><div class="ttdoc">Collect data for code coverage analysis. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00975">PtcDebug.php:975</a></div></div>
<div class="ttc" id="class_ptc_debug_html_a264a49a89c9720923ecb695ee9b9ad9e"><div class="ttname"><a href="class_ptc_debug.html#a264a49a89c9720923ecb695ee9b9ad9e">PtcDebug\_setSessionVars</a></div><div class="ttdeci">static _setSessionVars()</div><div class="ttdoc">Sets session vars to control which panels will be shown. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00808">PtcDebug.php:808</a></div></div>
<div class="ttc" id="class_ptc_debug_html_a60acee6e1a5e0755fac5f62f6ebcacbb"><div class="ttname"><a href="class_ptc_debug.html#a60acee6e1a5e0755fac5f62f6ebcacbb">PtcDebug\$_finalTraceData</a></div><div class="ttdeci">static $_finalTraceData</div><div class="ttdoc">Final data array for the function calls trace. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00617">PtcDebug.php:617</a></div></div>
<div class="ttc" id="class_ptc_debug_html_a335592042c1d696780d833e76dfd13bd"><div class="ttname"><a href="class_ptc_debug.html#a335592042c1d696780d833e76dfd13bd">PtcDebug\findString</a></div><div class="ttdeci">static findString($query, $path=null, $last=1)</div><div class="ttdoc">Searches files for a string inside a given folder recursively. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00461">PtcDebug.php:461</a></div></div>
<div class="ttc" id="class_ptc_debug_html_a51302f1e8215e4f47b51856410f704c2"><div class="ttname"><a href="class_ptc_debug.html#a51302f1e8215e4f47b51856410f704c2">PtcDebug\addCss</a></div><div class="ttdeci">static addCss($css)</div><div class="ttdoc">Adds style properties to the floating panel styles array. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00032">PtcDebug.php:32</a></div></div>
<div class="ttc" id="class_ptc_debug_html_abe16ab6b9f3a32190934ea9c2934d49d"><div class="ttname"><a href="class_ptc_debug.html#abe16ab6b9f3a32190934ea9c2934d49d">PtcDebug\$_watchedVars</a></div><div class="ttdeci">static $_watchedVars</div><div class="ttdoc">Array of watched variables declared. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00641">PtcDebug.php:641</a></div></div>
<div class="ttc" id="class_ptc_debug_html_a6ed3deb7bd3cbac61de2ab55c00491f7"><div class="ttname"><a href="class_ptc_debug.html#a6ed3deb7bd3cbac61de2ab55c00491f7">PtcDebug\$_traceData</a></div><div class="ttdeci">static $_traceData</div><div class="ttdoc">Function calls tracing storage property. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00613">PtcDebug.php:613</a></div></div>
<div class="ttc" id="class_ptc_debug_html_a0373ca264ea7a623ac8ffe665de2c6f8"><div class="ttname"><a href="class_ptc_debug.html#a0373ca264ea7a623ac8ffe665de2c6f8">PtcDebug\$_finalCoverageData</a></div><div class="ttdeci">static $_finalCoverageData</div><div class="ttdoc">Final data array for the code coveage. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00609">PtcDebug.php:609</a></div></div>
<div class="ttc" id="class_ptc_debug_html_a133adaeefa9c8f40b6c7b0a1af50ff3b"><div class="ttname"><a href="class_ptc_debug.html#a133adaeefa9c8f40b6c7b0a1af50ff3b">PtcDebug\_phpInfoArray</a></div><div class="ttdeci">static _phpInfoArray()</div><div class="ttdoc">Formats phpinfo() into an array. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l02082">PtcDebug.php:2082</a></div></div>
<div class="ttc" id="class_ptc_debug_html_afb9aca86ed4ccf1d1d632ecef7d69923"><div class="ttname"><a href="class_ptc_debug.html#afb9aca86ed4ccf1d1d632ecef7d69923">PtcDebug\highlightFile</a></div><div class="ttdeci">static highlightFile($file, $line=null)</div><div class="ttdoc">File highlighter that opens a popup window inspect source code. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00523">PtcDebug.php:523</a></div></div>
<div class="ttc" id="class_ptc_debug_html_aa30152839dabc833c520cdc2251d10ae"><div class="ttname"><a href="class_ptc_debug.html#aa30152839dabc833c520cdc2251d10ae">PtcDebug\startCoverage</a></div><div class="ttdeci">static startCoverage()</div><div class="ttdoc">Starts the code coverage analysis utility to find executed lines. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00217">PtcDebug.php:217</a></div></div>
<div class="ttc" id="class_ptc_debug_html_a9855d2593c61406eee87e85028075a20"><div class="ttname"><a href="class_ptc_debug.html#a9855d2593c61406eee87e85028075a20">PtcDebug\_traceFunctionCalls</a></div><div class="ttdeci">static _traceFunctionCalls($trace=null)</div><div class="ttdoc">Function calls trace engine. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l02138">PtcDebug.php:2138</a></div></div>
<div class="ttc" id="class_ptc_debug_html_a65d78c87edffc7fb92c20c701b489307"><div class="ttname"><a href="class_ptc_debug.html#a65d78c87edffc7fb92c20c701b489307">PtcDebug\errorHandler</a></div><div class="ttdeci">static errorHandler($errno, $errstr, $errfile, $errline)</div><div class="ttdoc">Handles php errors. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00378">PtcDebug.php:378</a></div></div>
<div class="ttc" id="class_ptc_debug_html_abee69c6c4f5cc5b09affbdf5a26c6ed2"><div class="ttname"><a href="class_ptc_debug.html#abee69c6c4f5cc5b09affbdf5a26c6ed2">PtcDebug\_compressHtml</a></div><div class="ttdeci">static _compressHtml($html)</div><div class="ttdoc">Compresses the html before render. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l02070">PtcDebug.php:2070</a></div></div>
<div class="ttc" id="class_ptc_debug_html_a45444b9f6673cee51babcfe7642f316a"><div class="ttname"><a href="class_ptc_debug.html#a45444b9f6673cee51babcfe7642f316a">PtcDebug\_buildInnerVars</a></div><div class="ttdeci">static _buildInnerVars($panelId, $linkTitle, $array)</div><div class="ttdoc">Builds the inner vars div. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l01831">PtcDebug.php:1831</a></div></div>
<div class="ttc" id="class_ptc_debug_html_a300fd174e5c0ed9bb01c3314e10d35f7"><div class="ttname"><a href="class_ptc_debug.html#a300fd174e5c0ed9bb01c3314e10d35f7">PtcDebug\bufferLog</a></div><div class="ttdeci">static bufferLog($string, $statement=null, $category=null)</div><div class="ttdoc">Writes data to the messages panel. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00314">PtcDebug.php:314</a></div></div>
<div class="ttc" id="class_ptc_debug_html_a5ae325dea974969f9611c520e388b908"><div class="ttname"><a href="class_ptc_debug.html#a5ae325dea974969f9611c520e388b908">PtcDebug\$_endTime</a></div><div class="ttdeci">static $_endTime</div><div class="ttdoc">Application end time. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00633">PtcDebug.php:633</a></div></div>
<div class="ttc" id="class_ptc_debug_html_ad8a0a4dd4506b9a1436de2dbfa3ab6e1"><div class="ttname"><a href="class_ptc_debug.html#ad8a0a4dd4506b9a1436de2dbfa3ab6e1">PtcDebug\_checkAccess</a></div><div class="ttdeci">static _checkAccess($allowedIps=null)</div><div class="ttdoc">Checks if a given ip has access. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00793">PtcDebug.php:793</a></div></div>
<div class="ttc" id="class_ptc_debug_html_a4e1ddc4f87a6c9936e074eee2c88ab9f"><div class="ttname"><a href="class_ptc_debug.html#a4e1ddc4f87a6c9936e074eee2c88ab9f">PtcDebug\setErrorHandler</a></div><div class="ttdeci">static setErrorHandler($dieOnFatal=true)</div><div class="ttdoc">Sets the error handler to be the debug class. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00057">PtcDebug.php:57</a></div></div>
<div class="ttc" id="class_ptc_debug_html_a94c503a11b3a0a7b962186f21ed9282e"><div class="ttname"><a href="class_ptc_debug.html#a94c503a11b3a0a7b962186f21ed9282e">PtcDebug\tickHandler</a></div><div class="ttdeci">static tickHandler()</div><div class="ttdoc">The ticks handler to execute all tickable functions. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00194">PtcDebug.php:194</a></div></div>
<div class="ttc" id="class_ptc_debug_html_a33e5ad2a3207979e2df422cf2966c6ec"><div class="ttname"><a href="class_ptc_debug.html#a33e5ad2a3207979e2df422cf2966c6ec">PtcDebug\checkReferer</a></div><div class="ttdeci">static checkReferer()</div><div class="ttdoc">Checks if the debug &amp;quot;url_key&amp;quot; and &amp;quot;url_pass&amp;quot; are set on the referer url. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00037">PtcDebug.php:37</a></div></div>
<div class="ttc" id="class_ptc_debug_html_a99e9b76a11243de2ee61f460f614893e"><div class="ttname"><a href="class_ptc_debug.html#a99e9b76a11243de2ee61f460f614893e">PtcDebug\$_startTime</a></div><div class="ttdeci">static $_startTime</div><div class="ttdoc">Application start time. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00629">PtcDebug.php:629</a></div></div>
<div class="ttc" id="class_ptc_debug_html_a33593919e6a08523ae40e8da1f8315a4"><div class="ttname"><a href="class_ptc_debug.html#a33593919e6a08523ae40e8da1f8315a4">PtcDebug\$_excludeFromTrace</a></div><div class="ttdeci">static $_excludeFromTrace</div><div class="ttdoc">Exclude functions from the function calls trace array. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00665">PtcDebug.php:665</a></div></div>
<div class="ttc" id="class_ptc_debug_html_a156452ce157308c974bf0944e9f8bde8"><div class="ttname"><a href="class_ptc_debug.html#a156452ce157308c974bf0944e9f8bde8">PtcDebug\exceptionHandler</a></div><div class="ttdeci">static exceptionHandler($exception)</div><div class="ttdoc">Exception handler, catches exceptions that are not in a try/catch block. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00392">PtcDebug.php:392</a></div></div>
<div class="ttc" id="class_ptc_debug_html_a67c2dc7bf0a0a754970010bcfb7b7a54"><div class="ttname"><a href="class_ptc_debug.html#a67c2dc7bf0a0a754970010bcfb7b7a54">PtcDebug\watch</a></div><div class="ttdeci">static watch($variableName, $callback=null)</div><div class="ttdoc">Watches a variable that is in a declare(ticks=n); code block, for changes. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00290">PtcDebug.php:290</a></div></div>
<div class="ttc" id="class_ptc_debug_html_aac5be9e07ddf80627d8e6bb9425d78a4"><div class="ttname"><a href="class_ptc_debug.html#aac5be9e07ddf80627d8e6bb9425d78a4">PtcDebug\excludeFromTrace</a></div><div class="ttdeci">static excludeFromTrace($functions)</div><div class="ttdoc">Excludes functions from the function calls tracing engine. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00280">PtcDebug.php:280</a></div></div>
<div class="ttc" id="class_ptc_debug_html_a38127c0fa8cd7ae779cc6cd8a012d9a4"><div class="ttname"><a href="class_ptc_debug.html#a38127c0fa8cd7ae779cc6cd8a012d9a4">PtcDebug\$_panelCss</a></div><div class="ttdeci">static $_panelCss</div><div class="ttdoc">Property that holds the css for the floating panel. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00669">PtcDebug.php:669</a></div></div>
<div class="ttc" id="class_ptc_debug_html_ac29c852d260a1bb5a98dc657c38d8fa4"><div class="ttname"><a href="class_ptc_debug.html#ac29c852d260a1bb5a98dc657c38d8fa4">PtcDebug\load</a></div><div class="ttdeci">static load($options=null)</div><div class="ttdoc">Loads the debug interface and/or the console class if requested. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00073">PtcDebug.php:73</a></div></div>
<div class="ttc" id="class_ptc_debug_html_a1bebdc689c84eee59ad24c77e5531762"><div class="ttname"><a href="class_ptc_debug.html#a1bebdc689c84eee59ad24c77e5531762">PtcDebug\$_options</a></div><div class="ttdeci">static $_options</div><div class="ttdoc">Array with all options. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00621">PtcDebug.php:621</a></div></div>
<div class="ttc" id="class_ptc_debug_html_ad8756f7d500d1b08cd6dce72dbc9c8c1"><div class="ttname"><a href="class_ptc_debug.html#ad8756f7d500d1b08cd6dce72dbc9c8c1">PtcDebug\_disablePanels</a></div><div class="ttdeci">static _disablePanels()</div><div class="ttdoc">Controls which panels will be shown with $_GET variable &amp;quot;hidepanels&amp;quot;. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00818">PtcDebug.php:818</a></div></div>
<div class="ttc" id="class_ptc_debug_html_af03ad5dddec020f7c600befdca41cb3f"><div class="ttname"><a href="class_ptc_debug.html#af03ad5dddec020f7c600befdca41cb3f">PtcDebug\$_functionTrace</a></div><div class="ttdeci">static $_functionTrace</div><div class="ttdoc">Function calls trace property to start the analysis. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00657">PtcDebug.php:657</a></div></div>
<div class="ttc" id="class_ptc_debug_html_a56870c1226ce4e1d895803208a191781"><div class="ttname"><a href="class_ptc_debug.html#a56870c1226ce4e1d895803208a191781">PtcDebug\_buildBuffer</a></div><div class="ttdeci">static _buildBuffer($type, $string, $statement=null, $category=null)</div><div class="ttdoc">Builds the buffer. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00859">PtcDebug.php:859</a></div></div>
<div class="ttc" id="class_ptc_debug_html_a2087cebe0cb3045d0bf914dd43ac45a0"><div class="ttname"><a href="class_ptc_debug.html#a2087cebe0cb3045d0bf914dd43ac45a0">PtcDebug\$_coverageData</a></div><div class="ttdeci">static $_coverageData</div><div class="ttdoc">Code coverage analysis storage. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00605">PtcDebug.php:605</a></div></div>
<div class="ttc" id="class_ptc_debug_html_a4a3b4966a8c5d7217855f59e9b9a1836"><div class="ttname"><a href="class_ptc_debug.html#a4a3b4966a8c5d7217855f59e9b9a1836">PtcDebug\_formatVar</a></div><div class="ttdeci">static _formatVar($var)</div><div class="ttdoc">Evaluates the type of variable for output. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l01000">PtcDebug.php:1000</a></div></div>
<div class="ttc" id="class_ptc_debug_html_a6f7cc43e93c5bec1bf1fc09105994726"><div class="ttname"><a href="class_ptc_debug.html#a6f7cc43e93c5bec1bf1fc09105994726">PtcDebug\_buildPhpInfo</a></div><div class="ttdeci">static _buildPhpInfo()</div><div class="ttdoc">Formats phpinfo() function. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l01874">PtcDebug.php:1874</a></div></div>
<div class="ttc" id="class_ptc_debug_html_ade276c6d8d9beda22f69a49b2481ade1"><div class="ttname"><a href="class_ptc_debug.html#ade276c6d8d9beda22f69a49b2481ade1">PtcDebug\_includeCss</a></div><div class="ttdeci">static _includeCss()</div><div class="ttdoc">Includes the css for the interface. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l01886">PtcDebug.php:1886</a></div></div>
<div class="ttc" id="class_ptc_debug_html_a3de58c50140e7a5cdd933ebf3fc53944"><div class="ttname"><a href="class_ptc_debug.html#a3de58c50140e7a5cdd933ebf3fc53944">PtcDebug\$_excludeMethods</a></div><div class="ttdeci">static $_excludeMethods</div><div class="ttdoc">Array of methods excluded from the backtrace. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00601">PtcDebug.php:601</a></div></div>
<div class="ttc" id="class_ptc_debug_html_a3d0dc74eb84da9a2d9d3eb6f03d36709"><div class="ttname"><a href="class_ptc_debug.html#a3d0dc74eb84da9a2d9d3eb6f03d36709">PtcDebug\$_tickTime</a></div><div class="ttdeci">static $_tickTime</div><div class="ttdoc">Tick execution time property. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00645">PtcDebug.php:645</a></div></div>
<div class="ttc" id="class_ptc_debug_html_a2c9d20855f25fa1bee5f3caef4fc0d23"><div class="ttname"><a href="class_ptc_debug.html#a2c9d20855f25fa1bee5f3caef4fc0d23">PtcDebug\_getSessionVars</a></div><div class="ttdeci">static _getSessionVars($var=null)</div><div class="ttdoc">Retrieves the session var for the ptcdebug class. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l02187">PtcDebug.php:2187</a></div></div>
<div class="ttc" id="class_ptc_debug_html_a63f248208e06fda233d6aed79a221df1"><div class="ttname"><a href="class_ptc_debug.html#a63f248208e06fda233d6aed79a221df1">PtcDebug\stopTrace</a></div><div class="ttdeci">static stopTrace()</div><div class="ttdoc">Stops the function calls trace utility. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00264">PtcDebug.php:264</a></div></div>
<div class="ttc" id="class_ptc_debug_html_a9025b3cf7124820463bf6b987eaaafe4"><div class="ttname"><a href="class_ptc_debug.html#a9025b3cf7124820463bf6b987eaaafe4">PtcDebug\$_disableOpcode</a></div><div class="ttdeci">static $_disableOpcode</div><div class="ttdoc">Controlls when to disable opcode cache. </div><div class="ttdef"><b>Definition:</b> <a href="ptc_debug_8php_source.html#l00661">PtcDebug.php:661</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
 <!-- start footer part -->
	<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
		<ul>
			<li class="navelem"><a class="el" href="ptc_debug_8php.html">PtcDebug.php</a></li>
			<li class="footer">Generated on Sat Dec 7 2013 00:01:09 for PhpToolCase by
				<a href="http://www.doxygen.org/index.html">
				<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.5 
			</li>
		</ul>
	</div>
	<!-- Start of StatCounter Code for Default Guide -->
	<script type="text/javascript">
	var sc_project=7779914; 
	var sc_invisible=1; 
	var sc_security="4a86be8b"; 
	</script>
	<script type="text/javascript"
	src="http://www.statcounter.com/counter/counter.js"></script>
	<noscript><div class="statcounter"><a title="tumblr page
	counter" href="http://statcounter.com/tumblr/"
	target="_blank"><img class="statcounter"
	src="http://c.statcounter.com/7779914/0/4a86be8b/1/"
	alt="tumblr page counter"></a></div></noscript>
	<!-- End of StatCounter Code for Default Guide -->
</body>
</html>