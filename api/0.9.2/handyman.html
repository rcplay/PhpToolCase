<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>PhpToolCase: Autoloader / HandyMan Component (PtcHandyMan)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="toolcaseedited.jpg"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">PhpToolCase
   </div>
   <div id="projectbrief">Api Documentation Version 0.9.2</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>User&#160;Guides</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('handyman.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Autoloader / HandyMan Component (<a class="el" href="class_ptc_handy_man.html">PtcHandyMan</a>) </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#introduction">Introduction</a></li>
<li class="level1"><a href="#hm_getting_started">Getting Started</a></li>
<li class="level1"><a href="#adding_dirs">Pointing The Autoloader To Files</a><ul><li class="level2"><a href="#add_files">Adding Files</a></li>
<li class="level2"><a href="#add_dirs">Adding Directories</a></li>
<li class="level2"><a href="#namespace_dirs">Adding Namespace Directories</a></li>
<li class="level2"><a href="#using_separators">Using Separators</a></li>
</ul>
</li>
<li class="level1"><a href="#getDirs">Retrieving Autoloader Directories</a></li>
<li class="level1"><a href="#configure_app">Using The Application Paths Manager</a><ul><li class="level2"><a href="#addingAppPath">Adding Paths</a></li>
<li class="level2"><a href="#usingAddedPath">Retrieving Added Paths</a></li>
</ul>
</li>
<li class="level1"><a href="#read_properties">Reading Inaccessible Properties</a></li>
<li class="level1"><a href="#using_helpers">Using The Library Helpers</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="introduction"></a>
Introduction</h1>
<p>The <a class="el" href="class_ptc_handy_man.html">PtcHandyMan</a> component is a great tool that can assist you with autoloading classes and manage application paths.This class can be used to autoload class files saving a lot of time compared to including files manually. The tool can autoload classes based on custom naming conventions aswell, and will try to guess the file name to be loaded. The <a class="el" href="class_ptc_handy_man.html">PtcHandyMan</a> logs all actions to the <a class="el" href="class_ptc_debug.html">PtcDebug</a> class, making the process of debugging loaded classes a lot easear. This class can also be used to store and retrieve directory paths acting as an application paths manager. The component also supports autoloading classes with namespaces. <br/>
<br/>
 Main Features: </p>
<ul>
<li>
Loads all classes in given directory </li>
<li>
Namespace support for loading classes </li>
<li>
Raw files can be added to the autoloader </li>
<li>
Can store and retrieve application paths </li>
<li>
All actions can be logged with the <a class="el" href="class_ptc_debug.html">PtcDebug</a> class </li>
<li>
Helper functions can be added with the <a class="el" href="ptc-helpers_8php.html">ptc-helpers.php</a> file </li>
</ul>
<p><br/>
 </p>
<hr/>
 <h1><a class="anchor" id="hm_getting_started"></a>
Getting Started</h1>
<p>To start using the <a class="el" href="class_ptc_handy_man.html">PtcHandyMan</a> component to autoload our classes, we just need to register the autoloader: </p>
<div class="fragment"><div class="line">require_once( <span class="stringliteral">&#39;PtcHm.php&#39;</span> );</div>
<div class="line"></div>
<div class="line"><span class="comment">// register the autoloader</span></div>
<div class="line"><a class="code" href="class_ptc_handy_man.html#aa33dd5de7586b98bf750bdc448f8bd1e">PtcHandyMan::register</a>( );</div>
</div><!-- fragment --> <dl class="section note"><dt>Note</dt><dd>The <a class="el" href="class_ptc_handy_man.html#aa33dd5de7586b98bf750bdc448f8bd1e" title="Registers the autoloader to load classes when needed. ">PtcHandyMan::register( )</a> method will automatically add the folder where it resides, as a directory to autoload components from the PhpToolCase library.</dd></dl>
<hr/>
 <h1><a class="anchor" id="adding_dirs"></a>
Pointing The Autoloader To Files</h1>
<p>To tell the autoloader where the files to be loaded reside, the methods <a class="el" href="class_ptc_handy_man.html#a5a9d201a948e7206b6b568cd24666e97" title="Adds class file(s) to the autoloader. ">PtcHandyMan::addFiles( )</a> and <a class="el" href="class_ptc_handy_man.html#ae84dcb8b19c6846244e06b63bae8b4a2" title="Adds path(s) to the PtcHandyMan::$_dirs property to load classes when needed. ">PtcHandyMan::addDirs( )</a> can be used. The following paragraphs will explain in details the usage of these methods. </p>
<h2><a class="anchor" id="add_files"></a>
Adding Files</h2>
<p>Adding raw files to the autoloader can be convenient sometimes, here's how to do it: </p>
<div class="fragment"><div class="line"><span class="comment">// adding class files</span></div>
<div class="line"><a class="code" href="class_ptc_handy_man.html#a5a9d201a948e7206b6b568cd24666e97">PtcHandyMan::addFiles</a>( array</div>
<div class="line">(</div>
<div class="line">  <span class="stringliteral">&#39;HmTestClassFile&#39;</span>       =&gt; <span class="stringliteral">$_SERVER[ 'DOCUMENT_ROOT' ] . &#39;class-file.php&#39;</span> , <span class="comment">// adding a class file to the autoloader</span></div>
<div class="line">  <span class="stringliteral">&#39;ns\HmTestClassFile&#39;</span>    =&gt; <span class="stringliteral">$_SERVER[ 'DOCUMENT_ROOT' ] . &#39;ns-class-file.php&#39;</span> , <span class="comment">// adding a namespace class file</span></div>
<div class="line">) );</div>
<div class="line"></div>
<div class="line"><span class="comment">// loading the class</span></div>
<div class="line">$class1 = <span class="keyword">new</span> HmTestClassFile( ); </div>
<div class="line"></div>
<div class="line"><span class="comment">// loading the namespaced class</span></div>
<div class="line">$lowercase = <span class="keyword">new</span> ns\HmTestClassFile( );   </div>
</div><!-- fragment --> <h2><a class="anchor" id="add_dirs"></a>
Adding Directories</h2>
<p>Adding directories to the autoloader is quite usefull if you want to autoload all classes inside a directory. To add directories, the method <a class="el" href="class_ptc_handy_man.html#ae84dcb8b19c6846244e06b63bae8b4a2" title="Adds path(s) to the PtcHandyMan::$_dirs property to load classes when needed. ">PtcHandyMan::addDirs</a> can be used: </p>
<div class="fragment"><div class="line"><span class="comment">// adding directories with classes to the autoloader</span></div>
<div class="line"><a class="code" href="class_ptc_handy_man.html#ae84dcb8b19c6846244e06b63bae8b4a2">PtcHandyMan::addDirs</a>( <span class="stringliteral">&#39;full_pat_to_some_directory&#39;</span> );</div>
</div><!-- fragment --><p> The autoloader will load all classes that match the file names. </p>
<dl class="section note"><dt>Note</dt><dd>File names matching class names will load faster, second guess will be filename lowercase.</dd></dl>
<h2><a class="anchor" id="namespace_dirs"></a>
Adding Namespace Directories</h2>
<p>To add directories with classes that use namespaces, is very similar to adding directories: </p>
<div class="fragment"><div class="line"><span class="comment">// ADDING A NAMESPACED DIRECTORY WITH CLASSES TO THE AUTOLOADER</span></div>
<div class="line"><a class="code" href="class_ptc_handy_man.html#a2b80a0af56b0f8a03f2cd63fd509020b">PtcHandyMan::addDir</a>( array</div>
<div class="line">( </div>
<div class="line">  <span class="stringliteral">&#39;nsTest&#39;</span> =&gt; <span class="stringliteral">&#39;full_path_to_namespace_directory&#39;</span>    <span class="comment">// adding a namespaced directory</span></div>
<div class="line">) );</div>
<div class="line"></div>
<div class="line"><span class="comment">// loading a namespaced class</span></div>
<div class="line">$class_ns = <span class="keyword">new</span> nsTest\HmTestNs( );</div>
<div class="line">  </div>
<div class="line"><span class="comment">// loading a namespaced class inside subfolder &quot;hmNsDeep&quot;</span></div>
<div class="line">$class_ns_deep = <span class="keyword">new</span> nsTest\hmNsDeep\HmTestNsDeep( );</div>
</div><!-- fragment --><p> As you can see, the only difference with the <a class="el" href="handyman.html#add_dirs">Adding Directories</a> example, is the use of an array key to define the namespace. </p>
<dl class="section note"><dt>Note</dt><dd>File names matching class names will load faster, second guess will be filename lowercase.</dd></dl>
<h2><a class="anchor" id="using_separators"></a>
Using Separators</h2>
<p>Different Naming conventions can also be used to autoload classes, all we need to do is add sperators and naming conventions to the <a class="el" href="class_ptc_handy_man.html">PtcHandyMan</a> autoloader. <br/>
 Here is an example using wordpress naming conventions to autoload classes: </p>
<div class="fragment"><div class="line"><span class="comment">// wordpress separator for class names</span></div>
<div class="line"><a class="code" href="class_ptc_handy_man.html#ae7bfdd51e9e9b5ead5b1284c5244ff88">PtcHandyMan::addSeparator</a>( <span class="charliteral">&#39;-&#39;</span> );</div>
<div class="line">  </div>
<div class="line"><span class="comment">// wordpress name convention for classes</span></div>
<div class="line"><a class="code" href="class_ptc_handy_man.html#aaf80dd94ce4ace148da1d17c1cffe215">PtcHandyMan::addConvention</a>( <span class="stringliteral">&#39;class{SEP}{CLASS}&#39;</span> );    </div>
<div class="line"></div>
<div class="line"><span class="comment">// will load the file &quot;class-wp-debug.php&quot; by using the name convention given,</span></div>
<div class="line"><span class="comment">// and replacing underscore with separators added</span></div>
<div class="line">WP_PtcDebug::load( );</div>
</div><!-- fragment --><p> As you can see naming convention can use 2 {placeholders}, which are {CLASS} for the class name and {SEP} for the separators added. <br/>
<br/>
 Here is another example that uses <code>"class.{CLASS}"</code> as naming convention: </p>
<div class="fragment"><div class="line"><span class="comment">// adding a separator for class names</span></div>
<div class="line">  <a class="code" href="class_ptc_handy_man.html#ae7bfdd51e9e9b5ead5b1284c5244ff88">PtcHandyMan::addSeparator</a>( <span class="charliteral">&#39;-&#39;</span> );</div>
<div class="line"></div>
<div class="line"><span class="comment">// adding another naming convention</span></div>
<div class="line"><a class="code" href="class_ptc_handy_man.html#aaf80dd94ce4ace148da1d17c1cffe215">PtcHandyMan::addConvention</a>( <span class="stringliteral">&#39;class.{CLASS}&#39;</span> );    </div>
<div class="line"></div>
<div class="line"><span class="comment">// loads the file &quot;class.hm-test-sep.php&quot; by replacing the &quot;_&quot; with &quot;-&quot; added separator in the class name</span></div>
<div class="line">$sep_class1 = <span class="keyword">new</span> Hm_Test_Sep( ); </div>
</div><!-- fragment --> <dl class="section note"><dt>Note</dt><dd>Using custom naming conventions and separators to autoload classes, is slower then using the standard naming convention logic ( ClassName.php ).</dd></dl>
<hr/>
 <h1><a class="anchor" id="getDirs"></a>
Retrieving Autoloader Directories</h1>
<p>To retrieve the list of directories that the autoloader uses, the method <a class="el" href="class_ptc_handy_man.html#a568b83a905daaaadf1d84dce7548fb62" title="Returns the current included paths for the autoloader. ">PtcHandyMan::getDirs( )</a> can be used: </p>
<div class="fragment"><div class="line"><span class="comment">// getting all directories of the autoloader</span></div>
<div class="line">$dirs = <a class="code" href="class_ptc_handy_man.html#a568b83a905daaaadf1d84dce7548fb62">PtcHandyMan::getDirs</a>( );</div>
<div class="line"></div>
<div class="line">var_dump( $dirs );</div>
</div><!-- fragment --><p> To retrieve only part of the directories, like just the files for example, we can use the <code>"$type"</code> argument: </p>
<div class="fragment"><div class="line"><span class="comment">// getting all files added to the autoloader</span></div>
<div class="line">$files = <a class="code" href="class_ptc_handy_man.html#a568b83a905daaaadf1d84dce7548fb62">PtcHandyMan::getDirs</a>( <span class="stringliteral">&#39;files&#39;</span> );     </div>
<div class="line"></div>
<div class="line">var_dump( $dirs );</div>
</div><!-- fragment --><p> This are the possible options for the <code>"$type"</code> argument: </p>
<ul>
<li>
files ( retrieves all added files ) </li>
<li>
directories ( retrieves all added directories ) </li>
<li>
ns ( retrieves all added namespace directories ) </li>
</ul>
<p><br/>
 </p>
<hr/>
 <h1><a class="anchor" id="configure_app"></a>
Using The Application Paths Manager</h1>
<p>The <a class="el" href="class_ptc_handy_man.html">PtcHandyMan</a> component also provides an elegant way to manage application paths, have a look at the following paragraphs to understand how this can be done. </p>
<h2><a class="anchor" id="addingAppPath"></a>
Adding Paths</h2>
<p>The <a class="el" href="class_ptc_handy_man.html#a00947c9a378b2fd59e27ce4e4dea7cdb" title="Adds paths to the PtcHandyMan::$_appPaths property for later usage. ">PtcHandyMan::addAppPaths( )</a> can store application paths inside an array, to be later retrieved by the unique name that we will set as array key. <br/>
<br/>
 Here's an example using <code>"lib"</code> as unique identifier for the added path: </p>
<div class="fragment"><div class="line"><span class="comment">// adding application paths for later usage</span></div>
<div class="line"><a class="code" href="class_ptc_handy_man.html#a00947c9a378b2fd59e27ce4e4dea7cdb">PtcHandyMan::addAppPaths</a>( array</div>
<div class="line">( </div>
<div class="line">  <span class="stringliteral">&#39;lib&#39;</span>   =&gt;   dirname( __FILE__ ) . <span class="stringliteral">&#39;/autoloader-example-files&#39;</span></div>
<div class="line">) );</div>
</div><!-- fragment --> <h2><a class="anchor" id="usingAddedPath"></a>
Retrieving Added Paths</h2>
<p>To retrieve previously added application paths, the method <a class="el" href="class_ptc_handy_man.html#a6671181d913b8b163a34ec59c8f48e99" title="Helper method to retrieve paths for the application. ">PtcHandyMan::getAppPaths( )</a> can be used. The following example will add a directoy to the autoloader, using a previously configured application path: </p>
<div class="fragment"><div class="line"><span class="comment">// adding directories with classes to the autoloader</span></div>
<div class="line"><a class="code" href="class_ptc_handy_man.html#a2b80a0af56b0f8a03f2cd63fd509020b">PtcHandyMan::addDir</a>( <a class="code" href="class_ptc_handy_man.html#abba38c59a547702b1f577f046f0ae06b">PtcHandyMan::getAppPath</a>( <span class="stringliteral">&#39;lib&#39;</span> ) ); <span class="comment">// using a previously created path   </span></div>
</div><!-- fragment --><p> If the argument <code>"$name"</code> is not used, all currently configured paths will be returned. </p>
<dl class="section note"><dt>Note</dt><dd>The <a class="el" href="ptc-helpers_8php.html">ptc-helpers.php</a> function file, provides helper functions to interact with the application path management logic of the <a class="el" href="class_ptc_handy_man.html">PtcHandyMan</a>. <br/>
 See <a class="el" href="handyman.html#using_helpers">Using The Library Helpers</a>.</dd></dl>
<hr/>
 <h1><a class="anchor" id="read_properties"></a>
Reading Inaccessible Properties</h1>
<p>The <a class="el" href="class_ptc_handy_man.html">PtcHandyMan</a> component provides a couple of <code>"handy methods"</code>, and one of them certainly is the <a class="el" href="class_ptc_handy_man.html#ac766ecd6b9fb39d249e5a9c277de27f8" title="Retrieves inaccessible properties from a class or object. ">PtcHandyMan::getProperty( )</a> method. This method can be used to read the value of a protected / private property from an object. <br/>
<br/>
 The following example shows how to read inaccessible properties: </p>
<div class="fragment"><div class="line"><span class="comment">// reading a protected property from an initialized object</span></div>
<div class="line">$property_value = <a class="code" href="class_ptc_handy_man.html#ac766ecd6b9fb39d249e5a9c277de27f8">PtcHandyMan::getProperty</a>( $some_object , <span class="stringliteral">&#39;propertyName&#39;</span> );</div>
<div class="line"></div>
<div class="line"><span class="comment">// reading a protected static property from a singleton class</span></div>
<div class="line">$property_value = <a class="code" href="class_ptc_handy_man.html#ac766ecd6b9fb39d249e5a9c277de27f8">PtcHandyMan::getProperty</a>( <span class="stringliteral">&#39;class_name&#39;</span> , <span class="stringliteral">&#39;propertyName&#39;</span> );</div>
</div><!-- fragment --><p> <br/>
 </p>
<hr/>
 <h1><a class="anchor" id="using_helpers"></a>
Using The Library Helpers</h1>
<p>The <code>PhpToolCase</code> library, provides helper functions for the <a class="el" href="class_ptc_handy_man.html">PtcHandyMan</a> component. To start using these functions, the <a class="el" href="ptc-helpers_8php.html">ptc-helpers.php</a> file needs to be present and declared with the same namespace as the <a class="el" href="class_ptc_handy_man.html">PtcHandyMan</a>. The <a class="el" href="class_ptc_handy_man.html#aa33dd5de7586b98bf750bdc448f8bd1e" title="Registers the autoloader to load classes when needed. ">PtcHandyMan::register( )</a> method will include this file automatically. <br/>
<br/>
 See <a class="el" href="helper_functions.html">Helper Functions (ptc-helpers.php)</a> for example usage of these library helpers. <br/>
 <br/>
 </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
 <!-- start footer part -->
	<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
		<ul>
			<li class="navelem"><a class="el" href="index.html">User Guides</a></li>
			<li class="footer">Generated on Sat Dec 7 2013 00:01:10 for PhpToolCase by
				<a href="http://www.doxygen.org/index.html">
				<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.5 
			</li>
		</ul>
	</div>
	<!-- Start of StatCounter Code for Default Guide -->
	<script type="text/javascript">
	var sc_project=7779914; 
	var sc_invisible=1; 
	var sc_security="4a86be8b"; 
	</script>
	<script type="text/javascript"
	src="http://www.statcounter.com/counter/counter.js"></script>
	<noscript><div class="statcounter"><a title="tumblr page
	counter" href="http://statcounter.com/tumblr/"
	target="_blank"><img class="statcounter"
	src="http://c.statcounter.com/7779914/0/4a86be8b/1/"
	alt="tumblr page counter"></a></div></noscript>
	<!-- End of StatCounter Code for Default Guide -->
</body>
</html>