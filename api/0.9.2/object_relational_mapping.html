<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>PhpToolCase: Object Relational Mapping Component (PtcMapper)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="toolcaseedited.jpg"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">PhpToolCase
   </div>
   <div id="projectbrief">Api Documentation Version 0.9.2</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>User&#160;Guides</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('object_relational_mapping.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Object Relational Mapping Component (<a class="el" href="class_ptc_mapper.html">PtcMapper</a>) </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#introduction">Introduction</a></li>
<li class="level1"><a href="#getting_started">Getting Started</a></li>
<li class="level1"><a href="#specify_table">Specifying Table Name</a></li>
<li class="level1"><a href="#retrieve_records">Retrieve All Records</a></li>
<li class="level1"><a href="#retrieve_record_by_id">Retrieve Record Based On Id</a></li>
<li class="level1"><a href="#using_query_builder">Using The Query Builder Directly</a></li>
<li class="level1"><a href="#adding_record">Adding Records</a></li>
<li class="level1"><a href="#update_record">Updating Records</a></li>
<li class="level1"><a href="#delete_record">Deleting Records</a></li>
<li class="level1"><a href="#convert_values">Converting Values</a><ul><li class="level2"><a href="#convert_to_array">Convert Values To Array</a></li>
<li class="level2"><a href="#convert_to_json">Convert Values To Json</a></li>
</ul>
</li>
<li class="level1"><a href="#retrieve_single_value">Retrieving Single Values</a></li>
<li class="level1"><a href="#update_single_value">Updating Single Values</a></li>
<li class="level1"><a href="#mapping_fields">Mapping Field Names</a></li>
<li class="level1"><a href="#using_observers">Using Observer Events</a></li>
<li class="level1"><a href="#add_opts_on_initliaz">Adding Options On Initialization</a></li>
<li class="level1"><a href="#change_connection">Specify Connection To Use</a></li>
<li class="level1"><a href="#specifyUniqueKey">Specify Unique Key</a></li>
<li class="level1"><a href="#specifyEventClass">Specify Event Class</a></li>
<li class="level1"><a href="#specifyConnectionManagerClass">Specify Connection Manager Class</a></li>
<li class="level1"><a href="#using_boot">Adding Options On Initialization</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="introduction"></a>
Introduction</h1>
<p>The Object Relational Mapping Component is a great tool for retrieving and manipulating database tables data with just a couple of lines of code. The class can be used with the <a class="el" href="class_ptc_event.html">PtcEvent</a> component to add event listeners to queries. This class can also be used to call methods from the <a class="el" href="class_ptc_query_builder.html">PtcQueryBuilder</a> component directly. Retrieved rows can be converted to arrays or json arrays. The <a class="el" href="class_ptc_mapper.html">PtcMapper</a> can also use shortcut methods to retrieve / update single column values. <br/>
<br/>
 Main Features: <br/>
 </p>
<ul>
<li>
Simple syntax to manipulate and insert rows </li>
<li>
Uses shortcuts to retrieve / update single column value </li>
<li>
Can be used with <a class="el" href="class_ptc_event.html">PtcEvent</a> component to add event listeners to queries </li>
<li>
Uses the <a class="el" href="class_ptc_query_builder.html">PtcQueryBuilder</a> class to handle all queries </li>
<li>
Converts retrieved records to json arrays </li>
<li>
Can use any connection configured with the <a class="el" href="class_ptc_db.html">PtcDb</a> class </li>
</ul>
<dl class="section note"><dt>Note</dt><dd>This component depends on the <a class="el" href="class_ptc_db.html">PtcDb</a> and the <a class="el" href="class_ptc_query_builder.html">PtcQueryBuilder</a> components, therfore it is not stand-alone.</dd></dl>
<hr/>
 <h1><a class="anchor" id="getting_started"></a>
Getting Started</h1>
<p>To get started using this component, you just need to extend the class: </p>
<div class="fragment"><div class="line"><span class="comment">// Using the database table name as class name</span></div>
<div class="line"><span class="keyword">class </span>MY_Table <span class="keyword">extends</span> <a class="code" href="class_ptc_mapper.html">PtcMapper</a></div>
<div class="line">{</div>
<div class="line"></div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">$row = MY_Table::find( 1 ); <span class="comment">// getting record by id</span></div>
<div class="line">print <span class="stringliteral">&#39;&lt;b&gt;Getting 1 row:&lt;/b&gt;&lt;br&gt;&#39;</span>;</div>
<div class="line">print $row-&gt;field1 . <span class="stringliteral">&#39;&lt;br&gt;&#39;</span>;</div>
<div class="line">print $row-&gt;field2 . <span class="stringliteral">&#39;&lt;br&gt;&#39;</span>;</div>
</div><!-- fragment --><p> And that's about it. The class name will be used as the database table name in lowercase letters. </p>
<dl class="section note"><dt>Note</dt><dd>To retrieve and update records correctly, the class uses a primary key as unique row identifier which needs to be present in the table structure.</dd></dl>
<p><br/>
 </p>
<hr/>
 <h1><a class="anchor" id="specify_table"></a>
Specifying Table Name</h1>
<p>If you need to specify the table name, use the static property <a class="el" href="class_ptc_mapper.html#ac0ee5b766d19cb282552a3449a1f8376" title="Database table property. ">PtcMapper::$_table</a> in your extended class: </p>
<div class="fragment"><div class="line"><span class="keyword">class </span>MY_Table <span class="keyword">extends</span> <a class="code" href="class_ptc_mapper.html">PtcMapper</a></div>
<div class="line">{</div>
<div class="line">    <span class="keyword">protected</span> <span class="keyword">static</span> $_table = <span class="stringliteral">&#39;table_name&#39;</span>;</div>
<div class="line">}</div>
</div><!-- fragment --><p> <br/>
 </p>
<hr/>
 <h1><a class="anchor" id="retrieve_records"></a>
Retrieve All Records</h1>
<p>To retrieve all records from the table, the method PtMapper:all( ) can be used: </p>
<div class="fragment"><div class="line"><span class="comment">// RETRIEVING ALL RECORDS FROM TABLE</span></div>
<div class="line">$data = MY_Table::all( );</div>
<div class="line">print <span class="stringliteral">&quot;&lt;b&gt;Looping through all records:&lt;/b&gt;&lt;br&gt;&quot;</span>;</div>
<div class="line"><span class="keywordflow">foreach</span> ( $data as $row )</div>
<div class="line">{</div>
<div class="line">    print $row-&gt;field1 . <span class="stringliteral">&quot;&lt;br&gt;&quot;</span>;</div>
<div class="line">    print $row-&gt;field2 . <span class="stringliteral">&quot;&lt;br&gt;&quot;</span>;</div>
<div class="line">}</div>
<div class="line">print <span class="stringliteral">&quot;&lt;br&gt;&quot;</span>;</div>
</div><!-- fragment --><p> <br/>
 </p>
<hr/>
 <h1><a class="anchor" id="retrieve_record_by_id"></a>
Retrieve Record Based On Id</h1>
<p>To retrieve 1 record by it's id, the method <a class="el" href="class_ptc_mapper.html">PtcMapper</a>:find( ) can be used: </p>
<div class="fragment"><div class="line"><span class="comment">// RETRIEVING 1 ROW BASED ON ID</span></div>
<div class="line">$row = MY_Table::find( 1 );</div>
<div class="line"></div>
<div class="line">print $row-&gt;field1 . <span class="stringliteral">&quot;&lt;br&gt;&quot;</span>;</div>
<div class="line">print $row-&gt;field2 . <span class="stringliteral">&quot;&lt;br&gt;&lt;br&gt;&quot;</span>;</div>
</div><!-- fragment --><p> <br/>
 </p>
<hr/>
 <h1><a class="anchor" id="using_query_builder"></a>
Using The Query Builder Directly</h1>
<p>The <a class="el" href="class_ptc_mapper.html">PtcMapper</a> component can be used to call the query builder method directly. <br/>
 Have a look at the following example to undestand how this can be done: </p>
<div class="fragment"><div class="line"><span class="comment">// USING THE QUERY BUILDER METHODS DIRECTLY</span></div>
<div class="line">$data = MY_Table::where( <span class="stringliteral">&#39;id&#39;</span> , <span class="stringliteral">&#39;!=&#39;</span> , 2 )-&gt;run( );</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">foreach</span> ( $data as $row )</div>
<div class="line">{</div>
<div class="line">    print $row-&gt;field1 . <span class="stringliteral">&quot;&lt;br&gt;&quot;</span>;</div>
<div class="line">    print $row-&gt;field2 . <span class="stringliteral">&quot;&lt;br&gt;&quot;</span>;</div>
<div class="line">}</div>
</div><!-- fragment --><p> <br/>
 </p>
<hr/>
 <h1><a class="anchor" id="adding_record"></a>
Adding Records</h1>
<p>Adding new records is very simple, have a look at the following example: </p>
<div class="fragment"><div class="line"><span class="comment">// ADDING NEW RECORDS</span></div>
<div class="line">$row = <span class="keyword">new</span> MY_Table( );</div>
<div class="line"></div>
<div class="line">$row-&gt;field1 = <span class="stringliteral">&#39;some value&#39;</span>;</div>
<div class="line">$row-&gt;field2 = <span class="stringliteral">&#39;some other value&#39;</span>;</div>
<div class="line"></div>
<div class="line">$row-&gt;save( ); <span class="comment">// saving the values to the table</span></div>
</div><!-- fragment --><p> To create a new record from an associative array use the <a class="el" href="class_ptc_mapper.html">PtcMapper</a>:create( ) method: </p>
<div class="fragment"><div class="line"><span class="comment">// CREATING NEW RECORD FROM ASSOCIATIVE ARRAY</span></div>
<div class="line">$arr = array( <span class="stringliteral">&#39;field1&#39;</span> =&gt; <span class="stringliteral">&#39;created from array&#39;</span> , <span class="stringliteral">&#39;field2&#39;</span> =&gt; <span class="stringliteral">&#39;created from array&#39;</span> );</div>
<div class="line">$row = MY_Table::create( $arr );</div>
<div class="line"></div>
<div class="line">$row-&gt;save( ); <span class="comment">// saving the values to the table</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// or in 1 line</span></div>
<div class="line"><span class="comment">//Test_Table::create( $arr )-&gt;save( );</span></div>
</div><!-- fragment --><p> <br/>
 </p>
<hr/>
 <h1><a class="anchor" id="update_record"></a>
Updating Records</h1>
<p>To update records the method <a class="el" href="class_ptc_mapper.html#afc8a3c62679cf00ade9f15fb2a6d6132" title="Inserts a new record in table. ">PtcMapper::save( )</a> can be used: </p>
<div class="fragment"><div class="line"><span class="comment">// UPDATING RECORDS</span></div>
<div class="line">$row = MY_Table::find( 1 ); <span class="comment">// get record by id</span></div>
<div class="line"></div>
<div class="line">$row-&gt;field1 = <span class="stringliteral">&#39;updated value&#39;</span>;</div>
<div class="line">$row-&gt;field2 = <span class="stringliteral">&#39;updated value&#39;</span>;</div>
<div class="line"></div>
<div class="line">$row-&gt;save( );</div>
</div><!-- fragment --><p> <br/>
 </p>
<hr/>
 <h1><a class="anchor" id="delete_record"></a>
Deleting Records</h1>
<p>To delete a record, the method <a class="el" href="class_ptc_mapper.html#a13bdffdd926f26b825ea57066334ff01" title="Deletes record in table based on id. ">PtcMapper::delete( )</a> can be used: </p>
<div class="fragment"><div class="line"><span class="comment">// DELETING RECORDS</span></div>
<div class="line">$row = MY_Table::find( 1 ); <span class="comment">// get record by id</span></div>
<div class="line"></div>
<div class="line">$row-&gt;delete( ); <span class="comment">// delete retrieved record</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// same as above but in 1 line</span></div>
<div class="line">MY_Table::find( 1 )-&gt;delete( );</div>
</div><!-- fragment --><p> The query builder can also be used with a where clause to delete records: </p>
<div class="fragment"><div class="line"><span class="comment">// using the query builder directly</span></div>
<div class="line">MY_Table::where(<span class="stringliteral">&#39;field1&#39;</span>, <span class="stringliteral">&#39;!=&#39;</span>, <span class="stringliteral">&#39;some value&#39;</span> )-&gt;delete( )-&gt;run( );</div>
</div><!-- fragment --><p> Refer to the <a class="el" href="query_builder.html">Query Builder Component (PtcQueryBuilder)</a> user manual for detailed usage over the <a class="el" href="class_ptc_query_builder.html">PtcQueryBuilder</a>. <br/>
 </p>
<hr/>
 <h1><a class="anchor" id="convert_values"></a>
Converting Values</h1>
<p>The returned values from the queries, can be converted to array or json. The following paragraphs will demostrate how: </p>
<h2><a class="anchor" id="convert_to_array"></a>
Convert Values To Array</h2>
<p>If you need to convert a record values to an array, the method <a class="el" href="class_ptc_mapper.html#a658defb34762c8f40085aec87e16ba1a" title="Returns values as an associative array. ">PtcMapper::toArray( )</a> can be used: </p>
<div class="fragment"><div class="line">    $row = MY_Table::find( 1 ); <span class="comment">// retrieving by id</span></div>
<div class="line"></div>
<div class="line">$data = $row-&gt;toArray( ); <span class="comment">// converting the values to an array</span></div>
</div><!-- fragment --> <h2><a class="anchor" id="convert_to_json"></a>
Convert Values To Json</h2>
<p>To convert records to json array, use the <a class="el" href="class_ptc_mapper.html#abb4e56e2f91e542d8ce2c9f2a7a944c1" title="Returns values as a json array. ">PtcMapper::toJson( )</a> method: </p>
<div class="fragment"><div class="line">$row = MY_Table::find( 1 ); <span class="comment">// retrieving by id</span></div>
<div class="line"></div>
<div class="line">$data = $row-&gt;toJson( ); <span class="comment">// converting the values to a json array</span></div>
</div><!-- fragment --><p> <br/>
 </p>
<hr/>
 <h1><a class="anchor" id="retrieve_single_value"></a>
Retrieving Single Values</h1>
<p>There are shortcuts to retrieve single column values with the component, by using the prefix <code>"get_"</code> followed by the column name: </p>
<div class="fragment"><div class="line"><span class="comment">// retrieving single column value based on id</span></div>
<div class="line">print Test_Table::get_some_column_name( 1 ); <span class="comment">// retrieving by id</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// select `some_column_name` where `some_column` = &#39;some value&#39;</span></div>
<div class="line">print Test_Table::get_some_column_name( <span class="stringliteral">&#39;some_column&#39;</span> , <span class="stringliteral">&#39;some value&#39;</span> );</div>
</div><!-- fragment --><p> <br/>
 </p>
<hr/>
 <h1><a class="anchor" id="update_single_value"></a>
Updating Single Values</h1>
<p>Updating 1 single value based on the record id, can be done quickly by using the prefix <code>"set_"</code> followed by the column name that you want to update: </p>
<div class="fragment"><div class="line"><span class="comment">// updating 1 single column value based on id</span></div>
<div class="line">Test_Table::set_some_column( <span class="stringliteral">&#39;new value saved&#39;</span> , 1 ); <span class="comment">// set come_column = &#39;new value saved&#39; where id = 1</span></div>
</div><!-- fragment --><p> <br/>
 </p>
<hr/>
 <h1><a class="anchor" id="mapping_fields"></a>
Mapping Field Names</h1>
<p>To map field names, use the property <a class="el" href="class_ptc_mapper.html#aa113a4ed33f3e18fd6e7c4632652db30" title="Maps column names to fields, if &quot;as&quot; is used. ">PtcMapper::$_map</a> like shown in the following example: </p>
<div class="fragment"><div class="line">    <span class="keyword">class </span>MY_Table <span class="keyword">extends</span> <a class="code" href="class_ptc_mapper.html">PtcMapper</a></div>
<div class="line">{</div>
<div class="line">    <span class="comment">// MAP FIELD NAMES IF &quot;AS&quot; IS USED IN A SELECT QUERY</span></div>
<div class="line">    <span class="keyword">protected</span> <span class="keyword">static</span> $_map = array( <span class="stringliteral">&#39;column_name&#39;</span> =&gt; <span class="charliteral">&#39;i&#39;</span> ); </div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// using &quot;as&quot; with the select( ) method from the query builder</span></div>
<div class="line">MY_Table::select( <span class="stringliteral">&#39;column_name as i&#39;</span> )</div>
<div class="line">    -&gt;where( <span class="stringliteral">&#39;some_column&#39;</span> , <span class="stringliteral">&#39;!=&#39;</span> ,<span class="stringliteral">&#39;some value&#39;</span> )</div>
<div class="line">    -&gt;run( );</div>
</div><!-- fragment --><p> <br/>
 </p>
<hr/>
 <h1><a class="anchor" id="using_observers"></a>
Using Observer Events</h1>
<p>The <a class="el" href="class_ptc_mapper.html">PtcMapper</a> component can be used with the <a class="el" href="class_ptc_event.html">PtcEvent</a> class, to add event observers to the queries. <br/>
<br/>
 Here follows a list with all event observers and possible arguments, when they are fired: </p>
<ul>
<li>
<b>inserting</b> ( <code>&amp;$values</code> ), called before row insert </li>
<li>
<b>inserted</b> ( <code>&amp;$values</code> , <code>$result</code> ), called after row insert </li>
<li>
<b>updating</b> ( <code>&amp;$values</code> ), called before row update </li>
<li>
<b>updated</b> ( <code>&amp;$values</code> , <code>$result</code> ), called after row update </li>
<li>
<b>saving</b> ( <code>&amp;$values</code> ), called before row insert and update </li>
<li>
<b>saved</b> ( <code>&amp;$values</code> , <code>$result</code> ), called after row insert and update </li>
<li>
<b>deleting</b> ( <code>&amp;$values</code> ), called before row delete </li>
<li>
<b>deleted</b> ( <code>&amp;$values</code> , <code>$result</code> ), called after row delete </li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Observer events are fired even if the query result was not sucessfull, the check needs to be done manually with the <code>"$result"</code> parameter.</dd></dl>
<p>To use these observer events, add them as static methods to your class: </p>
<div class="fragment"><div class="line"><span class="keyword">class </span>myObserver</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// observer example</span></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> saved( $data , $result )</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// do some stuff here after save( ) is called</span></div>
<div class="line">        <span class="keywordflow">if</span> ( $result )</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// log the query values </span></div>
<div class="line">            var_dump( $data );</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p> Observers can be registered with the <a class="el" href="class_ptc_mapper.html#a401586db615ace84e0bc26433e3066bf" title="Adds observers to the class to use event listeners with the queries. ">PtcMapper::observe( )</a> method: </p>
<div class="fragment"><div class="line"><span class="comment">// register our class as observer</span></div>
<div class="line">MY_Table::observe( <span class="stringliteral">&#39;myObserver&#39;</span> );</div>
</div><!-- fragment --><p> <br/>
 </p>
<hr/>
 <h1><a class="anchor" id="add_opts_on_initliaz"></a>
Adding Options On Initialization</h1>
<p>To add options on on initliazation, use the <code>boot( )</code> method, like shown in the next example: </p>
<div class="fragment"><div class="line"><span class="keyword">class </span>MY_Table <span class="keyword">extends</span> <a class="code" href="class_ptc_mapper.html">PtcMapper</a></div>
<div class="line">{</div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> boot( )</div>
<div class="line">    {</div>
<div class="line">        static::observe( <span class="stringliteral">&#39;myObserver&#39;</span> ); <span class="comment">// registering observer events on initalization</span></div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p> <br/>
 </p>
<hr/>
 <h1><a class="anchor" id="change_connection"></a>
Specify Connection To Use</h1>
<p>By default the <a class="el" href="class_ptc_mapper.html">PtcMapper</a> component uses the <code>"default"</code> connection from the <a class="el" href="class_ptc_db.html">PtcDb</a> component. <br/>
 To specify a different connection, use the <a class="el" href="class_ptc_mapper.html#a4d21481b60edd9052056451e80ceab4a" title="Connection name to be used property. ">PtcMapper::$_connectionName</a> property to specify the connection to use: </p>
<div class="fragment"><div class="line"><span class="keyword">class </span>MY_Table <span class="keyword">extends</span> <a class="code" href="class_ptc_mapper.html">PtcMapper</a></div>
<div class="line">{</div>
<div class="line">    <span class="keyword">protected</span> <span class="keyword">static</span> $_connectionName =<span class="stringliteral">&#39;your connection name&#39;</span>;</div>
<div class="line">}</div>
</div><!-- fragment --><p> <br/>
 </p>
<hr/>
 <h1><a class="anchor" id="specifyUniqueKey"></a>
Specify Unique Key</h1>
<p>By default the <a class="el" href="class_ptc_mapper.html">PtcMapper</a> uses the string <code>"id"</code> to identify the primary key for the table. <br/>
 To specify a different column name, use the <a class="el" href="class_ptc_mapper.html#aa9a412a107f262491cadcd183d55776d" title="Unique row identifier column name. ">PtcMapper::$_uniqueKey</a> property: </p>
<div class="fragment"><div class="line">    <span class="keyword">class </span>MY_Table <span class="keyword">extends</span> <a class="code" href="class_ptc_mapper.html">PtcMapper</a></div>
<div class="line">{</div>
<div class="line">    <span class="keyword">protected</span> <span class="keyword">static</span> $_uniqueKey =<span class="stringliteral">&#39;yourKey&#39;</span>;</div>
<div class="line">}</div>
</div><!-- fragment --><p> <br/>
 </p>
<hr/>
 <h1><a class="anchor" id="specifyEventClass"></a>
Specify Event Class</h1>
<p>To specify a different name for the event class, use the static property <a class="el" href="class_ptc_mapper.html#ac0493ff3b1dd9f76fa9b65069a3c3bc0" title="Event class name property. ">PtcMapper::$_eventClass</a>, inside your extend class: </p>
<div class="fragment"><div class="line">    <span class="keyword">class </span>MY_Table <span class="keyword">extends</span> <a class="code" href="class_ptc_mapper.html">PtcMapper</a></div>
<div class="line">{</div>
<div class="line">    <span class="keyword">protected</span> <span class="keyword">static</span> $_eventClass =<span class="stringliteral">&#39;yourEventClassName&#39;</span>;</div>
<div class="line">}</div>
</div><!-- fragment --><p> <br/>
 </p>
<hr/>
 <h1><a class="anchor" id="specifyConnectionManagerClass"></a>
Specify Connection Manager Class</h1>
<p>To specify a different name for the event class, use the static property <a class="el" href="class_ptc_mapper.html#a7d430c96b9167cf652fcd61b7a3b92fd" title="Connection Manager class name property. ">PtcMapper::$_connectionManager</a>, inside your extend class: </p>
<div class="fragment"><div class="line">    <span class="keyword">class </span>MY_Table <span class="keyword">extends</span> <a class="code" href="class_ptc_mapper.html">PtcMapper</a></div>
<div class="line">{</div>
<div class="line">    <span class="keyword">protected</span> <span class="keyword">static</span> $_connectionManager =<span class="stringliteral">&#39;connectionManagerName&#39;</span>;</div>
<div class="line">}</div>
</div><!-- fragment --><p> <br/>
 </p>
<hr/>
 <h1><a class="anchor" id="using_boot"></a>
Adding Options On Initialization</h1>
<p>To add options on initialization, add the method <code>boot( )</code> statically to your extended class: </p>
<div class="fragment"><div class="line">    <span class="keyword">class </span>MY_Table <span class="keyword">extends</span> <a class="code" href="class_ptc_mapper.html">PtcMapper</a></div>
<div class="line">{</div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> boot( )</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// do something on initialization</span></div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p> <br/>
 <br/>
 </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
 <!-- start footer part -->
	<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
		<ul>
			<li class="navelem"><a class="el" href="index.html">User Guides</a></li>
			<li class="footer">Generated on Sat Dec 7 2013 00:01:11 for PhpToolCase by
				<a href="http://www.doxygen.org/index.html">
				<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.5 
			</li>
		</ul>
	</div>
	<!-- Start of StatCounter Code for Default Guide -->
	<script type="text/javascript">
	var sc_project=7779914; 
	var sc_invisible=1; 
	var sc_security="4a86be8b"; 
	</script>
	<script type="text/javascript"
	src="http://www.statcounter.com/counter/counter.js"></script>
	<noscript><div class="statcounter"><a title="tumblr page
	counter" href="http://statcounter.com/tumblr/"
	target="_blank"><img class="statcounter"
	src="http://c.statcounter.com/7779914/0/4a86be8b/1/"
	alt="tumblr page counter"></a></div></noscript>
	<!-- End of StatCounter Code for Default Guide -->
</body>
</html>